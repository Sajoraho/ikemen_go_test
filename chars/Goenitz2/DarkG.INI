;´ÙÅ© °Ô´ÖÃ÷(Dark Geonitz.)
[Statedef 300]
type     = A
movetype = A
physics  = A
juggle   = 4
poweradd = 50
ctrl     = 0
anim     = 300
sprpriority = 1

[State 300]
type = HitDef
trigger1 = time = 0
attr = A, NT
priority = 7, Miss
sparkno = -1
hitsound   = -1;s0,0
p1sprpriority = 1
p2sprpriority = 0
p1facing    = ifelse(command="holdfwd",1,ifelse(command="holdback",-1,1))
p2facing = 1
p1stateno = 301
p2stateno = 302
guard.dist = 0
fall = 1

[State 300, 6]
type = Null;ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[Statedef 301]
type     = A
movetype = A
physics  = N
poweradd = 10
anim = 301

[State 341]
type = PlaySnd
trigger1 = time =  0
value = 3,0
channel = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 341]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 341]
type = TargetBind
trigger1 = AnimElemTime(1) >= 0 && AnimElemTime(4) < 0
pos = 30,-10

[State 860]
type = TargetLifeAdd
trigger1 = AnimElem = 4
value = (floor(-150*fvar(12)))-150
absolute = 1

[State 301, 6]
type = targetstate
trigger1 = AnimElem = 4
value = 303

[State 301]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3,1
channel = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 5210, 2]
type = VelSet
trigger1 = animelem = 5
x = -1.2
y = -5.4

[State 322, 2]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 2,3

[State 322, 3]
type = PlaySnd
trigger1 = animelem = 4
value = var(2),15
channel = 0

[State 301]
type = VelAdd
trigger1 = AnimElemTime(5) >= 1
y = 0.4

[State 301]
type= Changestate
trigger1= Pos Y>=0&&Vel Y>0
value= 52
ctrl= 1

;---------------------------------------------------------------------------
[Statedef 302]
type     = A
movetype = H
physics  = N
poweradd = 0

[State 332, 3]
type = ChangeAnim2
trigger1 = time >= 0
value = 302

;---------------------------------------------------------------------------
[Statedef 303]
type     = A
movetype = H
physics  = N
poweradd = 0
sprpriority = -1

[State 332, 3]
type = ChangeAnim2
trigger1 = time >= 0
value = 303

[State 871]
type = VelSet
trigger1 = Time = 0
x = ifelse(p2dist x <= 0,24,-24)
y = 24

[State 871]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

[Statedef 850]
type    = S
physics = S
movetype= A
anim = 850
ctrl = 0
juggle = 10
velset = 0,0
facep2 = 1
poweradd = 180

[State 850, world]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 5
value = 870

[State 800, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 2,5
volume = 0
channel = 0

[State 800, 1.2]
type = Playsnd
trigger1 = Animelem = 7, = 1
value = 0,29
volume = 80
channel = 20

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 800, 2.1]
type = Projectile
trigger1 = var(57) < 5
trigger1 = animelem = 7, = 1
ProjID = 850
projanim = 810
projhitanim = 811
projremanim = 812
projcancelanim = 811
projremovetime = 33
projedgebound = 200
projpriority = 10
projsprpriority = 5
offset = 55, 1
postype = p1
attr = S, SP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 100, 5
pausetime = 0, 0
guard.pausetime = 0, 6
sparkno = -1
guard.sparkno = S8060
sparkxy = 20, -78
hitsound = S1, 27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10
sprpriority = 3
p2stateno = 830
p2getp1state = 1
getpower = 300, 240
givepower = 150, 260
fall = 1
fall.recover = 1
persistent = 0

[State 800, 3]
type = Helper
trigger1 = var(57) >= 5
trigger1 = Animelem = 7, = 1
stateno = 1090
pos = 60,0
name = "Twister"
id = 1090
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 800, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 650]
type    = A
physics = N
movetype= I
anim = 650
ctrl = 0
velset = 0,0
sprpriority = 0

[state a]
type = varset
trigger1 = var(9) = 1
trigger1 = time = 0
var(1) = ifelse(power>=1000,2,0)

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "a"
trigger1 = prevstateno != 650
var(1) = 0

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "b"
trigger1 = prevstateno != 650
var(1) = 1

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "c"
trigger1 = prevstateno != 650
var(1) = 2

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "a"
var(1) = 0

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "b"
var(1) = 1

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "c"
var(1) = 2

[State 650,power]
type = PowerAdd
trigger1 = var(1) = 2
trigger1 = time = 1
value = -1000

[State 13000, 1]
type = Superpause
trigger1 = var(1) = 2
trigger1 = animelem = 1, = 1
anim = -1
time = 30
movetime = 0
darken = 0

[State 3100]
type = EnvColor
trigger1 = var(1) = 2
trigger1 = animelem = 1, = 1
value = 255,255,255
time = 3
under = 1

[State 3100, 1.2]
type = Explod
trigger1 = var(1) = 2
trigger1 = animelem = 1, = 1
anim = 8650
pos = 0,-80
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 999

[State 3100, 1.3]
type = playsnd
trigger1 = var(1) = 2
trigger1 = animelem = 1, = 1
value = 0,48
volume = -80

[State 650, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 650, 1.1]
type = Playsnd
trigger1 = var(1) = [0,1]
trigger1 = time = 0
value = 2,ifelse(var(2) = 0,2,16)
channel = 1

[State 3100, 1.4]
type = playsnd
trigger1 = var(1) = 2
trigger1 = time = 0
value = 2,19
channel = 1

[State 650, 1]
type = helper
trigger1 = var(1) = 0
trigger1 = Animelem = 6
name = "windmill"
ID = 670
pos = 0,-80
postype = p1
stateno = 670
ownpal = 1

[State 650, 1.2]
type = helper
trigger1 = var(1) = 1
trigger1 = Animelem = 6
name = "windmill"
ID = 670
pos = 0,-80
postype = p1
stateno = 671
ownpal = 1

[State 650, 1.3];EX
type = helper
trigger1 = var(1) = 2
trigger1 = Animelem = 6
name = "windmill"
ID = 680
pos = 0,-80
postype = p1
stateno = 680
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9

[State 650]
type = NotHitBy
trigger1 = 1
value = SCA,NA,ST,HP

[State 650, 5]
type = ChangeState
trigger1 = animtime = 0
value = 651

[StateDef 651]
type     = A
movetype = I
physics  = N
juggle   = 0
velset   = 0,0
ctrl     = 0
anim     = 10002
poweradd = 0
sprpriority = 0

[State 651]
type = Posadd
trigger1 = NumHelper(670) = 0
trigger1 = NumHelper(671) = 0
x = ceil(P2Dist X) - 40

[State 651]
type = Posset
trigger1 = 1
y = 0

[State 651]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,1

[State 651]
type = Turn
trigger1 = P2Dist x <= 0
ignorehitpause = 1

[State 651]
type = ChangeState
trigger1 = NumHelper(670) = 0
trigger1 = time >= 80
trigger2 = NumHelper(671) = 0
trigger2 = time >= 100
value = 652

[Statedef 652]
type    = S
physics = N
movetype= A
anim = 651
ctrl = 0

[State 652, 2];Play sound when landing
type = PlaySnd
trigger1 = Time = 0
value = 0,2
volume = -80

[State 3151, 3]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Yonokaze (Twister) - Type B
[Statedef 851]
type    = S
physics = S
movetype= A
anim = 850
ctrl = 0
juggle = 10
velset = 0,0
facep2 = 1
poweradd = 180

[State 850, world]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 5
value = 870

[State 801, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 2,5
volume = 0
channel = 0

[State 800, 1.2]
type = Playsnd
trigger1 = Animelem = 7, = 1
value = 0,29
volume = 80
channel = 20

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 800, 2.1]
type = Projectile
trigger1 = var(57) < 5
trigger1 = animelem = 7, = 1
ProjID = 850
projanim = 810
projhitanim = 811
projremanim = 812
projcancelanim = 811
projremovetime = 33
projedgebound = 200
projpriority = 10
projsprpriority = 5
offset = 105, 1
postype = p1
attr = S, SP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 100, 5
pausetime = 0, 0
guard.pausetime = 0, 6
sparkno = -1
guard.sparkno = S8060
sparkxy = 20, -78
hitsound = S1, 27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10
sprpriority = 3
p2stateno = 830
p2getp1state = 1
getpower = 300, 240
givepower = 150, 260
fall = 1
fall.recover = 1
persistent = 0

[State 800, 3]
type = Helper
trigger1 = var(57) >= 5
trigger1 = Animelem = 7, = 1
stateno = 1090
pos = 110,0
name = "Twister"
id = 1090
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 801, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Yonokaze (Twister) - Type C
[Statedef 852]
type    = S
physics = S
movetype= A
anim = 850
ctrl = 0
juggle = 10
velset = 0,0
facep2 = 1
poweradd = 180

[State 850, world]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 5
value = 870

[State 802, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 2,5
volume = 0
channel = 0

[State 800, 1.2]
type = Playsnd
trigger1 = Animelem = 7, = 1
value = 0,29
volume = 80
channel = 20

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 800, 2.1]
type = Projectile
trigger1 = var(57) < 5
trigger1 = animelem = 7, = 1
ProjID = 850
projanim = 810
projhitanim = 811
projremanim = 812
projcancelanim = 811
projremovetime = 33
projedgebound = 200
projpriority = 10
projsprpriority = 5
offset = 155, 1
postype = p1
attr = S, SP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 100, 5
pausetime = 0, 0
guard.pausetime = 0, 6
sparkno = -1
guard.sparkno = S8060
sparkxy = 20, -78
hitsound = S1, 27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10
sprpriority = 3
p2stateno = 830
p2getp1state = 1
getpower = 300, 240
givepower = 150, 260
fall = 1
fall.recover = 1
persistent = 0

[State 800, 3]
type = Helper
trigger1 = var(57) >= 5
trigger1 = Animelem = 7, = 1
stateno = 1090
pos = 160,0
name = "Twister"
id = 1090
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 802, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Yonokaze (Twister) - Type D
[Statedef 853]
type    = S
physics = S
movetype= A
anim = 850
ctrl = 0
juggle = 10
velset = 0,0
facep2 = 1
poweradd = 180

[State 850, world]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 5
value = 870

[State 803, 1.1]
type = Playsnd
trigger1 = Animelem = 1
value = 2,5
volume = 0
channel = 0

[State 800, 1.2]
type = Playsnd
trigger1 = Animelem = 7, = 1
value = 0,29
volume = 80
channel = 20

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 800, 2.1]
type = Projectile
trigger1 = var(57) < 5
trigger1 = animelem = 7, = 1
ProjID = 850
projanim = 810
projhitanim = 811
projremanim = 812
projcancelanim = 811
projremovetime = 33
projedgebound = 200
projpriority = 10
projsprpriority = 5
offset = 205, 1
postype = p1
attr = S, SP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 100, 5
pausetime = 0, 0
guard.pausetime = 0, 6
sparkno = -1
guard.sparkno = S8060
sparkxy = 20, -78
hitsound = S1, 27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -10
sprpriority = 3
p2stateno = 830
p2getp1state = 1
getpower = 300, 240
givepower = 150, 260
fall = 1
fall.recover = 1
persistent = 0

[State 800, 3]
type = Helper
trigger1 = var(57) >= 5
trigger1 = Animelem = 7, = 1
stateno = 1090
pos = 210,0
name = "Twister"
id = 1090
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 803, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------
; Hit by Yonokaze (Twister)
[Statedef 830]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,-10

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = changeanim2
trigger1 = time <= 2
value = 820

[State 820, 2]
type = Posfreeze
trigger1 = time <= 2

[State 820, 3.1];access this always
type = velset
trigger1 = time = 0
x = -5.5
ignorehitpause = 1

[State 820, 3.2];access this if not facing opponent
type = velset
trigger1 = time >= 0
trigger1 = time <= 2
trigger1 = (p2dist x < 0.1 && p2name = "Goenitz")
x = 5.5
ignorehitpause = 1

[State 820, 3.3];Gravity
type = veladd
trigger1 = time > 2
y = .6

[State 820, 3.4]
type = Posadd
trigger1 = time = 0
y = -60

[State 820, 4]
type = Nothitby
trigger1 = 1
value2 = SCA
ignorehitpause = 1

[State 820, 5]
type = Selfstate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100
ignorehitpause = 1

;Creaser channel
[Statedef 1060]
type    = S
physics = S
movetype= I
anim = 9400;903
ctrl = 0
velset = 0,0
facep2 = 1

[State 1060]
type = SprPriority
trigger1 = 1
value = 1

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "x"
trigger1 = prevstateno != 1060
var(1) = 0

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "y"
trigger1 = prevstateno != 1060
var(1) = 1

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "z"
trigger1 = prevstateno != 1060
var(1) = 2

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "x"
var(1) = 0

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "y"
var(1) = 1

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "z"
var(1) = 2

[State 900, 1.1]
type = Playsnd
trigger1 = time = 5
value = 2,17
volume = 0
channel = 0

[State 9400, 1]
type = helper
trigger1 = var(1) = 0
trigger1 = Animelem = 7
name = "Leona"
ID = 1060
pos = 40,0
postype = p1
stateno = 1061
ownpal = 1

[State 9400, 1.2]
type = helper
trigger1 = var(1) = 1
trigger1 = Animelem = 7
name = "chris"
ID = 1070
pos = 80,0
postype = p1
stateno = 1070
ownpal = 1

[State 9400, 1.3];EX
type = helper
trigger1 = var(1) = 2
trigger1 = Animelem = 7
name = "shermie"
ID = 1080
pos = 70,0
postype = p1
stateno = 1080
ownpal = 1

[State 1080]
type = PowerAdd
trigger1 = var(1) = 2
trigger1 = Animelem = 7
value = -1000

[State 9400, 4]
type = Nothitby
trigger1 = time <= 3
value = SCA

[State 9400, 2]
type = Playsnd
trigger1 = animelem = 7
value = 0,31
volume = 0

[State 9400, 3];snap spark
type = Explod
trigger1 = animelem = 7
anim = 901
pos = 8,-132
ontop = 1
ownpal = 1

[State 9400, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1061]
type    = S
physics = N
movetype= A
anim = 1920
ctrl = 0
velset = 0,0
sprpriority = 1

[State 9401, 3]
type = Playsnd
trigger1 = helper(2910), var(10) = 0
trigger1 = time = 0
value = 3,2
volume = 0

[State 9402, 3.1]
type = velset
trigger1 = animelem = 6
x = 7

[State 9402, 3.2]
type = velset
trigger1 = animelem = 13
x = 0

[State 9402, 4]
type = Hitdef
trigger1 = animelem = 6
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = ceil(root,fvar(12)*200+(ifelse(numhelper(2910)>=1,100/1.5,100))), 5
pausetime = 6, 14
guard.pausetime = 6, 14
sparkno = S8020
guard.sparkno = S8050
sparkxy = -8, -35
hitsound = S0, 22
guardsound = S0, 26
ground.type = low
air.type = low
ground.slidetime = 21
guard.slidetime = 21
ground.hittime = 22
guard.hittime = 22
air.hittime = 0
guard.ctrltime = 15
ground.velocity = 0
guard.velocity = 0
air.velocity = -3.7, -5
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = -1
air.fall = 1
fall.recover = 0
givepower = 50, 30
ID = 9400
kill = ifelse(numhelper(2910)>=1,0,1)

[State 9402, 6]
type = playerpush
trigger1 = 1
value = 0

[State 9402, 7.1]
type = ChangeState
trigger1 = movehit
value = 1062

[State 9402, 7.2]
type = DestroySelf
trigger1 = AnimTime = 0

; Killer Touch(Striker Leona) - Hitted
[Statedef 1062]
type    = S
physics = N
movetype= A
anim = 1921
ctrl = 0
velset = 0,0

[State 9410, 1.1]
type = posadd
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
x = 25

[State 9410, 1.2]
type = posadd
triggerall = P2BodyDist X >= -50
trigger1 = animelem = 5, = 5
trigger2 = animelem = 5, = 7
trigger3 = animelem = 5, = 9
x = 18

[State 9410, 1.3]
type = posadd
trigger1 = animelem = 6
trigger2 = animelem = 6, = 3
trigger3 = animelem = 6, = 6
x = 8

[State 9410, 3]
type = playerpush
trigger1 = 1
value = 0

[State 9410, 4]
type = Hitdef
trigger1 = animelem = 6
attr = S, SA
hitflag = MA
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 0, 3
guard.pausetime = 0, 12
sparkno = S8030
guard.sparkno = S8060
sparkxy = 10, -35
hitsound = S0, 49
guardsound = S0, 26
ground.type = low
air.type = low
guard.slidetime = 21
guard.hittime = 22
air.hittime = 0
guard.ctrltime = 15
guard.velocity = -7
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
sprpriority = -1
givepower = 100, 60
palfx.time = 50
palfx.sinadd = 48,50,32,16
palfx.add = 224,88,0
ChainID = 9400
p2stateno = 9420

[State 9410, 5.1];dust
type = Explod
trigger1 = animelem = 5, = 5
anim = 8150
pos = 18,-12
bindtime = 1
ontop = 1
ownpal = 1

[State 9410, 5.2];small explod
type = Explod
trigger1 = animelem = 6
anim = 9450
pos = -100,-20
bindtime = 1
ontop = 1
ownpal = 1

[State 9410, 5.3];small explod
type = Explod
trigger1 = animelem = 6
anim = 9450
pos = -70,-30
bindtime = 1
ontop = 1
ownpal = 1

[State 9410, 5.4];big explod
type = Explod
trigger1 = animelem = 6
anim = 9451
pos = -82,-8
bindtime = 1
ontop = 1
ownpal = 1

[State 9410, 5.5];big explod
type = Explod
trigger1 = animelem = 6
anim = 9451
pos = -92,-42
bindtime = 1
ontop = 1
ownpal = 1

[State 9410, 6]
type = Null;playsnd
trigger1 = animelem = 6
value = 0,47
volume = 0

[State 9410, 7]
type = helper
trigger1 = movehit
name = "Spark Effect"
ID = 9450
pos = 0,0
postype = p1
stateno = 9450
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 9410, 8]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 1070]
type = S
movetype = A
physics = N
anim = 1930
poweradd = 0
velset = 0
ctrl = 0

[State 1070]
type = SprPriority
trigger1 = 1
value = 1

[State 1930, 1]
type = Null;PosAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 9
trigger3 = AnimElem = 10
x = 8

[State 1930, 2]
type = Playsnd
trigger1 = helper(2910), var(10) = 0
trigger1 = time = 0
value = 3,2
volume = 0

[State 1930, 2]
type = PlaySnd
trigger1 = AnimElem = 18
trigger2 = AnimElem = 19, = 7
trigger3 = AnimElem = 21, = 1
value = 3,4

[State 1930, 3]
type = Projectile
trigger1 = AnimElem = 17, = 1
projanim = 1931
ProjID = 1931
offset = 99,-48
projremove = 0
projremovetime = 20
projshadow = 68,68,68
attr = S, SP
damage = ceil(root,fvar(12)*100+(ifelse(numhelper(2910)>=1,40/1.5,40))),10
animtype = Hard
hitflag = MA
guardflag = MA
sparkno = S8030
guard.sparkno = S8060
sparkxy = -10,0
hitsound = S3,5
guardsound = S0,26
pausetime = 0,12
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -10
air.velocity = -3,-3
palfx.time = 16
palfx.add = 32,0,64
palfx.mul = 192,192,300
palfx.sinadd = 32,5,5,8
kill = ifelse(numhelper(2910)>=1,0,1)

[State 1930, 4]
type = Projectile
trigger1 = AnimElem = 19, = 6
projanim = 1931
ProjID = 1932
offset = 131,-48
projremove = 0
projremovetime = 20
projshadow = 68,68,68
attr = S, SP
damage = ceil(root,fvar(12)*100+(ifelse(numhelper(2910)>=1,40/1.5,40))),10
animtype = Hard
hitflag = MA
guardflag = MA
sparkno = S8030
guard.sparkno = S8060
sparkxy = -10,0
hitsound = S3,5
guardsound = S0,26
pausetime = 0,12
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -10
air.velocity = -3,-3
palfx.time = 16
palfx.add = 32,0,64
palfx.mul = 192,192,300
palfx.sinadd = 32,5,5,8
kill = ifelse(numhelper(2910)>=1,0,1)

[State 1930, 5]
type = Projectile
trigger1 = AnimElem = 21
projanim = 1931
ProjID = 1933
offset = 163,-48
projremove = 0
projremovetime = 20
projshadow = 68,68,68
attr = S, SP
damage = ceil(root,fvar(12)*100+(ifelse(numhelper(2910)>=1,40/1.5,40))),10
animtype = Hard
hitflag = MA
guardflag = MA
sparkno = S8030
guard.sparkno = S8060
sparkxy = -10,0
hitsound = S3,5
guardsound = S0,26
pausetime = 0,12
ground.hittime = 20
ground.type = high
ground.slidetime = 20
ground.velocity = -10
air.velocity = -3,-3
palfx.time = 16
palfx.add = 32,0,64
palfx.mul = 192,192,300
palfx.sinadd = 32,5,5,8
kill = ifelse(numhelper(2910)>=1,0,1)

[State 7000, 7]
type = Null;Explod
triggerall = NumExplod(3100) < 6
triggerall = Random < 250
trigger1 = ProjHit7000 = 1, < 15
trigger2 = ProjHit7001 = 1, < 15
trigger3 = ProjHit7002 = 1, < 15
anim = 3100
ID = 3100
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 7000, 8]
type = Null;Explod
triggerall = NumExplod(3100) < 6
triggerall = Random < 300
trigger1 = ProjHit7000 = 1, < 15
trigger2 = ProjHit7001 = 1, < 15
trigger3 = ProjHit7002 = 1, < 15
anim = 3110
ID = 3100
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 7000, 9]
type = Null;Explod
triggerall = NumExplod(3100) < 6
triggerall = Random < 450
trigger1 = ProjHit7000 = 1, < 15
trigger2 = ProjHit7001 = 1, < 15
trigger3 = ProjHit7002 = 1, < 15
anim = 3120
ID = 3100
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 7000, 10]
type = Null;Explod
triggerall = NumExplod(3100) < 6
triggerall = Random < 500
trigger1 = ProjHit7000 = 1, < 15
trigger2 = ProjHit7001 = 1, < 15
trigger3 = ProjHit7002 = 1, < 15
anim = 3130
ID = 3100
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 7000, 11]
type = Null;Explod
triggerall = NumExplod(3100) < 6
triggerall = Random < 500
trigger1 = ProjHit7000 = 1, < 15
trigger2 = ProjHit7001 = 1, < 15
trigger3 = ProjHit7002 = 1, < 15
anim = 3140
ID = 3100
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 7000, 12]
type = Null;Explod
triggerall = NumExplod(3100) < 6
triggerall = Random < 500
trigger1 = ProjHit7000 = 1, < 15
trigger2 = ProjHit7001 = 1, < 15
trigger3 = ProjHit7002 = 1, < 15
anim = 3150
ID = 3100
sprpriority = 5
postype = p2
pos = 0,-50
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 1930, 13]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 1080]
type = S
movetype = A
physics = S
anim = 1080
velset = 0,0
ctrl = 0

[State 1080]
type = SprPriority
trigger1 = 1
value = 1

[State 2910]
type = turn
trigger1 = helper(2910), var(10) = 1
trigger1 = time = 0

[State 3200, 1]
type = Null;PowerAdd
trigger1 = time = 0
value = -1000

[State 1930, 2]
type = Playsnd
trigger1 = helper(2910), var(10) = 0
trigger1 = time = 0
value = 3,2
volume = 0

[State 1080, 1]
type = Null;SuperPause
trigger1 = AnimElem = 4
time = 28
anim = -1
sound = -1
movetime = 28
unhitable = 1

[State 1080]
type = EnvColor
trigger1 = helper(2910), var(10) = 0
trigger1 = time = 17
value = 255,255,255
time = 3
under = 1

[State 1080, 2]
type = Explod
trigger1 = helper(2910), var(10) = 0
trigger1 = Time = 17
anim = 8650
sprpriority = 7
postype = p1
pos = -59,-92
supermove = 28
ontop = 1
ownpal = 1

[State 1080, 3]
type = PlaySnd
trigger1 = helper(2910), var(10) = 0
trigger1 = Time = 17
value = 0,48

[State 1080, 4]
type = Explod
trigger1 = Time = 18
postype = p1
pos = -58,-300
anim = 1083
supermove = 28
sprpriority = 6

[State 1080, 4]
type = Explod
trigger1 = Time = 21;15
postype = p1
pos = -58,-91
anim = 1081
supermove = 28
sprpriority = 6

[State 1080, 5]
type = Explod
trigger1 = Time = 48;43
trigger2 = Time = 57;52
trigger3 = Time = 66;61
trigger4 = Time = 75;70
postype = p1
pos = 51,-78
sprpriority = 6
anim = 1082

[State 3200, 5]
type = PlaySnd
trigger1 = Time = 39;34
value = 3,9

[State 3200, 5]
type = Projectile
trigger1 = Time = 38;33
attr = A, HP
damage = ceil(root,fvar(12)*100+(ifelse(numhelper(2910)>=1,35/1.5,35))),9
animtype = Heavy
getpower = 0
givepower = 15,0
guardflag = M
hitflag = MA
pausetime = 0,11
sparkno = s8030
guard.sparkno = s8060
sparkxy = 0,0
hitsound = s3,10
guardsound = S0,26
ground.type = High
ground.slidetime = 18
ground.hittime = 18 
ground.velocity = -3,-8
air.velocity = -3,-8
guard.velocity = -8
air.hittime = 60
projanim = 1084
projhitanim = -1
velocity = 0
yaccel = 0.4
offset = 51,-78
projid = 3210
projpriority = 9999
juggle = 0
projremove = -1
palfx.time = 34
palfx.add = 0,0,0
palfx.sinadd = 0,0,0
palfx.color = 0
palfx.invertall = 1
projremovetime = 5
kill = ifelse(numhelper(2910)>=1,0,1)

[State 3200, 5]
type = Projectile
trigger1 = Time = 48;43
trigger2 = Time = 57;52
trigger3 = Time = 66;61
attr = A, HP
damage = ceil(root,fvar(12)*100+(ifelse(numhelper(2910)>=1,35/1.5,35))),9
animtype = Heavy
getpower = 0
givepower = 15,0
guardflag = M
hitflag = MAF
pausetime = 0,11
sparkno = s8030
guard.sparkno = s8060
sparkxy = 0,0
hitsound = s3,10
guardsound = -1;S0,26
ground.type = High
ground.slidetime = 18
ground.hittime = 18 
ground.velocity = -3,-8
air.velocity = -3,-8
guard.velocity = -8
air.hittime = 60
projanim = 1085
projhitanim = -1
velocity = 0
yaccel = 0.4
offset = 51,-78
projid = 3215
projpriority = 9999
juggle = 0
projremove = -1
palfx.time = 34
palfx.add = 0,0,0
palfx.sinadd = 0,0,0
palfx.color = 0
palfx.invertall = 1
projremovetime = 4
kill = ifelse(numhelper(2910)>=1,0,1)

[State 3200, 5]
type = Projectile
trigger1 = Time = 75;70
attr = A, HP
damage = ceil(root,fvar(12)*100+(ifelse(numhelper(2910)>=1,35/1.5,35))),9
animtype = Heavy
getpower = 0
givepower = 15,0
guardflag = M
hitflag = MA
pausetime = 0,11
sparkno = s8030
guard.sparkno = s8060
sparkxy = 0,0
hitsound = s3,10
guardsound = -1;S0,26
ground.type = High
ground.slidetime = 18
ground.hittime = 18 
ground.velocity = -3,-8
air.velocity = -3,-8
guard.velocity = -8
air.hittime = 60
projanim = 1085
projhitanim = -1
velocity = 0
fall = 1
air.fall = 1
fall.recover = 0
yaccel = 0.4
offset = 51,-78
projid = 3215
projpriority = 9999
juggle = 0
projremove = -1
palfx.time = 34
palfx.add = 0,0,0
palfx.sinadd = 0,0,0
palfx.color = 0
palfx.invertall = 1
projremovetime = 4
kill = ifelse(numhelper(2910)>=1,0,1)

[State 1080, 13]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 1300]
type    = S
physics = S
movetype= A
anim = 1300
ctrl = 0
juggle = 15
velset = 0,0
poweradd = 100

[State 800, 1.1]
type = Playsnd
trigger1 = Animelem = 3
value = 2,6
channel = 0

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 800, 3]
type = Helper
trigger1 = Animelem = 3
stateno = 1310
pos = -78,-10
name = "cutter"
id = 1310
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 800, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1301]
type    = S
physics = S
movetype= A
anim = 1301
ctrl = 0
juggle = 15
velset = 0,0
poweradd = 100

[State 800, 1.1]
type = Playsnd
trigger1 = Animelem = 3
value = 2,6
channel = 0

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 800, 3]
type = Helper
trigger1 = Animelem = 3
stateno = 1311
pos = -78,-10
name = "cutter"
id = 1311
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 800, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1302]
type    = S
physics = S
movetype= A
anim = 1302
ctrl = 0
juggle = 15
velset = 0,0
poweradd = 100

[State 800, 1.1]
type = Playsnd
trigger1 = Animelem = 3
value = 2,20
channel = 0

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 650]
type = NotHitBy
trigger1 = animelem = 5, < 0
value = SCA,NA,ST,HP
time = 1

[State 13000, 1]
type = Superpause
trigger1 = animelem = 3
anim = -1
time = 25
movetime = 0
poweradd = -1000
darken = 0

[State 3100]
type = EnvColor
trigger1 = animelem = 3
value = 255,255,255
time = 3
under = 1

[State 3100, 1.3]
type = playsnd
trigger1 = animelem = 3
value = 0,48
volume = -80

[State 3100, 1.2]
type = Explod
trigger1 = animelem = 3
anim = 8650
pos = 38,-88
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 999

[State 800, 3]
type = Helper
trigger1 = Animelem = 3, = 1
stateno = 1312
pos = -78,-10
name = "cutter"
id = 1312
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 800, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------
; Hit by Killer Touch(Striker Leona)
[Statedef 9420]
type    = S
physics = N
movetype= H
ctrl = 0

[State 9420, 1.1]
type = changeanim
trigger1 = time < 2
value = 5012

[State 9420, 1.2]
type = changeanim
trigger1 = time = 5
value = 5070

[State 9420, 2]
type = Posfreeze
trigger1 = time < 3

[State 9420, 3]
type = statetypeset
trigger1 = time = 5
value = A

[State 9420, 4.1]
type = velset
trigger1 = time = 5
y = -12

[State 9420, 4.2];gravity
type = veladd
trigger1 = time >= 5
y = .5

[State 9420, 4.3];access this always
type = velset
trigger1 = time = 0
x = -1.5

[State 9420, 4.4];access this if not facing opponent
type = velset
trigger1 = time = 0
trigger1 = p2dist x < 0.1
x = 1.5

[State 9420, 5]
type = Selfstate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100

;-------------------------------------------
; Killer Touch(Striker Leona) - Spark Effect
[Statedef 9450]
type    = S
physics = N
movetype= A
anim = 9999
ctrl = 0
velset = 0,0

[State 9450, 1]
type = Explod
triggerall = random < 800
triggerall = p2stateno = 9420
trigger1 = time = [3,5]
anim = 9453
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 9450, 2]
type = Explod
triggerall = random < 700
triggerall = (time%25) = 0
trigger1 = p2stateno = 9420
trigger2 = p2stateno = 5110
anim = 9452
pos = -20,-40
random = 50,50
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State 9450, 3];dust
type = Explod
trigger1 = (time%25) = 0
trigger1 = p2stateno = 5110
anim = 8150
pos = 0,-10
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State 9450, 4]
type = Explod
triggerall = random < 600
triggerall = p2stateno = 9420
trigger1 = time = [3,5]
anim = 9454
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 9450, 5];flame dust
type = Explod
trigger1 = p2stateno = 5100
anim = 9455
pos = 0,0
postype = p2
bindtime = 1
ontop = 1
ownpal = 1
persistent = 0

[State 9450, 6]
type = Explod
triggerall = random < 800
triggerall = p2stateno = 9420
trigger1 = time = [3,5]
anim = 9456
pos = 0,-50
random = 50,120
postype = p2
ontop = 1
ownpal = 1
bindtime = 1

[State 9450, 7]
type = Explod
triggerall = random < 700
triggerall = (time%20) = 0
trigger1 = p2stateno = 9420
anim = 9457
pos = -20,-40
random = 50,50
postype = p2
bindtime = 1
ontop = 1
ownpal = 1

[State 9450, 8]
type = Destroyself
trigger1 = p2Movetype != H
trigger2 = time = 80
trigger3 = time = [20,40]
trigger3 = p2stateno != 9420

;---------------------------------------------------------------------------
; Yonokaze (Twister)
[Statedef 1088]
type    = S
physics = S
movetype= A
anim = 851
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[State 850, world]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 5
value = 871

[State 1]
type = PowerAdd
trigger1 = time = 1
value = -1000

[State 600]
type = Helper
trigger1 = Animelem = 7
stateno = 1909
pos = 0,0
name = "koe"
postype = back
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 3100]
type = EnvColor
trigger1 = Animelem = 8
value = 255,255,255
time = 3
under = 1

[State 3100, 1.2]
type = Explod
trigger1 = Animelem = 8
anim = 8650
pos = 25,-128
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 999

[State 3100, 1.3];chime snd
type = playsnd
trigger1 = Animelem = 8
value = 0,48
volume = -80

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 13000, 1]
type = Superpause
trigger1 = Animelem = 8
anim = -1
time = 20
movetime = 20
darken = 0

[State 2910]
type = Helper
trigger1 = Animelem = 9
stateno = 1098
pos = 45,0
name = "Twister"
id = 1098
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State 2910]
type = Helper
trigger1 = var(57) >= 5
trigger1 = Animelem = 9
stateno = 1098
pos = 205,0
name = "Twister"
id = 1099
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999
facing = -1

[State 1102, 3]
type = Null;Projectile
trigger1 = Animelem = 7, = 1
ProjID = 860
projanim = 860
projremove = 0
velocity = 1
projhits = 100
projmisstime = 8
projremovetime = 164
projedgebound = 200
projpriority = 20
projsprpriority = 5
offset = 60, 0
postype = p1
attr = S, HP
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 15, 3
pausetime = 0,5
guard.pausetime = 0,5
sparkno = -1;s8020
guard.sparkno = S8060
sparkxy = 30,ceil(p2bodydist y-90)
hitsound   = s0,23
guardsound = s0,26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -2
ground.velocity = 0,-6
airguard.velocity = 0.5
air.velocity = 0,-5
sprpriority = 3
;p2stateno = 820
;p2getp1state = 1
;givepower = 100, 20
fall = 1
fall.recover = 0

[State 803, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1090]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1910

[State 1090]
type = velset
trigger1 = AnimElem = 4, = 3
x = 1

[State 723]
type = Posset
trigger1 = 1
y = 0

[State 800, 1.2]
type = Playsnd
trigger1 = time = 0
value = 0,37
volume = 80

[State 606]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 1900, 4]
type = Projectile
trigger1 = movecontact = 0
attr = S,HP
projanim = 1912
projid = 1912
offset = 0,0
projremovetime = 1
projedgebound = 210
projstagebound = 210
ignorehitpause = 1

[State 601]
type = HitDef
trigger1 = time = 0
attr = S, SP
animtype  = medium
getpower = 300, 240
givepower = 150, 260
damage    = 180,4
sprpriority = 15
priority = 4,Hit
guardflag = M
hitflag = MAF
pausetime = 0,8
sparkno = s4011
guard.sparkno = S8060
sparkxy = -10,ceil(p2bodydist y-50)
hitsound   = s1,27
guardsound = s0,26
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -1,-6
airguard.velocity = -3.5
air.slidetime = 15
air.velocity = 0,-6
air.juggle = 0
air.fall = 1
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;p2stateno = 830

[State 240, 4]
type = Explod
trigger1 = movehit > 0
anim = 7080
postype = p2
pos = 10,-20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999
facing = -1
ontop = 1
persistent = 0

[State 240, 5]
type = Targetstate
trigger1 = movehit > 0
value = 1091
persistent = 0

[State 601]
type = Null;envShake
trigger1 = time = 0
time = 120
ampl = -3
ignorehitpause = 1

[State 702]
type = NotHitBy
trigger1 = 1
value = SCA,NA,ST,HP
time = -1

[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State 601]
type = ChangeState
trigger1 = time = 50
trigger2 = FrontEdgeBodyDist < -40
value = 1921

;--------------------------
; Hit by Yonokaze (Twister)
[Statedef 1091]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,-12

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 820, 1]
type = changeanim2
trigger1 = time <= 2
value = 820

[State 820, 2]
type = Posfreeze
trigger1 = time <= 2

[State 820, 3.1];access this always
type = velset
trigger1 = time = 0
x = -5.5
ignorehitpause = 1

[State 820, 3.2];access this if not facing opponent
type = velset
trigger1 = time >= 0
trigger1 = time <= 2
trigger1 = (p2dist x < 0.1 && p2name = "Goenitz")
x = 5.5
ignorehitpause = 1

[State 820, 3.3];Gravity
type = veladd
trigger1 = time > 2
y = .6

[State 820, 3.4]
type = Posadd
trigger1 = time = 0
y = -60

[State 820, 5]
type = Selfstate
trigger1 = pos y >= -20
trigger1 = vel y > 0
value = 5100
ignorehitpause = 1

[Statedef 1098]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 1,0
anim = 860

[State 3150, 1]
type = ParentVarSet
triggerall = var(57) < 5
trigger1 = movehit > 0
fvar(1) = 0
ignorehitpause = 1
Persistent = 0

[State 1098]
type = velset
trigger1 = FrontEdgeDist >= -30
trigger1 = AnimElem = 4, = 3
x = 1.4

[State 1098]
type = velset
trigger1 = IsHelper(1098)
trigger1 = FrontEdgeDist < -30
x = -1.4
Persistent = 0

[State 1098]
type = Turn
trigger1 = IsHelper(1098)
trigger1 = FrontEdgeDist < -30
Persistent = 0

[State 723]
type = Null;Posset
trigger1 = 1
y = 0

[State 800, 1.2]
type = Playsnd
trigger1 = IsHelper(1098)
trigger1 = time = 0
value = 0,37
volume = 80

[State 606]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 1900, 4]
type = Projectile
trigger1 = movecontact = 0
attr = S,HP
projanim = 1912
projid = 1912
offset = 0,0
projremovetime = 1
projedgebound = 210
projstagebound = 210
ignorehitpause = 1

[State 601]
type = HitDef
trigger1 = TimeMod = 9, 0
attr = S, HP
animtype  = hard
getpower = 0,0
givepower = 0,0
damage    = 14,4
sprpriority = 15
priority = 5, Hit
guardflag = M
hitflag = MAF
pausetime = 0,5
sparkno = s8035;s8020
guard.sparkno = S8060
sparkxy = -20,ceil(p2bodydist y-70)
hitsound   = -1;s3,1
guardsound = s0,26
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-7
airguard.velocity = -3.5
air.slidetime = 20
air.velocity = 0,-5
air.juggle = 0
air.fall = 1
fall = 1
fall.recover = 0

[State 14000]
type = projectile
trigger1 = movehit
projID = 14000
projanim = 10002
projremovetime = 1
projedgebound = 1000
projstagebound = 1000
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999

[State 1910, Random]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State -2, 7.1];cross
type = Explod
trigger1 = var(2) = 0
trigger1 = movehit
anim = 7080
pos = -20,-55
postype = p2
vel = -.5
ontop = 1
ownpal = 1
;random = 40,35
pausemovetime = 999

[State -2, 7.1];cross
type = Explod
trigger1 = var(2) = 1
trigger1 = movehit
anim = 7080
pos = 20,-55
postype = p2
vel = -.5
ontop = 1
ownpal = 1
;random = 40,50
facing = -1
pausemovetime = 999

[State 601]
type = envShake
trigger1 = time = 0
time = 120
ampl = -3
ignorehitpause = 1

[State 702]
type = NotHitBy
trigger1 = 1
value = SCA,NA,ST,HP
time = -1

[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State 14110]
type = MoveHitReset
trigger1 = movecontact
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 601]
type = ChangeState
trigger1 = time = ceil(parent,fvar(12)*100+100)
;trigger2 = FrontEdgeBodyDist < -40
value = ifelse(var(57) >=5,1921,1911)

;The source from Wraith's warachia.
[Statedef 1900]
type     = S
movetype = A
physics  = S
juggle   = 15
velset   = 0,0
anim     = 1900;Normal
ctrl     = 0
sprpriority = 3

[State 1900, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = life <= 400
trigger1 = power >= 2000
value = 2900

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "x"
trigger1 = prevstateno != 1900
v = 1
value = 0

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "a"
trigger1 = prevstateno != 1900
v = 1
value = 1

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "y"
trigger1 = prevstateno != 1900
v = 1
value = 2

[state a]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "b"
trigger1 = prevstateno != 1900
v = 1
value = 3

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "x"
v = 1
value = 0

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "a"
v = 1
value = 1

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "y"
v = 1
value = 2

[state a]
type = varset
triggerall = var(9) = 0
trigger1 = time != 0
trigger1 = command = "b"
v = 1
value = 3

[State 1900]
type = varset
triggerall = var(9) = 0
triggerall = time = 0
trigger1 = command = "c"
var(10) = 1

[State 1900, A.I]
type = varset
trigger1 = var(9) = 1
trigger1 = time = 0
var(10) = 1

[State 1]
type = changeanim
triggerall = var(57) = [1,4]
trigger1 = time = 0
trigger1 = var(1) = 1
value = 1901

[State 1]
type = changeanim
triggerall = var(57) <= 4
trigger1 = time = 0
trigger1 = var(1) = 2
value = 1902

[State 1]
type = changeanim
triggerall = var(9) != 1
triggerall = var(57) <= 4
triggerall = time = 0
trigger1 = var(1) = 3
trigger2 = var(10) = 1
value = 1903

[State 3100, 3.1]
type = Nothitby
trigger1 = 1
trigger1 = var(57) >= 5
value = SCA

[State 3100, 1.2]
type = Explod
trigger1 = animelem = 8
anim = 8650
pos = 25,-130
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 999

[State 3100, 1.3]
type = playsnd
trigger1 = animelem = 8
value = 0,48
volume = -80

[State 3000]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,ST,HP
time = 1

[State 600]
type = Helper
trigger1 = animelem = 8
stateno = 1909
pos = 0,0
name = "koe"
postype = back
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 13000, 1]
type = Superpause
trigger1 = animelem = 8
anim = -1
time = 30
movetime = 0
poweradd = -1000
darken = 0

[State 3100]
type = EnvColor
trigger1 = animelem = 8
value = 255,255,255
time = 3
under = 1

[State 600]
type = Helper
trigger1 = animelem = 8, = 1
stateno = 1910
pos = 50,20
name = "blood1_1"
id = 1910
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
;size.xscale = 1.5
;size.yscale = 1.5

[State 3000, DD]
type = ChangeState
trigger1 = AnimTime = 0
value = 1901
ctrl = 0

[Statedef 2900]
type     = S
movetype = A
physics  = S
juggle   = 15
velset   = 0,0
anim     = 1901
ctrl     = 0
sprpriority = 2

[State 2900, 3.2]
type = Nothitby
trigger1 = 1
value = SCA

[State 3100, 1.2]
type = Explod
trigger1 = animelem = 8
anim = 8700
pos = 25,-130
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 999

[State 3100, 1.3]
type = playsnd
trigger1 = animelem = 8
value = 3,8
volume = -80

[State 3000]
type = NotHitBy
trigger1 = time >= 0
value = SCA,NA,ST,HP

[State 600]
type = Helper
trigger1 = animelem = 8
stateno = 1909
pos = 0,0
name = "koe"
postype = back
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 13000, 1]
type = Superpause
trigger1 = animelem = 8
anim = -1
time = 30
poweradd = -2000

[State 3100]
type = EnvColor
trigger1 = animelem = 8
value = 255,255,255
time = 3
under = 1

[State 2900]
type = BGPalfx
trigger1 = AnimElem = 8, >= 0
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 600]
type = Helper
trigger1 = AnimElem = 8, = 1
stateno = 2910
pos = 50,20
name = "Night"
id = 2910
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1
;SuperMoveTime = 9999
;PauseMoveTime = 9999

[State 3000, DD]
type = ChangeState
trigger1 = AnimTime = 0
value = 2901
ctrl = 0

[Statedef 1901]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 1904

[State 2902]
type = NotHitBy
trigger1 = var(57) >= 5
trigger1 = 1
value = SCA

[State 1901, Next]
type = ChangeState
triggerall = time >= 10
trigger1 = time >= 350
trigger2 = NumHelper(1910) <= 0
;trigger2 = NumHelper(1913) <= 0
value = 1902

[Statedef 1902]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 1905

[State 1902]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1902, Final]
type = ChangeState
trigger1 = AnimElem = 8;AnimTime = 0
value = 0
ctrl = 1

[Statedef 2901]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 1906

[State 1901]
type = BGPalfx
trigger1 = time >= 0
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 2902]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1901, End]
type = ChangeState
trigger1 = time >= 20
trigger1 = NumHelper(2910) <= 0
value = 1902

[State 1901, Next]
type = ChangeState
trigger1 = NumHelper(2910) >= 1
trigger1 = NumHelper(1913) >= 1
;trigger1 = NumHelper(2922) > 0 ;Success
value = 2902

[Statedef 2902]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 1905

[State 2902]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2902, Next]
type = ChangeState
trigger1 = AnimTime = 0
value = 2903

[Statedef 2903]
type    = S
movetype= I
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 1907

[State 2902]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1910]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 860
sprpriority = 8

[State 4, 1]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 723]
type = Posadd
trigger1 = parent,var(10) = 0
trigger1 = time = 0
x = 55*(parent,var(1))

[State 723]
type = Posadd
trigger1 = parent,var(10) = 1
trigger1 = time = 0
x = floor(P2Dist X-20)

[State 723]
type = Posset
trigger1 = 1
y = 0

[State 600]
type = PlaySnd
trigger1 = AnimElem = 3
value = s0,37

[State 606]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[state a]
type = playerpush
trigger1 = 1
value = 0

[state a]
type = posfreeze
trigger1 = 1
value = 1

[State 600]
type = PlaySnd
trigger1 = time = 0
value = 3,3
volume = 255

[State 1900, 4]
type = Projectile
trigger1 = movecontact = 0
attr = S,HP
projanim = 1912
projid = 1912
offset = 0,0
projremovetime = 1
projedgebound = 210
projstagebound = 210
ignorehitpause = 1

[State 601]
type = HitDef
trigger1 = parent, var(57) < 5
trigger1 = time < 120
trigger1 = TimeMod = 11, 0
attr = S, HP
animtype  = hard
getpower = 0,0
givepower = 0,0
damage    = ceil(parent,fvar(1)*6+10),4
sprpriority = 15
priority = 5, Hit
guardflag = M
hitflag = MAF
pausetime = 0,6
sparkno = s8035;s8020
guard.sparkno = S8060
sparkxy = -20,ceil(p2bodydist y-70)
hitsound   = s3,0
guardsound = s0,26
ground.type = Low
kill = 0
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
airguard.velocity = -3.5
air.slidetime = 20
air.velocity = 0,-6
air.juggle = 0
air.fall = 1
fall = 1
fall.recover = 0
;p2stateno = 10020
ID = 1999

[State 601, 2]
type = HitDef
trigger1 = parent, var(57) >= 5
trigger1 = time < 120
trigger1 = TimeMod = 11, 0
attr = S, HP
animtype  = hard
getpower = 0,0
givepower = 0,0
damage    = 0,10;ceil(parent,fvar(12)*10+10)
sprpriority = 15
priority = 5, Hit
guardflag = M
hitflag = MAF
pausetime = 0,6
sparkno = s8035;s8020
guard.sparkno = S8060
sparkxy = -20,ceil(p2bodydist y-70)
hitsound   = s3,0
guardsound = s0,26
ground.type = Low
kill = 0
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
airguard.velocity = -3.5
air.slidetime = 20
air.velocity = 0,-6
air.juggle = 0
air.fall = 1
fall = 1
fall.recover = 0
;p2stateno = 10020
ID = 1999

[State 6010]
type = TargetState
trigger1 = movehit
trigger1 = time < 120
trigger1 = Target(1999),stateno != [120,155]
ID = 1999
value = 10020
ignorehitpause = 1

[State 1910, 9.1];Special damage
type = TargetLifeadd
trigger1 = parent, var(57) >= 5
trigger1 = time < 120
trigger1 = TimeMod = 10, 0
value = (ceil(-12*parent,fvar(12)))-12
absolute = 1
kill = 0

[State 6010]
type = TargetState
trigger1 = time = 120
trigger1 = Target(1999),stateno != [120,155]
ID = 1999
value = 7106
ignorehitpause = 1

[State 1910, Random]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State -2, 7.1];cross
type = Explod
trigger1 = var(2) = 0
trigger1 = movehit
anim = 7080
pos = -20,-55
postype = p2
vel = -.5
ontop = 1
ownpal = 1
;random = 40,35
pausemovetime = 999

[State -2, 7.1];cross
type = Explod
trigger1 = var(2) = 1
trigger1 = movehit
anim = 7080
pos = 20,-55
postype = p2
vel = -.5
ontop = 1
ownpal = 1
;random = 40,50
facing = -1
pausemovetime = 999

[State 601]
type = envShake
trigger1 = TimeMod = 6, 0
time = 4
freq = 80
ampl = 7
ignorehitpause = 1

[State 3122, 2]
type = Envcolor
trigger1 = TimeMod = 6, 0
trigger1 = NumTarget(1999) > 0
trigger1 = Target(1999),isHelper = 0
trigger1 = Target(1999),stateno != [120,155]
value = 255,255,255
time = 2
under = 1
ignorehitpause = 1

[State 702]
type = NotHitBy
trigger1 = 1
value = SCA,NA,ST,HP
time = -1
ignorehitpause = 1

[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State 14110]
type = MoveHitReset
trigger1 = movecontact
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 601]
type = ChangeState
trigger1 = time = 120
trigger1 = NumTarget > 0
trigger1 = Target(1999),isHelper = 0
trigger1 = Target(1999),stateno != [120,155]
value = 1911
ignorehitpause = 1

[State 601]
type = ChangeState
trigger1 = NumTarget = 0 && time = 120
trigger2 = (Target,stateno = [120,155]) && time = 120
trigger3 = parent,stateno != [1900,1901]
value = 1921
ignorehitpause = 1

[Statedef 1911]
type = A
physics = N
movetype = I
VelSet = 0,0
Anim = 1911
sprpriority = 12

[State 600]
type = Helper
;trigger1 = var(12) = 1
triggerall = prevstateno != 1098
;triggerall = p2stateno = 7106
triggerall = time >= 50
trigger1 = enemyNear, Vel Y < 5
trigger2 = enemyNear, Pos Y >= -380
trigger2 = enemyNear, Vel Y = [5,9]
trigger3 = enemyNear, Pos Y >= -430
trigger3 = enemyNear, Vel Y > 9
id = 1913
stateno = 1913
pos = 0,0
name = "Smile"
postype = p2
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
Persistent = 0

[State a]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = Time >= 10
trigger2 = p2stateno != 7106

[Statedef 1921]
type = A
physics = N
movetype = I
VelSet = 0,0
Anim = 1911
sprpriority = 12

[State a]
type = DestroySelf
trigger1 = AnimElem = 9

[Statedef 1912]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,-20

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 4]
type = changeanim2
trigger1 = 1
value = anim
elem = animelemno(-1)

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 820, 3.3];Gravity
type = veladd
trigger1 = time >= 0
y = .3

[State 821, 4]
type = SelfState
trigger1 = time > 4
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1913]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 1913
SprPriority = 4

[State -1, NotHitBy]
Type = NotHitBy
Trigger1 = 1
Value = SAC, NT, ST, HT ,NA, SA, HA ,NP, SP, HP
Time = 1

[State -1, PosSet]
Type = PosSet
Trigger1 = Time = 0
Y = 20
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 600, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = s3,7

[state a]
type = posfreeze
trigger1 = 1
value = 1

[State 601]
type = HitDef
trigger1 = AnimElem = 8
attr = S, HP
animtype  = hard
getpower = 0,0
givepower = 0,0
damage    = 0,0
sprpriority = 15
priority = 3, Hit
guardflag = MA
hitflag = MAF
pausetime = 20,50
sparkno = -1;s4011
guard.sparkno = s8050
sparkxy = -20,ceil(p2bodydist y - 70)
hitsound   = s3,1
guardsound = s0,26
ground.type = low
kill = 1
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,-4
airguard.velocity = -3.5
air.velocity = 0,-2
air.juggle = 15
air.fall = 1
fall = 1
fall.recover = 0
envshake.time = 20
envshake.ampl = -7

[State 1913, target]
type = TargetState
trigger1 = movehit
value = 19130
ignorehitpause = 1
Persistent = 0

[State 1913, 9.1];Special damage
type = TargetLifeadd
trigger1 = movehit
value = (ceil(-170*root,fvar(12)))-170
absolute = 1
kill = 1
ignorehitpause = 1
Persistent = 0

[State 3111, 7.1];cross
type = Explod
trigger1 = movehit
anim = 7079
pos = -20,-40
postype = p2
vel = -.5
ontop = 1
ownpal = 1
pausemovetime = 999
ignorehitpause = 1
Persistent = 0

[State 3111, 7.2];cross
type = Explod
trigger1 = movehit
anim = 7079
pos = 20,-40
postype = p2
vel = -.5
ontop = 1
ownpal = 1
facing = -1
pausemovetime = 999
ignorehitpause = 1
Persistent = 0

[State 100, 2]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
ignorehitpause = 1

[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State -1, Varset]
Type = Varset
Trigger1 = time = 0
var(7) = 255
IgnoreHitPause = 1

[State -1, BGPalfx]
Type = BGPalfx
Trigger1 = 1
time = 1
mul = var(7),var(7),var(7)
IgnoreHitPause = 1

[State -1, VarAdd]
Type = VarAdd
Trigger1 = time = [0,25]
var(7) = -9
IgnoreHitPause = 1

[state 1913, BG Extra]
type = assertspecial
trigger1 = time = [15,25]
flag = noBg
flag2 = noFG
ignorehitpause = 1

[State -1, VarAdd]
Type = VarAdd
Trigger1 = time >= 25
var(7) = 12
IgnoreHitPause = 1

[State 600]
type = Helper
trigger1 = AnimElem = 8, = 1
stateno = 1914
postype = Left
pos = 0,0
name = "tatari"
id = 1914
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
ignorehitpause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 601]
type = destroyself
trigger1 = animTime = 0

[Statedef 1914]
Type = A
Physics = N
ctrl = 0
velset = 0,0
anim = 10002

[State 1300]
type = VarSet
trigger1 = Time = 0
fvar(3) = 0.85

[State -1, Explod]
Type = Explod
Trigger1 = time = 0
Anim = 1914
ID = 1924
Postype = Left
Pos = 160,120
Ownpal = 1
ontop = 1
removetime = -1
SprPriority = 5
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1300, 2]
type = varadd
Trigger1 = Time = [0,5]
fvar(3) = 0.03
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1300, 2]
type = varadd
Trigger1 = Time = [6,30]
fvar(3) = 0.01
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1300, 2]
type = varadd
Trigger1 = Time = [31,50]
fvar(3) = 0.035
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 1914]
type = VarSet
trigger1 = Time = 0
var(3) = 0

[State 1914]
type = VarAdd
trigger1 = Time = [0,50]
var(3) = 3

[State -1, ModifyExplod]
Type = ModifyExplod
Trigger1 = Time = [0,50]
ID = 1924
Scale = fvar(3),fvar(3);1.0+Var(10)/40.0 , 1.0+Var(10)/40.0
IgnoreHitPause = 1
trans = AddAlpha
alpha = 128-var(3),256
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 11702, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 50
ID = 1924

[State 1300]
type = destroyself
trigger1 = Time = 50
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[Statedef 19130]
type = A
movetype = H
physics = N
velset = 0,0

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3010, 1]
type = nothitby
trigger1 = enemy, var(57) < 6
value = SCA

[State 3010, 9]
type = ChangeAnim2
trigger1 = time = 0
value = 1717

[State 3010, 10]
type = ChangeAnim
trigger1 = time = 50
value = 5050

;From ihoo1386
[State 3010, 7]
type = posfreeze
trigger1 = time < 50

[State 3010, 10]
type = VelSet
trigger1 = time = 50
y = -2

[State 3500, 9]
type = Gravity
trigger1 = time >= 50

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 2910]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 2910;10002

[State 4, 1]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 723]
type = Posadd
trigger1 = time = 0
x = floor(P2Dist X)

[State 723]
type = Posset
trigger1 = 1
y = 0

[State 2910, 1]
type = Explod
trigger1 = Time = 0
postype = p1
pos = -15,0
ID = 2910
anim = 1910
sprpriority = 5
removetime = -1

[State 2910, 2]
type = Explod
trigger1 = Time = 0
postype = p1
pos = 15,0
ID = 2910
anim = 1910
facing = -1
sprpriority = 5
removetime = -1

[State 600]
type = PlaySnd
trigger1 = time = 0
value = 3,3
volume = 255

[State 600]
type = PlaySnd
trigger1 = time = 5
value = s0,37
volume = 255

[State 1900, 4]
type = Projectile
trigger1 = movecontact = 0
attr = S,HP
projanim = 1912
projid = 1912
offset = 0,0
projremovetime = 1
projedgebound = 210
projstagebound = 210
ignorehitpause = 1

[State 601]
type = HitDef
trigger1 = time < 170
trigger1 = TimeMod = 6, 0
attr = S, HP
animtype  = hard
getpower = 0,0
givepower = 0,0
damage    = 0,3
sprpriority = 15
priority = 5, Hit
guardflag = M
hitflag = MAF
pausetime = 0,3
sparkno = -1;s7080
guard.sparkno = -1;S8060
sparkxy = -10,ceil(p2bodydist y-50)
hitsound   = -1;s3,1;var(2),27
guardsound = -1;s0,26
ground.type = Low
kill = 0
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,0
airguard.velocity = -3.5
air.slidetime = 20
air.velocity = 0,0
air.juggle = 0
air.fall = 1
fall = 1
fall.recover = 0

[State 2910]
type = varset
trigger1 = movecontact
var(10) = 1
ignorehitpause = 1

[State 14110]
type = TargetBind
trigger1 = target, anim != 2930
trigger1 = time < 170
pos = 0,0
ignorehitpause = 1

[State 6010]
type = TargetState
trigger1 = time < 170
trigger1 = NumTarget > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
value = 2930
ignorehitpause = 1

[State 2910, 9.1];Special damage
type = TargetLifeadd
;triggerall = var(57) >= 5
trigger1 = time < 170
trigger1 = TimeMod = 6, 0
value = (ceil(-12*parent,fvar(12)))-12
absolute = 1
kill = 0

[State 6010]
type = TargetState
trigger1 = time = 170
trigger1 = NumTarget > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
value = 2931
ignorehitpause = 1

[State 3111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 702]
type = NotHitBy
trigger1 = 1
value = SCA

[State 14100]
type = projectile
trigger1 = movehit
projID = 14100
projanim = 10002
projremovetime = 1
projedgebound = 1000
projstagebound = 1000
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999

[State 14100]
type = projectile
trigger1 = moveGuarded > 0
projID = 14200
projanim = 10002
projremovetime = 1
projedgebound = 1000
projstagebound = 1000
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999

[State 670, 4];cross
type = Null;Explod
trigger1 = movehit
anim = 7080
pos = 20,-40
postype = p2
vel = -.5
ontop = 1
ownpal = 1
facing = ifelse(var(2),1,-1)
random = 10,30
pausemovetime = 999
ignorehitpause = 1

[State 9400, 1]
type = helper
triggerall = var(10) = 1
trigger1 = time < 130
trigger1 = TimeMod = 20, 3;trigger1 = time = 20
name = "Leona"
ID = 1060
pos = -80,0
postype = p1
stateno = 1061
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 9400, 1.3];EX
type = helper
triggerall = var(10) = 1
trigger1 = time < 100
trigger1 = TimeMod = 40, 3;trigger1 = time = 40
name = "shermie"
ID = 1080
pos = 70,0
postype = p1
stateno = 1080
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 9400, 1.2]
type = helper
triggerall = var(10) = 1
trigger1 = time < 130
trigger1 = TimeMod = 45, 3;trigger1 = time = 45
name = "chris"
ID = 1070
pos = -120,0
postype = p1
stateno = 1070
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 601]
type = envShake
trigger1 = TimeMod = 4, 3
time = 10
freq = 80
ampl = 7
ignorehitpause = 1

[State 3122, 2]
type = Envcolor
trigger1 = TimeMod = 5, 3
value = 255,255,255
time = 1
under = 1
ignorehitpause = 1

[State 14110]
type = MoveHitReset
trigger1 = movecontact
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 601]
type = ChangeState
trigger1 = time = 170
trigger1 = NumTarget > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
value = 2911
ignorehitpause = 1

[State 601, 2]
type = ChangeState;DestroySelf
triggerall = time = 170
trigger1 = NumTarget = 0
trigger2 = Target,stateno = [120,155]
value = 2912
ignorehitpause = 1

[Statedef 2911]
type = A
physics = N
movetype = A
VelSet = 0,0
Anim = 10002

[State 2911, 1]
type = Explod
trigger1 = Time = 0
postype = p1
pos = -15,0
anim = 1911
sprpriority = 5
removetime = 16

[State 2911, 2]
type = Explod
trigger1 = Time = 0
postype = p1
pos = 15,0
anim = 1911
facing = -1
sprpriority = 5
removetime = 16

[State 2911, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 2910

[State 600]
type = Helper
trigger1 = time = 53
id = 1913
stateno = 1913
pos = 0,0
name = "Smile"
postype = p2
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
Persistent = 0

[state 3]
type = Null;StatetypeSet
trigger1 = Animelem = 2
movetype = I

[State 600]
type = Null;Helper
trigger1 = time = 0
id = 2922
stateno = 2922
pos = 0,0
name = "Success"
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 0
ownpal = 1
IgnoreHitPause = 1
Persistent = 1

[State a]
type = DestroySelf
trigger1 = time > 100
trigger1 = NumHelper(1913) = 0

[Statedef 2912]
type = A
physics = N
movetype = I
VelSet = 0,0
Anim = 9999

[State 2912, 1]
type = Explod
trigger1 = Time = 0
postype = p1
pos = -15,0
anim = 1911
sprpriority = 5
removetime = 16

[State 2912, 2]
type = Explod
trigger1 = Time = 0
postype = p1
pos = 15,0
anim = 1911
facing = -1
sprpriority = 5
removetime = 16

[State 2912, 3]
type = RemoveExplod
trigger1 = time = 0
ID = 2910

[State a]
type = DestroySelf
trigger1 = animtime = 0

[Statedef 29110]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 860

[State 723]
type = Posset
trigger1 = 1
y = 0

[State 606]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 1900, 4]
type = Projectile
trigger1 = movecontact = 0
attr = S,HP
projanim = 1912
projid = 1912
offset = 0,0
projremovetime = 1
projedgebound = 210
projstagebound = 210
ignorehitpause = 1

[State 601]
type = HitDef
trigger1 = AnimElem = 5 || AnimElem = 7 || AnimElem = 9 || AnimElem = 11
attr = S, HP
animtype  = hard
getpower = 0,0
givepower = 0,0
damage    = 5,4
sprpriority = 15
priority = 5, Hit
guardflag = M
hitflag = MAF
pausetime = 3,8
sparkno = s8020;s4011
guard.sparkno = S8060
sparkxy = -20,ceil(p2bodydist y-70)
hitsound   = s3,1
guardsound = s0,26
ground.type = Low
kill = 0
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = 0,-8
airguard.velocity = -3.5
air.slidetime = 20
air.velocity = 0,-6
air.juggle = 0
air.fall = 1
fall = 1
fall.recover = 0

[State 3111, 7.1];cross
type = Explod
trigger1 = movehit > 0
trigger1 = Random <= 200
anim = 7080
pos = -20,-60
postype = p2
vel = -.5
ontop = 1
ownpal = 1
random = 40,35
pausemovetime = 999

[State 3111, 7.1];cross
type = Explod
trigger1 = movehit > 0
trigger1 = Random <= 200
anim = 7080
pos = 20,-60
postype = p2
vel = -.5
ontop = 1
ownpal = 1
random = 40,55
facing = -1
pausemovetime = 999

[State 702]
type = NotHitBy
trigger1 = 1
value = SCA,NA,ST,HP
time = -1

[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State 601]
type = ChangeState
trigger1 = movehit > 0
trigger1 = time = 180
value = 2920

[State 601]
type = ChangeState
trigger1 = movehit = 0
trigger1 = time = 180
trigger2 = time >= 20
trigger2 = NumHelper(2910) <= 0
value = 2921

;Final
[Statedef 29300]
type    = S
movetype= I
sprpriority = 12
anim = 1917

[State 600]
type = Null;PlaySnd
trigger1 = time = 20 || time = 30 || time = 40 || time = 50
value = s668,2
volume = 80
channel = 4

[State 2910]
type = Null;Helper
trigger1 = time = 20
stateno = 2912
pos = -25,0
name = "skeleton"
id = 2912
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 999
ownpal = 1

[State 2910]
type = Null;Helper
trigger1 = time = 30
stateno = 2912
pos = 15,0
name = "skeleton"
id = 2912
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 999
ownpal = 1

[State 2910]
type = Null;Helper
trigger1 = time = 40
stateno = 2912
pos = -15,0
name = "skeleton"
id = 2912
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 999
ownpal = 1

[State 2910]
type = Null;Helper
trigger1 = time = 50
stateno = 2912
pos = 0,0
name = "skeleton"
id = 2912
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 999
ownpal = 1

[State 2910]
type = Null;Helper
trigger1 = time = 60
stateno = 2912
pos = 25,0
name = "skeleton"
id = 2912
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 999
ownpal = 1

[State 600]
type = Null;Helper
trigger1 = animelem = 1, = 80
stateno = 2820
pos = 0,0
name = "anten"
id = 2820
postype = p1
helpertype = normal
keyctrl = 0
pausemovetime = 999
ownpal = 1
ignorehitpause = 1

[state 3]
type = StatetypeSet
trigger1 = Animelem = 2
movetype = A

[State 723]
type = Posset
trigger1 = 1
y = 10

[State 606]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
IgnoreHitPause = 1
Persistent = 1

[State 1900, 4]
type = Null;Projectile
trigger1 = time > 30
trigger1 = movecontact = 0
attr = S,HP
projanim = 1912
projid = 1912
offset = 0,0
projremovetime = 1
projedgebound = 210
projstagebound = 210
ignorehitpause = 1

[State 600]
type = PlaySnd
trigger1 = AnimElem = 3
value = s668,1

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 5
attr = S, HP
animtype  = up
damage    = 200,0
hitflag = MAF
guardflag = M
pausetime = 0,5
hitsound   = S0,25
guardsound = S0,26
sparkxy = -1
sparkno = -1
guard.sparkno = -1
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = 0,0
air.animtype = up
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
palfx.time = 68
palfx.add = 70, 0,70
palfx.mul = 100,-80,100
palfx.sinadd = 90,-90,90,13
palfx.color = 0
palfx.invertall = 1

[State 3112, 3]
type = Targetstate
trigger1 = movehit > 0
value = 7107

[State 702]
type = NotHitBy
trigger1 = 1
value = SCA,NA,ST,HP
time = -1

[State 901, Override]
type = HitOverride
trigger1 = 1
attr = SCA,AA
slot = 0
stateno = -1
time = -1
ignorehitpause = 1

[State a]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 3000]
type    = S
physics = S
movetype= A
anim = ifelse(var(57)>=5,3000,2900)
poweradd = 0;-1000
ctrl = 0
juggle = 0;15
velset = 0,0

[State 3000]
type = varset
triggerall = Time = 0
trigger1 = life > 400
trigger2 = power < 2000
var(1) = 0

[State 3000]
type = varset
trigger1 = Time = 0
trigger1 = life <= 400
trigger1 = power >= 2000
var(1) = 1

[State 3000]
type = Playsnd
trigger1 = Time = 0
value = 2,2
volume = 0
channel = 0

[State 3000, 2]
type = Hitdef
trigger1 = time = 0
attr = S, HT
hitflag = M
priority = 7, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
;p1stateno = 3001
p2stateno = 3020
guard.dist = 0
fall = 1
fall.recover = 0

[State 4000, 2]
type = Hitdef
trigger1 = var(1) = 1
trigger1 = time = 0
attr = S, HT
hitflag = M
priority = 7, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
;p1stateno = 4001
p2stateno = 4020
guard.dist = 0
fall = 1
fall.recover = 0

[State 3000, 3]
type = ChangeState
trigger1 = Movehit = 1 && p2stateno = 3020
value = 3001

[State 3000, 4]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = Movehit = 1 && p2stateno = 4020
value = 4001

[State 3000]
type = BGPalfx
trigger1 = var(1) = 1
trigger1 = time >= 0
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 3001, 2.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = animelem = 2
anim = ifelse(var(1),8700,8650)
pos = 14,-46
postype = p1
supermove = 1
;bindtime = 30
ontop = 1
ownpal = 1

[State 3001, 2.3];chime snd
type = playsnd
trigger1 = animelem = 2
value = ifelse(var(1),3,0),ifelse(var(1),8,36)
volume = -80

[State 3000, 2.4]
type = SuperPause
trigger1 = animelem = 2
anim = -1
time = 30
poweradd = ifelse(var(1),-2000,-1000)
darken = 1
;movetime = 30

[State 3000, 2.5]
type = EnvColor
trigger1 = animelem = 2
value = 255,255,255
time = 3
under = 1

[State 3000, 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3001]
type    = S
physics = S
movetype= A
anim = 3001
ctrl = 0
velset = 0,0
poweradd = -1000

[State 3001, 1]
type = Width
trigger1 = time < 142
edge = 60,0

[State 3001, 2.1]
type = Null;SuperPause
trigger1 = Time = 16
trigger1 = var(10) = 0
anim = -1
time = 30
;movetime = 30

[State 3001, 2.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 16
anim = 8650
pos = 39,-138
postype = p1
supermove = 1
;bindtime = 30
ontop = 1
ownpal = 1

[State 3001, 2.3];chime snd
type = playsnd
trigger1 = Time = 16
value = 0,36
volume = -80

[State 3001, 3.1]
type = Explod
trigger1 = animelem = 6
ID = 3010
anim = 740;3010
pos = 55,4
postype = p1
bindtime = 1
removetime = -1
sprpriority = 4
ownpal = 1

[State 3001, 3.2]
type = RemoveExplod
trigger1 = animelem = 36
ID = 3010

[State 3001, 3.3]
type = Explod
trigger1 = animelem = 36
anim = 1010
pos = 95,1
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1

[State 3001, 4.1]
type = sprpriority
trigger1 = 1
value = 2

[State 3001, 5.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 9
pos = 55,0

[State 3001, 5.2]
type = TargetBind
trigger1 = time >= 10
trigger1 = time <= 14
pos = 53,-98

[State 3001, 5.3]
type = TargetBind
trigger1 = time >= 15
trigger1 = time <= 32;16
pos = 37,-137

[State 3001, 5.4]
type = TargetBind
trigger1 = time >= 33
trigger1 = time <= 34
trigger2 = time >= 42;26
trigger2 = time <= 43;27
trigger3 = time >= 51;35
trigger3 = time <= 52;36
trigger4 = time >= 60;44
trigger4 = time <= 61;45
trigger5 = time >= 69;53
trigger5 = time <= 70;54
trigger6 = time >= 78;62
trigger6 = time <= 79;63
trigger7 = time >= 87;71
trigger7 = time <= 88;72
trigger8 = time >= 96;80
trigger8 = time <= 97;81
trigger9 = time >= 105;89
trigger9 = time <= 106;90
trigger10 = time >= 114;98
trigger10 = time <= 115;99
pos = 38,-134

[State 3001, 5.5]
type = TargetBind
trigger1 = time >= 35;19
trigger1 = time <= 37;21
trigger2 = time >= 44;28
trigger2 = time <= 46;30
trigger3 = time >= 53;37
trigger3 = time <= 55;39
trigger4 = time >= 62;46
trigger4 = time <= 64;48
trigger5 = time >= 71;55
trigger5 = time <= 73;57
trigger6 = time >= 80;64
trigger6 = time <= 82;66
trigger7 = time >= 89;73
trigger7 = time <= 91;75
trigger8 = time >= 98;82
trigger8 = time <= 100;84
trigger9 = time >= 107;91
trigger9 = time <= 109;93
trigger10 = time >= 116;100
trigger10 = time <= 118;102
pos = 38,-133

[State 3001, 5.6]
type = TargetBind
trigger1 = time >= 38;22
trigger1 = time <= 41;25
trigger2 = time >= 47;31
trigger2 = time <= 50;34
trigger3 = time >= 56;40
trigger3 = time <= 59;43
trigger4 = time >= 65;49
trigger4 = time <= 68;52
trigger5 = time >= 74;58
trigger5 = time <= 77;61
trigger6 = time >= 83;67
trigger6 = time <= 86;70
trigger7 = time >= 92;76
trigger7 = time <= 95;79
trigger8 = time >= 101;85
trigger8 = time <= 104;88
trigger9 = time >= 110;94
trigger9 = time <= 113;97
trigger10 = time >= 119;103
trigger10 = time <= 122;106
pos = 37,-134

[State 3001, 5.7]
type = TargetBind
trigger1 = time >= 123;107
trigger1 = time <= 124;108
pos = 11,-135

[State 3001, 5.8]
type = TargetBind
trigger1 = time >= 125;109
trigger1 = time <= 127;111
pos = 14,-136

[State 3001, 5.9]
type = TargetBind
trigger1 = time = 128;112
pos = 82,-104

[State 3001, 6.1]
type = Null;Playsnd
trigger1 = Time = 0
value = 2,2
volume = 0
channel = 0

[State 3001, 6.2]
type = Playsnd
trigger1 = animelem = 6
value = 2,15
volume = 0
channel = 0

[State 3001, 6.3]
type = Playsnd
trigger1 = animelem = 6
value = 1,37
volume = 0

[State 3001, 6.4]
type = varset
trigger1 = time = 0
var(4) = 0

[State 3001, 6.5]
type = varset
trigger1 = target,life <= 1
var(4) = 1

[State 3001, 7];Damage
type = TargetLifeadd
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
trigger7 = animelem = 25
trigger8 = animelem = 28
trigger9 = animelem = 31
trigger10 = animelem = 34
value = (floor(-25*fvar(12)))-25
absolute = 1
kill = 0

[State 3001, 8]
type = targetlifeadd
trigger1 = var(4)
trigger1 = animelem = 37, = 2
value = -target,lifemax*100
kill = 1

[State 3001, 8.0]
type = ChangeState
Triggerall = var(9) = 1
triggerall = var(4) = 0
triggerall = var(57) >= 4
triggerall = statetype != A
triggerall = power >= 1000
Trigger1 = animelem = 36 ,>1
Trigger1 = animelem = 38 ,<=0
value = 3150

[State 3001, 8]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------
; Hit by Yamidoukoku (Wind of destruction)
[Statedef 3020]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3020, 1]
type = Changeanim2
trigger1 = time = 0
value = 3020

[State 3020, 2.1]
type = Velset
trigger1 = time = 129;113
y = -6
x = -8

[State 3020, 2.2];gravity
type = Veladd
trigger1 = time >= 129;113
y = .52

[State 3020, 2.3];slow down
type = VelMul
trigger1 = time >= 129;113
x = .96

[State 3020, 3]
type = Statetypeset
trigger1 = time = 129;113
value = A

[State 3020, 4];short flash
type = Envcolor
trigger1 = animelem = 7, = 1
trigger2 = animelem = 10, = 1
trigger3 = animelem = 13, = 1
trigger4 = animelem = 16, = 1
trigger5 = animelem = 19, = 1
trigger6 = animelem = 22, = 1
trigger7 = animelem = 25, = 1
trigger8 = animelem = 28, = 1
trigger9 = animelem = 31, = 1
trigger10 = animelem = 34, = 1
value = 248,248,248
time = 1
under = 1

[State 3121, 6];shaking effect
type = Null;Envshake
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
trigger7 = animelem = 25
trigger8 = animelem = 28
trigger9 = animelem = 31
trigger10 = animelem = 34
time = 5
freq = 80
ampl = 7

[State 3020, 6];Killing part
type = Lifeadd
trigger1 = animelem = 36, = 1
trigger1 = life = 1
value = -1
absolute = 1

[State 3020, 7]
type = sprpriority
trigger1 = 1
value = 1

[State 3020, 8]
type = Null;Nothitby
trigger1 = time > 140
value = SCA

[State 3020, 8]
type = nothitby
triggerall = enemyNear, var(57) < 5
trigger1 = enemyNear, stateno != 3150
trigger2 = enemyNear, stateno = 3150 && time > 150
value = SCA

[State 3020, 9];adjust the camera
type = ScreenBound
trigger1 = time < 129;113
value = 1

[State 3020, 10]
type = Width
trigger1 = time < 129;113
value = -30,-30

[State 3020, 11]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 121
value = 5100

;---------------------------------------------------------------------------
; Yamidoukoku (Wind of destruction)(max) attempt
[Statedef 4000]
type    = S
physics = S
movetype= A
anim = 3000
poweradd = 0;-1000
ctrl = 0
juggle = 0
velset = 0,0
facep2 = 1

[State 4000, 2]
type = Hitdef
trigger1 = time = 0
trigger1 = p2stateno != 150 && 152 && 154;make sure opponent is not in guarding state
attr = S, HT
hitflag = M
priority = 1, Miss
sparkno = -1
sprpriority = 2
p2facing = 1
p1stateno = 4001
p2stateno = 4020
;p2getp1state = 1
;id = 4000
;nochainID = nochain_1, nochain_2 (int)
;numhits = 0
;givepower = 288
;persistent = 0

[State 4000, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------
; Yamidoukoku (Wind of destruction)(max) Succeed
[Statedef 4001]
type    = S
physics = S
movetype= A
anim = 4001
ctrl = 0
velset = 0,0
poweradd = -2000

[State 4001, 1]
type = Width
trigger1 = time < 215;188
edge = 60,0

[State 4001, 2.1]
type = Null;SuperPause
trigger1 = Time = 16
trigger1 = var(10) = 0
anim = -1
time = 30

[State 4001, 2.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 16
anim = 8700
pos = 39,-138
postype = p1
supermove = 1
;bindtime = 30
ontop = 1
ownpal = 1

[State 4001, 2.3];chime snd
type = playsnd
trigger1 = Time = 16
value = 3,8;0,36
volume = -80

[State 4001, 3]
type = Explod
trigger1 = animelem = 6
ID = 3010
anim = 740;3010
pos = 55,4
postype = p1
bindtime = 1
removetime = -1
sprpriority = 6
ownpal = 1

[State 4001, 3.1]
type = Explod
trigger1 = animelem = 6
ID = 3010
anim = 741;3010
pos = 15,0
postype = p1
bindtime = 1
removetime = -1
sprpriority = 4
ownpal = 1

[State 4001, 4]
type = Explod
trigger1 = animelem = 66
anim = 742
pos = 15,0
postype = p1
bindtime = 1
removetime = -2
sprpriority = 4
ownpal = 1

[State 4001, 3.2]
type = RemoveExplod
trigger1 = animelem = 66
ID = 3010

[State 4001, 3.3]
type = Explod
trigger1 = animelem = 66
anim = 1010
pos = 95,1
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1

[State 4001, 4.1]
type = sprpriority
trigger1 = 1
value = 2

[State 4001, 5.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 9
pos = 55,0

[State 4001, 5.2]
type = TargetBind
trigger1 = time >= 10
trigger1 = time <= 14
pos = 53,-98

[State 4001, 5.3]
type = TargetBind
trigger1 = time >= 15
trigger1 = time <= 59;32
pos = 37,-137

[State 4001, 5.4]
type = TargetBind
trigger1 = time = 60;33
trigger2 = time = 66;39
trigger3 = time = 72;45
trigger4 = time = 78;51
trigger5 = time = 84;57
trigger6 = time = 90;63
trigger7 = time = 96;69
trigger8 = time = 102;75
trigger9 = time = 108;81
trigger10 = time = 114;87
trigger11 = time = 120;93
trigger12 = time = 126;99
trigger13 = time = 132;105
trigger14 = time = 138;111
trigger15 = time = 144;117
trigger16 = time = 150;123
trigger17 = time = 156;129
trigger18 = time = 162;135
trigger19 = time = 168;141
trigger20 = time = 174;147
pos = 38,-134

[State 4001, 5.5]
type = TargetBind
trigger1 = time >= 61;34
trigger1 = time <= 62;35
trigger2 = time >= 67;40
trigger2 = time <= 68;41
trigger3 = time >= 73;46
trigger3 = time <= 74;47
trigger4 = time >= 79;52
trigger4 = time <= 80;53
trigger5 = time >= 81;58
trigger5 = time <= 86;59
trigger6 = time >= 91;64
trigger6 = time <= 92;65
trigger7 = time >= 97;70
trigger7 = time <= 98;71
trigger8 = time >= 103;76
trigger8 = time <= 104;77
trigger9 = time >= 109;82
trigger9 = time <= 110;83
trigger10 = time >= 115;88
trigger10 = time <= 116;89
trigger11 = time >= 121;94
trigger11 = time <= 122;95
trigger12 = time >= 127;100
trigger12 = time <= 128;101
trigger13 = time >= 133;106
trigger13 = time <= 134;107
trigger14 = time >= 139;112
trigger14 = time <= 140;113
trigger15 = time >= 145;118
trigger15 = time <= 146;119
trigger16 = time >= 151;124
trigger16 = time <= 152;125
trigger17 = time >= 157;130
trigger17 = time <= 158;131
trigger18 = time >= 163;136
trigger18 = time <= 164;137
trigger19 = time >= 169;142
trigger19 = time <= 170;143
trigger20 = time >= 175;148
trigger20 = time <= 176;149
pos = 38,-133

[State 4001, 5.6]
type = TargetBind
trigger1 = time >= 63;36
trigger1 = time <= 65;38
trigger2 = time >= 69;42
trigger2 = time <= 71;44
trigger3 = time >= 75;48
trigger3 = time <= 77;50
trigger4 = time >= 81;54
trigger4 = time <= 83;56
trigger5 = time >= 87;60
trigger5 = time <= 89;62
trigger6 = time >= 93;66
trigger6 = time <= 95;68
trigger7 = time >= 99;72
trigger7 = time <= 101;74
trigger8 = time >= 105;78
trigger8 = time <= 107;80
trigger9 = time >= 111;84
trigger9 = time <= 113;86
trigger10 = time >= 117;90
trigger10 = time <= 119;92
trigger11 = time >= 123;96
trigger11 = time <= 125;98
trigger12 = time >= 129;102
trigger12 = time <= 131;104
trigger13 = time >= 135;108
trigger13 = time <= 137;110
trigger14 = time >= 141;114
trigger14 = time <= 143;116
trigger15 = time >= 147;120
trigger15 = time <= 149;122
trigger16 = time >= 153;126
trigger16 = time <= 155;128
trigger17 = time >= 159;132
trigger17 = time <= 161;134
trigger18 = time >= 165;138
trigger18 = time <= 167;140
trigger19 = time >= 171;144
trigger19 = time <= 173;146
trigger20 = time >= 177;150
trigger20 = time <= 179;152
pos = 37,-134

[State 4001, 5.7]
type = TargetBind
trigger1 = time >= 180;153
trigger1 = time <= 181;154
pos = 11,-135

[State 4001, 5.8]
type = TargetBind
trigger1 = time >= 182;155
trigger1 = time <= 184;157
pos = 14,-136

[State 4001, 5.9]
type = TargetBind
trigger1 = time = 185;158
pos = 82,-104

[State 4001, 6.1]
type = Playsnd
trigger1 = Time = 0
value = 2,2
volume = 0
channel = 0

[State 4001, 6.2]
type = Playsnd
trigger1 = animelem = 6
value = 2,15
volume = 0
channel = 0

[State 4001, 6.3]
type = Playsnd
trigger1 = animelem = 6
value = 0,37
volume = 0

[State 4001, 6.4]
type = varset
trigger1 = time = 0
var(4) = 0

[State 4001, 6.5]
type = varset
trigger1 = target,life <= 1
var(4) = 1

[State 4001, 7];Damage
type = TargetLifeadd
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
trigger7 = animelem = 25
trigger8 = animelem = 28
trigger9 = animelem = 31
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 40
trigger13 = animelem = 43
trigger14 = animelem = 46
trigger15 = animelem = 49
trigger16 = animelem = 52
trigger17 = animelem = 55
trigger18 = animelem = 58
trigger19 = animelem = 61
trigger20 = animelem = 64
value = (floor(-20*fvar(12)))-20
absolute = 1
kill = 0

[State 4001, 8]
type = targetlifeadd
trigger1 = var(4)
trigger1 = animelem = 67, = 2
value = -target,lifemax*100
kill = 1

[State 4001, 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;----------------------------------------------
; Hit by Yamidoukoku (Wind of destruction)(max)
[Statedef 4020]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4020, 1]
type = Changeanim2
trigger1 = time = 0
value = 4020

[State 4020, 2.1]
type = Velset
trigger1 = time = 186;159
y = -6
x = -8

[State 4020, 2.2];gravity
type = Veladd
trigger1 = time >= 186;159
y = .52

[State 4020, 2.3];slow down
type = VelMul
trigger1 = time >= 186;159
x = .96

[State 4020, 3]
type = Statetypeset
trigger1 = time = 186;159
value = A

[State 4020, 4];short flash
type = Envcolor
trigger1 = animelem = 7, = 1
trigger2 = animelem = 10, = 1
trigger3 = animelem = 13, = 1
trigger4 = animelem = 16, = 1
trigger5 = animelem = 19, = 1
trigger6 = animelem = 22, = 1
trigger7 = animelem = 25, = 1
trigger8 = animelem = 28, = 1
trigger9 = animelem = 31, = 1
trigger10 = animelem = 34, = 1
trigger11 = animelem = 37, = 1
trigger12 = animelem = 40, = 1
trigger13 = animelem = 43, = 1
trigger14 = animelem = 46, = 1
trigger15 = animelem = 49, = 1
trigger16 = animelem = 52, = 1
trigger17 = animelem = 55, = 1
trigger18 = animelem = 58, = 1
trigger19 = animelem = 61, = 1
trigger20 = animelem = 64, = 1
value = 248,248,248
time = 1
under = 1

[State 4020, 6];shaking effect
type = Envshake
trigger1 = animelem = 7
trigger2 = animelem = 10
trigger3 = animelem = 13
trigger4 = animelem = 16
trigger5 = animelem = 19
trigger6 = animelem = 22
trigger7 = animelem = 25
trigger8 = animelem = 28
trigger9 = animelem = 31
trigger10 = animelem = 34
trigger11 = animelem = 37
trigger12 = animelem = 40
trigger13 = animelem = 43
trigger14 = animelem = 46
trigger15 = animelem = 49
trigger16 = animelem = 52
trigger17 = animelem = 55
trigger18 = animelem = 58
trigger19 = animelem = 61
trigger20 = animelem = 64
time = 5
freq = 80
ampl = 7

[State 4020, 6];Killing part
type = Lifeadd
trigger1 = animelem = 66, = 1
trigger1 = life = 1
value = -1
absolute = 1

[State 4020, 7]
type = sprpriority
trigger1 = 1
value = 1

[State 4020, 8]
type = Nothitby
trigger1 = 1
value = SCA

[State 4020, 9];adjust the camera
type = ScreenBound
trigger1 = time < 186;159
value = 1

[State 4020, 10]
type = Width
trigger1 = time < 186;159
value = -30,-30

[State 4020, 11]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
trigger1 = time >= 188
value = 5100

;---------------------------------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) - Low
[Statedef 3100]
type    = S
physics = N
movetype= A
anim = 3100
poweradd = -1000
ctrl = 0
juggle = 8
velset = 0,0
facep2 = 1

[State 1]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 6
value = 3107

[State 3100]
type = EnvColor
trigger1 = time = 11
value = 255,255,255
time = 3
under = 1

[State 3150, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 11
anim = 8650
pos = 21,-130
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3100, 1.3];chime snd
type = playsnd
trigger1 = Time = 11
value = 0,48
volume = -80

[State 3100, 2]
type = Hitdef
trigger1 = animelem = 6
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 8,8
guard.pausetime = 9,9
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
hitsound = s(var(2)),27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
p2stateno = 3120
;p2getp1state = 1
;p2facing = 1
hitonce = 1
kill = 0

[State 3100, 999]
type = Hitdef
trigger1 = animelem = 6
trigger1 = var(57) > 4
attr = S, HA
hitflag = MAFD
guardflag = M
animtype = Hard
priority = 5,hit
damage = 0, 0
pausetime = 8,8
guard.pausetime = 9,9
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
hitsound = s(var(2)),27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
p2stateno = 3120
;p2getp1state = 1
;p2facing = 1
hitonce = 1
kill = 0

[State 3100, 3]
type = Nothitby
trigger1 = var(57) >= 6
trigger1 = 1
value = SCA

[State 3100, 3.1]
type = Nothitby
trigger1 = time <= 18
value = SCA

[State 3100, 3.2]
type = NotHitby
trigger1 = time >= 19
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 3100, 4];Shadows
type = Afterimage
trigger1 = animelem = 8
time = 15
length = 8
FrameGap = 2

[State 3100, 5]
type = Velset
trigger1 = animelem = 6
x = 11

[State 3100, 6.1]
type = Playsnd
trigger1 = animelem = 6
value = 0,5
volume = -80

[State 3100, 6.2]
type = Playsnd
trigger1 = animelem = 1
value = 2,9;0,38
volume = 0
channel = 0

[State 3100, 7]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3100, 8.2]
type = ChangeState
trigger1 = animtime = 0
trigger2 = moveguarded
trigger3 = movehit
trigger3 = p2stateno != 3120
value = 3101

[State 3100, 8.3]
type = Changestate
trigger1 = movehit
value = 3110

;---------------------------------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) - High
[Statedef 3150]
type    = A
physics = N
movetype= A
anim = 3150
poweradd = -1000
ctrl = 0
juggle = 8
velset = 0,0
facep2 = 1

[State 3150]
type = Null;PowerAdd
trigger1 = prevstateno = 3001
trigger1 = time = 0
value = -1000

[State 1]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 6
value = 3177

[State 3100, 1]
type = Varset
triggerall = var(57) < 5
trigger1 = prevstateno = 3001
fvar(1) = 0
ignorehitpause = 1

[State 3001, 3.2]
type = RemoveExplod
trigger1 = time = 0
ID = 3010

[State 3150]
type = EnvColor
trigger1 = time = 11
value = 255,255,255
time = 3
under = 1

[State 3150, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 11
anim = 8650
pos = 21,-130
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3150, 1.3];chime snd
type = playsnd
trigger1 = Time = 11
value = 0,48
volume = -80

[State 3150, 2]
type = Hitdef
trigger1 = animelem = 6
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 0, 0
guard.pausetime = 0, 0
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
hitsound = s(var(2)),27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
p2stateno = 3170
;p2getp1state = 1
;p2facing = 1
hitonce = 0
kill = 0

[State 3150, 2]
type = Hitdef
trigger1 = animelem = 6
trigger1 = var(57) > 4
attr = S, HA
hitflag = MAFD
guardflag = M
animtype = Hard
priority = 5,hit
damage = 0, 0
pausetime = 0, 0
guard.pausetime = 0, 0
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
hitsound = s(var(2)),27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
p2stateno = 3170
;p2getp1state = 1
;p2facing = 1
hitonce = 0
kill = 0

[State 6010]
type = Null;TargetState
trigger1 = movehit
trigger1 = p2statetype = S
value = 3170
ignorehitpause = 1
Persistent = 0

[State 6011]
type = Null;TargetState
trigger1 = movehit
trigger1 = p2statetype = A
value = 3171 ;Air
ignorehitpause = 1
Persistent = 0

[State 3150, 3]
type = Nothitby
trigger1 = var(57) >= 6
trigger1 = 1
value = SCA

[State 3150, 3.1]
type = Nothitby
trigger1 = time <= 18
value = SCA

[State 3150, 3.2]
type = NotHitby
trigger1 = time >= 19
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 3150, 4];Shadows
type = Afterimage
trigger1 = animelem = 8
time = 15
length = 8
FrameGap = 2

[State 3150, 5.1]
type = Velset
trigger1 = animelem = 6
x = 13
y = -7

[State 3150, 5.2]
type = gravity
trigger1 = time >= 14

[State 3150, 6]
type = playerpush
trigger1 = time >= 14
value = 0

[State 3150, 7.1]
type = Playsnd
trigger1 = animelem = 6
value = 0,3
volume = -80

[State 3150, 7.2]
type = Playsnd
trigger1 = animelem = 1
value = 2,9;0,38
volume = 0
channel = 0

[State 3150, 8]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3150, 9.1]
type = ChangeState
trigger1 = pos y >= 10
trigger1 = vel y > 0
trigger1 = time >= 16
trigger2 = moveguarded
trigger3 = movehit
trigger3 = p2stateno != 3170 && p2stateno != 3171
value = 3151

[State 3150, 9.2]
type = Changestate
trigger1 = movehit
trigger1 = p2stateno = 3170
value = 3110

[State 3150, 9.3]
type = Null;Changestate
trigger1 = movehit
trigger1 = p2stateno = 3171
value = 3113

;---------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) - Succeed
[Statedef 3110]
type    = S
physics = N
movetype= A
anim = 3110
ctrl = 0
velset = 1,0

[State 3110, 1]
type = sprpriority
trigger1 = 1
value = 2

[State 3110, 2]
type = Varset
trigger1 = time = 0
var(1) = 3

[State 3110, 3]
type = Posset
trigger1 = time = 0
y = 0

[State 3110, 4]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 3110, 5]
type = Changestate
trigger1 = animtime = 0
value = 3111

;----------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) - Slashing
[Statedef 3111]
type    = S
physics = N
movetype= A
anim = 3111
ctrl = 0
velset = 1,0

[State 3111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 3111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3111, 11]
type = Targetbind
trigger1 = p2dist x < 0.1
trigger2 = p2bodydist y != 0
pos = 30,0

[State 3111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 4
value = 3122

[State 3111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 11
value = 3121

[State 3111, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3111, 5]
type = Varadd
trigger1 = time = 0
var(1) = -1

[State 3111, 6.1]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
x = 15

[State 3111, 6.2]
type = posadd
trigger1 = animelem = 10
trigger2 = animelem = 11
x = 8

[State 3111, 6.3]
type = posadd
trigger1 = var(1) != 2
trigger1 = animelem = 1
x = 15

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 4
;trigger2 = animelem = 11
anim = 8981
pos = 46, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.1];Hit blood
type = Explod
;trigger1 = animelem = 4
trigger1 = animelem = 11
anim = 8981
pos = 46, -54
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 4
;trigger2 = animelem = 11
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.2];Cross slash
type = Explod
;trigger1 = animelem = 4
trigger1 = animelem = 11
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 8]
type = hitadd
trigger1 = animelem = 4
trigger2 = animelem = 11
value = 1

[State 3111, 9.1];Damage
type = TargetLifeadd
triggerall = fvar(1) = 1
trigger1 = var(1) = 2
trigger1 = animelem = 4, = 1
value = (floor(-100*fvar(12)))-100
absolute = 1
kill = 0

[State 3111, 9.2];Damage
type = TargetLifeadd
triggerall = fvar(1) = 0
triggerall = var(1) = 2
trigger1 = animelem = 4, = 1
trigger2 = animelem = 11, = 1
value = (floor(-40*fvar(12)))-40
absolute = 1
kill = 0

[State 3111, 9.2];Damage
type = TargetLifeadd
triggerall = fvar(1) = 1
trigger1 = var(1) = 2
trigger1 = animelem = 11, = 1
trigger2 = var(1) = 1
trigger2 = animelem = 4, = 2
value = (floor(-40*fvar(12)))-40
absolute = 1
kill = 0

[State 3111, 9.2];Damage
type = TargetLifeadd
triggerall = fvar(1) = 0
triggerall = var(1) = 1
trigger1 = animelem = 4, = 1
trigger2 = animelem = 11, = 1
value = (floor(-10*fvar(12)))-10
absolute = 1
kill = 0

[State 3111, 9.3];Damage
type = TargetLifeadd
triggerall = fvar(1) = 1
trigger1 = var(1) = 1
trigger1 = animelem = 11, = 2
value = (floor(-10*fvar(12)))-10
absolute = 1
kill = 0

[State 3111, 9.4];Damage
type = TargetLifeadd
triggerall = var(1) = 0
trigger1 = animelem = 4, = 1
trigger2 = animelem = 11, = 1
value = (floor(-10*fvar(12)))-10
absolute = 1
kill = 0

[State 3111, 10.1]
type = Playsnd
trigger1 = animelem = 4
trigger2 = animelem = 11
value = var(2),27
volume = 0

[State 3111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3111, 12.1]
type = Changestate
trigger1 = animtime = 0
trigger1 = var(1) = 0
value = 3112

[State 3111, 12.2]
type = Changestate
trigger1 = animtime = 0
trigger1 = var(1) != 0
value = 3111

;------------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) - Riot blood
[Statedef 3112]
type    = S
physics = N
movetype= A
anim = 3112
ctrl = 0

[State 3112]
type = TargetFacing
trigger1 = time = 5
value = -1

[State 3112, 1]
type = Targetstate
trigger1 = time = 5
value = 3123

[State 3111, 1.1]
type = Width
trigger1 = time <= 54;84
edge = 60,10

[State 3111, 1.2]
type = Width
trigger1 = time >= 55;85
edge = 10,50

[State 3112, 2.1]
type = TargetBind
trigger1 = time >= 5
trigger1 = time <= 13
pos = 42,0

[State 3112, 2.2]
type = TargetBind
trigger1 = time >= 14
trigger1 = time <= 18
pos = 23,-127

[State 3112, 2.22]
type = TargetBind
triggerall = Target,Authorname = "DoomedMan"
triggerall = Target,Name = "goeniko"
trigger1 = time >= 14
trigger1 = time <= 18
pos = 28,-127

[State 3112, 2.3]
type = TargetBind
trigger1 = time >= 19
trigger1 = time <= 84
pos = 19,-133

[State 3112, 2.33]
type = TargetBind
triggerall = Target,Authorname = "DoomedMan"
triggerall = Target,Name = "goeniko"
trigger1 = time >= 19
trigger1 = time <= 84
pos = 24,-133

[State 3112, 2.4]
type = TargetBind
trigger1 = time >= 85
trigger1 = time <= 87
pos = -25,-112

[State 3112, 2.5]
type = TargetBind
trigger1 = time >= 88
trigger1 = time <= 91
pos = -17,-113

[State 3112, 2.6]
type = TargetBind
trigger1 = time >= 92
trigger1 = time <= 96
pos = -54,-33

[State 3112, 2.7]
type = TargetBind
trigger1 = time >= 97
trigger1 = time <= 104
pos = -70,0

[State 3112, 4.1];grab spark
type = Explod
trigger1 = animelem = 5
anim = 8200
pos = 22,-123
sprpriority = 2
ownpal = 1

[State 3112, 4.2];blood 1
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =8
trigger3 = animelem = 5, =15
trigger4 = animelem = 5, =22
trigger5 = animelem = 5, =29
trigger6 = animelem = 5, =36
trigger7 = animelem = 5, =43
trigger8 = animelem = 5, =50
trigger9 = animelem = 5, =57
trigger10 = animelem = 5, =64
anim = 3160
pos = 16,-128
ontop = 1
ownpal = 1

[State 3112, 4.3];blood 2
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =8
trigger3 = animelem = 5, =15
trigger4 = animelem = 5, =22
trigger5 = animelem = 5, =29
trigger6 = animelem = 5, =36
trigger7 = animelem = 5, =43
trigger8 = animelem = 5, =50
trigger9 = animelem = 5, =57
trigger10 = animelem = 5, =64
anim = 3161
pos = 32,-95
ontop = 1
ownpal = 1

[State 3112, 4.4];blood 3
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =13
trigger3 = animelem = 5, =25
trigger4 = animelem = 5, =37
trigger5 = animelem = 5, =49
trigger6 = animelem = 5, =61
anim = 3162
pos = 7,-110
ontop = 1
ownpal = 1

[State 3112, 4.5];blood 4
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =9
trigger3 = animelem = 5, =17
trigger4 = animelem = 5, =25
trigger5 = animelem = 5, =33
trigger6 = animelem = 5, =41
trigger7 = animelem = 5, =48
trigger8 = animelem = 5, =56
trigger9 = animelem = 5, =64
anim = 3163
pos = 33,-114
ontop = 1
ownpal = 1

[State 3112, 4.6];smash ground wave
type = Explod
trigger1 = time = 97
anim = 8120
pos = 0,5
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 3112, 5.1]
type = sprpriority
trigger1 = time <= 14
trigger2 = time >= 44
value = 2

[State 3112, 5.2]
type = sprpriority
trigger1 = time >= 15
trigger1 = time <= 43
value = 3

[State 3112, 6.1];friction
type = Velmul
trigger1 = time <= 4
x = .82

[State 3112, 6.2]
type = Velset
trigger1 = time = 5
x = 0

[State 3112, 7]
type = turn
trigger1 = animtime = 0

[State 3112, 8];Damage
type = TargetLifeadd
trigger1 = fvar(1) = 1
trigger1 = time = 98
value = (floor(-140*fvar(12)))-140
absolute = 1

[State 3112, 8];Damage
type = TargetLifeadd
trigger1 = fvar(1) = 0
trigger1 = time = 98
value = (floor(-100*fvar(12)))-100
absolute = 1

[State 3112, 9.11]
type = Playsnd
trigger1 = animelem = 5, =1 
value = 0,39
volume = 80
channel = 1

[State 3112, 9.12]
type = Stopsnd
trigger1 = animelem = 6
channel = 1

[State 3112, 9.2]
type = Playsnd
trigger1 = animelem = 8
value = 2,7;0,17
channel = 1
volume = 0

[State 3112, 9.3]
type = Playsnd
trigger1 = animelem = 9
value = 0,40
volume = 80

[State 3112, 9.4]
type = Playsnd
trigger1 = animelem = 5
value = 0,41
volume = -80

[State 3112, 10]
type = Changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3113]
type     = A
movetype = A
physics  = N
anim = 301
ctrl = 0
velset = 0,0

[State 3113]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 3112]
type = TargetFacing
trigger1 = time = 0
value = -1

[State 341]
type = TargetBind
trigger1 = AnimElemTime(4) < 0
pos = 40,-50
ignorehitpause = 1

[State 322, 3]
type = Null;PlaySnd
trigger1 = animelem = 3
value = 2,15
channel = 2

[State 860, 1]
type = TargetLifeAdd
trigger1 = fvar(1) = 1
trigger1 = AnimElem = 4
value = (floor(-100*fvar(12)))-100
absolute = 1
kill = 0

[State 860, 2]
type = TargetLifeAdd
trigger1 = fvar(1) = 0
trigger1 = AnimElem = 4
value = (floor(-40*fvar(12)))-40
absolute = 1
kill = 0

[State 301, 6]
type = targetstate
trigger1 = AnimElem = 4
value = 3131

[State 301]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3,1
channel = 1
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 5210, 2]
type = VelSet
trigger1 = animelem = 5
x = 8;1.8

[State 301]
type = VelAdd
trigger1 = AnimElemTime(4) >= 1
y = 0.8

[State 3111, 10.1]
type = Playsnd
trigger1 = Pos Y>=0&&Vel Y>0
value = 0,40
volume = 0
persistent = 0

[State 301]
type = Changestate
trigger1 = Pos Y>=0&&Vel Y>0
value = 3114

[Statedef 3114]
type    = S
physics = N
movetype= A
anim = 3113
ctrl = 0
velset = 0,0

[State 3111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 3111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3110, 2]
type = Varset
trigger1 = time = 0
var(1) = 2

[State 3110, 2]
type = Velset
trigger1 = animelem = 3
x = 1

[State 3111, 11]
type = Targetbind
triggerall = animelem = 3, > 0
trigger1 = p2dist x < 0.1
trigger2 = p2bodydist y != 0
pos = 30,0

[State 3111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 11
value = 3122

[State 3111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 7
trigger2 = animelem = 18
value = 3121

[State 3111, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3111, 5]
type = Null;Varadd
trigger1 = time = 0
var(1) = -1

[State 3111, 6.2]
type = posadd
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 17
trigger4 = animelem = 18
x = 8

[State 3111, 6.1]
type = posadd
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 12
x = 15

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 11
anim = 8981
pos = 46, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 18
anim = 8981
pos = 46, -54
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 11
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 7
trigger2 = animelem = 18
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 8]
type = hitadd
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 18
value = 1

[State 3111, 9.1];Damage
type = TargetLifeadd
triggerall = fvar(1) = 1
trigger1 = animelem = 7, = 1
trigger2 = animelem = 11, = 1
trigger3 = animelem = 18, = 1
value = (floor(-40*fvar(12)))-40
absolute = 1
kill = 0

[State 3111, 9.2];Damage
type = TargetLifeadd
trigger1 = fvar(1) = 0
trigger1 = animelem = 7, = 1
value = (floor(-40*fvar(12)))-40
absolute = 1
kill = 0

[State 3111, 9.3];Damage
type = TargetLifeadd
triggerall = fvar(1) = 0
trigger1 = animelem = 11, = 1
trigger2 = animelem = 18, = 1
value = (floor(-10*fvar(12)))-10
absolute = 1
kill = 0

[State 3111, 10.1]
type = Playsnd
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 18
value = var(2),27
volume = 0

[State 3111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3111, 12.1]
type = Changestate
trigger1 = animtime = 0
;trigger1 = var(1) != 0
value = 3111

[Statedef 3131]
type     = A
movetype = H
physics  = N
poweradd = 0
sprpriority = 1

[State 332, 3]
type = ChangeAnim2
trigger1 = time >= 0
value = 303

[State 871]
type = VelSet
trigger1 = Time = 0
x = ifelse(p2dist x <= 0,7,-7)
y = 24

[State 3120, 7]
type = Null;selfstate
trigger1 = time >= 30
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5110

[State 871]
type = Changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 3132

[Statedef 3132];5110
type    = S
movetype= H
physics = N

[State 3132, 1];shaking effect
type = Envshake
trigger1 = time = 0
time = 15
freq = 80
ampl = -7

[State 3132, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = anim = [5081,5089]
value = 5110 + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim != [5161,5169]
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = anim != [5110,5119] ;Not already changed anim
trigger1 = anim = [5161,5169]
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = 5170 + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = time = 40
triggerall = anim = [5171,5179]
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = 5110 + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = Anim != [5111,5119]
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110

[State 5110, 11] ;If just died
type = ChangeState
triggerall = !alive
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
trigger3 = Anim = [5110,5119]
value = 5150

[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[Statedef 4109]
type    = S
physics = N
movetype= A
anim = 4109
ctrl = 0
velset = 1,0

[State 4111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 4111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3120, 0]
type = VarAdd
triggerall = var(9) = 0
trigger1 = command = "x" || command = "y"
var(12) = 1
ignorehitpause = 1

[State 810]
type = varset
trigger1 = time = 0
var(1) = 5

[State 810, 2]
type = varset
trigger1 = var(57) < 6
trigger1 = time = 0
var(3) = 15

[State 810, 3]
type = varset
trigger1 = var(12) >= 40
trigger2 = time = 0
trigger2 = var(57) >= 6
var(3) = 25

[state 1300]
type = stopsnd
trigger1 = time = 0
channel = 2

[State 4111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 5
trigger2 = animelem = 16
trigger3 = animelem = 27
trigger4 = animelem = 38
trigger5 = animelem = 49
trigger6 = animelem = 60
trigger7 = animelem = 71
trigger8 = animelem = 82
value = 4122

[State 4111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 11
trigger2 = animelem = 22
trigger3 = animelem = 33
trigger4 = animelem = 44
trigger5 = animelem = 55
trigger6 = animelem = 66
trigger7 = animelem = 77
trigger8 = animelem = 88
value = 4121

[State 4111, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4111, 6.1]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
trigger4 = animelem = 14
trigger5 = animelem = 15
trigger6 = animelem = 16
trigger7 = animelem = 25
trigger8 = animelem = 26
trigger9 = animelem = 27
trigger10 = animelem = 36
trigger11 = animelem = 37
trigger12 = animelem = 38
trigger13 = animelem = 47
trigger14 = animelem = 48
trigger15 = animelem = 49
trigger16 = animelem = 58
trigger17 = animelem = 59
trigger18 = animelem = 60
trigger19 = animelem = 69
trigger20 = animelem = 70
trigger21 = animelem = 71
trigger22 = animelem = 80
trigger23 = animelem = 81
trigger24 = animelem = 82
x = 15

[State 4111, 6.2]
type = posadd
trigger1 = animelem = 10
trigger2 = animelem = 11
trigger3 = animelem = 21
trigger4 = animelem = 22
trigger5 = animelem = 32
trigger6 = animelem = 33
trigger7 = animelem = 43
trigger8 = animelem = 44
trigger9 = animelem = 54
trigger10 = animelem = 55
trigger11 = animelem = 65
trigger12 = animelem = 66
trigger13 = animelem = 76
trigger14 = animelem = 77
trigger15 = animelem = 87
trigger16 = animelem = 88
x = 8

[State 4111, 6.3]
type = posadd
;trigger1 = var(1) != 2
trigger1 = animelem = 1
trigger2 = animelem = 12
trigger3 = animelem = 34
trigger4 = animelem = 45
trigger5 = animelem = 56
trigger6 = animelem = 67
trigger7 = animelem = 78
x = 15

[state 190]
type = Null;varadd
trigger1 = time > 60;time > 23
var(54) = -3

[State 4111, 6.4]
type = Playsnd
trigger1 = animelem = 4, = 1
trigger2 = animelem = 10, = 1
trigger3 = animelem = 15, = 1
trigger4 = animelem = 21, = 1
trigger5 = animelem = 26, = 1
trigger6 = animelem = 32, = 1
trigger7 = animelem = 37, = 1
trigger8 = animelem = 43, = 1
trigger9 = animelem = 48, = 1
trigger10 = animelem = 54, = 1
trigger11 = animelem = 59, = 1
trigger12 = animelem = 65, = 1
trigger13 = animelem = 70, = 1
trigger14 = animelem = 76, = 1
trigger15 = animelem = 81, = 1
trigger16 = animelem = 87, = 1
value = 0,37
volume = 80
channel = 19

[State 4111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
trigger10 = animelem = 54
trigger11 = animelem = 59
trigger12 = animelem = 65
trigger13 = animelem = 70
trigger14 = animelem = 76
trigger15 = animelem = 81
trigger16 = animelem = 87
anim = 8981
pos = 46, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 15
trigger3 = animelem = 26
trigger4 = animelem = 37
trigger5 = animelem = 48
trigger6 = animelem = 59
trigger7 = animelem = 70
trigger8 = animelem = 81
anim = 7080;8022
pos = 60, -34
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1
scale = 0.9,0.9

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 11
trigger2 = animelem = 22
trigger3 = animelem = 33
trigger4 = animelem = 44
trigger5 = animelem = 55
trigger6 = animelem = 66
trigger7 = animelem = 77
trigger8 = animelem = 88
anim = 7080;8022
pos = 56, -54
ontop = 1
ownpal = 1
ignorehitpause = 1
scale = 0.9,0.9

[State 4111, 7.3];Dark twister
type = Explod
trigger1 = animelem = 4, = 1
trigger2 = animelem = 10, = 1
trigger3 = animelem = 15, = 1
trigger4 = animelem = 21, = 1
trigger5 = animelem = 26, = 1
trigger6 = animelem = 32, = 1
trigger7 = animelem = 37, = 1
trigger8 = animelem = 43, = 1
trigger9 = animelem = 48, = 1
trigger10 = animelem = 54, = 1
trigger11 = animelem = 59, = 1
trigger12 = animelem = 65, = 1
trigger13 = animelem = 70, = 1
trigger14 = animelem = 76, = 1
trigger15 = animelem = 81, = 1
trigger16 = animelem = 87, = 1
anim = 4160
pos = 46, 0
sprpriority = 4
ownpal = 1

[State 4111, 8]
type = hitadd
trigger1 = animelem = 5
trigger2 = animelem = 11
trigger3 = animelem = 16
trigger4 = animelem = 22
trigger5 = animelem = 27
trigger6 = animelem = 33
trigger7 = animelem = 38
trigger8 = animelem = 44
trigger9 = animelem = 49
trigger10 = animelem = 55
trigger11 = animelem = 60
trigger12 = animelem = 66
trigger13 = animelem = 71
trigger14 = animelem = 77
trigger15 = animelem = 82
trigger16 = animelem = 88
value = 1

[State 4111, 9.1];Damage
type = TargetLifeadd
trigger1 = animelem = 4, = 1
value = (floor(-100*fvar(12)))-100
absolute = 1
kill = 0

[State 4111, 9.2];Damage
type = TargetLifeadd
trigger1 = animelem = 11, = 1
trigger2 = animelem = 59, = 1
value = (floor(-50*fvar(12)))-50
absolute = 1
kill = 0

[State 4111, 9.3];Damage
type = TargetLifeadd
trigger1 = animelem = 15, = 1
trigger2 = animelem = 22, = 1
trigger3 = animelem = 66, = 1
value = (floor(-15*fvar(12)))-15
absolute = 1
kill = 0

[State 4111, 9.4];Damage
type = TargetLifeadd
trigger1 = animelem = 26, = 1
trigger2 = animelem = 33, = 1
trigger3 = animelem = 37, = 1
trigger4 = animelem = 44, = 1
trigger5 = animelem = 48, = 1
trigger6 = animelem = 55, = 1
trigger7 = animelem = 77, = 1
trigger8 = animelem = 88, = 1
value = (floor(-10*fvar(12)))-10
absolute = 1
kill = 0

[State 4111, 10.1]
type = Playsnd
trigger1 = animelem = 4, = 2
trigger2 = animelem = 10, = 2
trigger3 = animelem = 15, = 2
trigger4 = animelem = 21, = 2
trigger5 = animelem = 26, = 2
trigger6 = animelem = 32, = 2
trigger7 = animelem = 37, = 2
trigger8 = animelem = 43, = 2
trigger9 = animelem = 48, = 2
trigger10 = animelem = 54, = 2
trigger11 = animelem = 59, = 2
trigger12 = animelem = 65, = 2
trigger13 = animelem = 70, = 2
trigger14 = animelem = 76, = 2
trigger15 = animelem = 81, = 2
trigger16 = animelem = 87, = 2
value = var(2),27
volume = 0

[State 4111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 4111, 11]
type = Targetbind
trigger1 = p2dist x < 0.1
trigger2 = p2bodydist y != 0
pos = 30,0

[State 4111, 12]
type = Changestate
triggerall = var(9) = 0
triggerall = power >= 1000
trigger1 = var(12) >= 30
trigger1 = animtime = 0
value = 4114

[State 4111, 12.1]
type = Changestate
triggerall = var(9) = 0
trigger1 = var(12) >= 20 ;&& var(12) < 30
trigger1 = animtime = 0
value = 4111

[State 4111, 12.1]
type = Changestate
triggerall = var(9) = 0
trigger1 = var(12) >= 10 && var(12) < 20
trigger1 = animtime = 0
value = 4112

[State 4111, 12.2]
type = Changestate
triggerall = var(9) = 0
trigger1 = var(12) < 10
trigger1 = animelem = 56
value = 4112

[State 4111, A.I12]
type = Changestate
triggerall = var(9) = 1
triggerall = var(57) < 4
trigger1 = animelem = 56
value = 4112

[State 4111, A.I12.1]
type = Changestate
triggerall = var(9) = 1
triggerall = var(57) = 4
trigger1 = animtime = 0
value = 4111

[State 4111, A.I12.2]
type = Changestate
triggerall = var(9) = 1
triggerall = var(57) >= 5
trigger1 = animtime = 0
value = 4114

; Shinyaotome Mizumi (Slash of riot blood) (max) - Insane slashing
[Statedef 4114]
type    = S
physics = N
movetype= A
anim = 1304
ctrl = 0
velset = 1,0

[State 4111, 6.4]
type = Playsnd
trigger1 = prevstateno = 4109
trigger1 = time = 0
value = 2,12
volume = 0
channel = 0

[State 4111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 4111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 4111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 4
value = 4122

[State 4111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 10
value = 4121

[State 4111, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4111, 5]
type = Varadd
trigger1 = time = 1
var(3) = -1

[State 4111, 6.1]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
x = 15

[State 4111, 6.2]
type = posadd
trigger1 = animelem = 10
trigger2 = animelem = 11
x = 8

[State 4111, 6.3]
type = posadd
trigger1 = var(3) != 2
trigger1 = animelem = 1
x = 15

[State 4111, 6.4]
type = Playsnd
trigger1 = animelem = 5
trigger2 = animelem = 11
value = 0,37
volume = 80
channel = 19

[State 4111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 5
trigger2 = animelem = 11
anim = 8990
pos = 46, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 4111, 7.2];Cross slash
type = Null;Explod
trigger1 = animelem = 5
trigger2 = animelem = 11
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 4
;trigger2 = animelem = 11
anim = 7080;8022
pos = 60, -34
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1
scale = 0.9,0.9

[State 3111, 7.2];Cross slash
type = Explod
;trigger1 = animelem = 4
trigger1 = animelem = 10
anim = 7080;8022
pos = 56, -54
ontop = 1
ownpal = 1
ignorehitpause = 1
scale = 0.9,0.9

[State 4111, 7.3];Dark twister
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
anim = 4170
pos = 36, 0
sprpriority = 4
ownpal = 1
scale = 0.8

[State 4111, 8]
type = hitadd
trigger1 = animelem = 4, = 1
trigger2 = animelem = 10, = 1
value = 1

[State 4111, 9.1];Damage
type = TargetLifeadd
triggerall = var(3) > 14
trigger1 = animelem = 4, = 1
trigger2 = animelem = 11
value = (floor(-100*fvar(12)))-100
absolute = 1
kill = 0

[State 4111, 9.2];Damage
type = TargetLifeadd
triggerall = var(3) <= 14
trigger1 = animelem = 4, = 1
trigger2 = animelem = 11
value = (floor(-15*fvar(12)))-15
absolute = 1
kill = 0

[State 4111, 10.1]
type = Playsnd
trigger1 = animelem = 4
trigger2 = animelem = 10
value = var(2),27
volume = 0

[State 4111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 4111, 11]
type = Targetbind
trigger1 = p2dist x < 0.1
trigger2 = p2bodydist y != 0
pos = 30,0

[State 4111, 12.1]
type = Changestate
trigger1 = animtime = 0
trigger1 = var(3) = 0
value = 4115

[State 4111, 12.2]
type = Changestate
trigger1 = animtime = 0
trigger1 = var(3) != 0
value = 4114

;------------------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) (max) - Riot blood
[Statedef 4115]
type    = S
physics = N
movetype= A
anim = 4112
ctrl = 0

[State 4112, 1.1]
type = Width
trigger1 = time <= 84
edge = 60,10

[State 4112, 1.2]
type = Width
trigger1 = time >= 85
edge = 30,30

[State 4112, 2.1]
type = TargetBind
trigger1 = time >= 5
trigger1 = time <= 13
pos = 42,0

[State 4112, 2.2]
type = TargetBind
trigger1 = time >= 14
trigger1 = time <= 18
pos = 23,-127

[State 4112, 2.3]
type = TargetBind
trigger1 = time >= 19
trigger1 = time <= 84
pos = 19,-133

[State 4112, 2.4]
type = TargetBind
trigger1 = time >= 85
trigger1 = time <= 92
pos = 15,-112

[State 4112, 2.5]
type = TargetBind
trigger1 = time >= 93
pos = 16,-109

[State 4112, 3]
type = Targetstate
trigger1 = time = 5
value = 4123

[State 4111, 9.1];Damage
type = Null;TargetLifeadd
triggerall = var(57) < 4
trigger1 = time >= 20
trigger1 = time <= 85
value = -2
absolute = 1
kill = 0

[State 4111, 10]
type = TargetLifeadd
;triggerall = var(57) >= 5
trigger1 = time >= 20
trigger1 = time <= 85
value = -4
absolute = 1
kill = 0

[State 4112, 4.1];grab spark
type = Explod
trigger1 = animelem = 5
anim = 8200
pos = 22,-123
sprpriority = 2
ownpal = 1

[State 4112, 4.2];blood 1
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =8
trigger3 = animelem = 5, =15
trigger4 = animelem = 5, =22
trigger5 = animelem = 5, =29
trigger6 = animelem = 5, =36
trigger7 = animelem = 5, =43
trigger8 = animelem = 5, =50
trigger9 = animelem = 5, =57
trigger10 = animelem = 5, =64
anim = 3160
pos = 16,-128
ontop = 1
ownpal = 1
;scale = 2.0,1

[State 4112, 4.3];blood 2
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =8
trigger3 = animelem = 5, =15
trigger4 = animelem = 5, =22
trigger5 = animelem = 5, =29
trigger6 = animelem = 5, =36
trigger7 = animelem = 5, =43
trigger8 = animelem = 5, =50
trigger9 = animelem = 5, =57
trigger10 = animelem = 5, =64
anim = 3161
pos = 32,-95
ontop = 1
ownpal = 1
;scale = 2.0,1

[State 4112, 4.4];blood 3
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =13
trigger3 = animelem = 5, =25
trigger4 = animelem = 5, =37
trigger5 = animelem = 5, =49
trigger6 = animelem = 5, =61
anim = 3162
pos = 7,-110
ontop = 1
ownpal = 1
;scale = 2.0,1

[State 4112, 4.5];blood 4
type = Explod
trigger1 = animelem = 5, =1
trigger2 = animelem = 5, =9
trigger3 = animelem = 5, =17
trigger4 = animelem = 5, =25
trigger5 = animelem = 5, =33
trigger6 = animelem = 5, =41
trigger7 = animelem = 5, =48
trigger8 = animelem = 5, =56
trigger9 = animelem = 5, =64
anim = 3163
pos = 33,-114
ontop = 1
ownpal = 1
;scale = 2.0,1

[State 4112, 5.1]
type = sprpriority
trigger1 = time <= 14
trigger2 = time >= 44
value = 2

[State 4112, 5.2]
type = sprpriority
trigger1 = time >= 15
trigger1 = time <= 43
value = 3

[State 4112, 6.1];friction
type = Velmul
trigger1 = time <= 4
x = .82

[State 4112, 6.2]
type = Velset
trigger1 = time = 5
x = 0

[State 4112, 6.3]
type = Velset
trigger1 = time = 85
y = -20

[State 4112, 6.4]
type = gravity
trigger1 = time >= 85

[State 820, 3.3]
type = veladd
trigger1 = time >= 85
trigger1 = time <= 89
y = -0.55

[State 820, 3.3]
type = veladd
trigger1 = time >= 100
y = 0.8

[State 4112, 7];Shadows
type = Afterimage
trigger1 = var(3) = 0
trigger1 = time = 85
time = 15
length = 8
FrameGap = 2

[State 4112, 8.11]
type = Playsnd
trigger1 = animelem = 5, =1 
value = 0,39
volume = 80
channel = 1

[State 4112, 8.12]
type = Stopsnd
trigger1 = animelem = 6
channel = 1

[State 4112, 8.21]
type = Playsnd
trigger1 = time = 90
value = 2,9
channel = 0
volume = 0

[State 4112, 8.3]
type = Playsnd
trigger1 = time = 85
value = 0,3
volume = -80

[State 4112, 8.3]
type = Null;Playsnd
trigger1 = time = 88;90
value = 0,35
volume = -80

[State 4112, 8.4]
type = Playsnd
trigger1 = animelem = 5
value = 0,41
volume = -80

[State 4112, 8.5]
type = Stopsnd
trigger1 = time = 0
channel = 19

[State 4112, 10]
type = Targetstate
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time >= 95
value = 4127

[State 4112, 11]
type = Changestate
trigger1 = pos y >= 0
trigger1 = vel y > 0
trigger1 = time >= 95
value = 4113

;---------------------------------------------------------------------------
[Statedef 6031]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 850, 2]
type = Nothitby
trigger1 = 1
trigger1 = enemy, NumHelper(6009) = 0
value = SCA

[State 9402, 6]
type = playerpush
trigger1 = 1
value = 0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 4031

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 821, 1]
type = posset
trigger1 = 1
y = -2

[State 821, 1]
type = posadd
trigger1 = BackEdgeBodyDist < 90
trigger1 = time = 0
x = 150

[State 3121, 2];short flash(red)
type = Envcolor
trigger1 = time = 1
value = 248,0,0
time = 2
under = 1

[State 4121, 2]
type = changeanim2
trigger1 = time = 100
value = 4032

[State 3020, 6];Killing part
type = Lifeadd
trigger1 = time = 120
trigger1 = life = 1
value = -1
absolute = 1

[State 3121, 5]
type = selfstate
trigger1 = !alive
trigger1 = time = 160
value = 5030

[State 3121, 6]
type = selfstate
trigger1 = alive
trigger1 = time >= 300
value = 0
ctrl = 1

; Blood covenant begin
[Statedef 6000]
type    = S
physics = N
anim = 6000
poweradd = -2000
ctrl = 0
juggle = 0
velset = 0,0
facep2 = 1

[State 3100, 3.2]
type = NotHitby
trigger1 = time >= 0
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 100, 2]
type = VelSet
trigger1 = AnimElem = 2, < 3
x = 0

[State 3100, 5]
type = Velset
trigger1 = animelem = 3
x = const(velocity.run.fwd.x)

; Play sound when running
[State 100, 4]
type = PlaySnd
trigger1 = Time = 0
value = 0,5
volume = -80

[State 3100, 8.2]
type = ChangeState
trigger1 = time = 30
value = 3101

[State 3100, 8.3]
type = Changestate
trigger1 = P2BodyDist X < 80
value = 6001

[Statedef 6001]
type    = S
physics = N
movetype= A
anim = 6001
ctrl = 0
juggle = 15

[State 3100, 3.2]
type = NotHitby
trigger1 = 1
value = SCA

[State 1000, 4]
type = playerpush
trigger1 = 1
value = 0

[State 1000, 1.1]
type = Null;Playsnd
trigger1 = Animelem = 1
value = 0,33
volume = 0
channel = 0

[State 1000, 1.2]
type = Playsnd
trigger1 = time = 0
value = 0,34
volume = 0

[State 1000, 1.3]
type = Playsnd
trigger1 = time = 4
value = 0,5
volume = -80

[State 1000, 2];Wind animation
type = Explod
trigger1 = time = 0
anim = 1010
pos = 0, 0
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3100, 5]
type = Velset
trigger1 = P2BodyDist X > -120
trigger1 = animelem = 2
x = 10

[State 3100, 5]
type = Velset
trigger1 = P2BodyDist X <= -120
trigger1 = animElem = 3, < 1
trigger2 = animelem = 6, = 10
x = 0

[State 4100, 2]
type = Hitdef
trigger1 = animelem = 2
attr = S, HA
hitflag = MAF
guardflag = L
animtype = Hard
priority = 6,Miss
damage = ceil(fvar(1)*150+50),0
pausetime = 0,10
guard.pausetime = 0, 0
sparkno = -1;S7081
guard.sparkno = S8060
sparkxy = 0, -30
hitsound = S1,27
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
;p1stateno = 6002
p2getp1state = 1
p2facing = 1
hitonce = 0
kill = 0

[State 3112, 3]
type = Targetstate
trigger1 = movehit > 0
value = 6031
ignorehitpause = 1
persistent = 0

[State 1031, 1]
type = pause
trigger1 = movehit > 0
trigger1 = TimeMod = 5, 3
time = 1
pausebg = 0

[State 3100, 5]
type = Velset
trigger1 = animelem = 3
x = 2

[State 1700, 1]
type = ChangeState
trigger1 = movehit
trigger1 = animelem = 6
value = 6002

[State 1700, 2]
type = ChangeState
;trigger1 = movehit = 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 6002]
type    = S
physics = N
movetype= A
anim = 6002
sprpriority = 5

[state 7002, 7]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 3100, 5]
type = Velset
trigger1 = animelem = 1, = 10
x = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
anim = 7080
postype = p2
pos = 10,-20
sprpriority = 5
ownpal = 1
;SuperMoveTime = 999
;PauseMoveTime = 999
facing = -1

[State 3506, 7]
type = AllPalfx
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 70
trigger5 = time = 80
trigger6 = time = 90
trigger7 = time = 100
trigger8 = time = 110
time = 5
add  = 0,0,0
color = 0

[State 3506, 8]
type = Envcolor
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 70
trigger5 = time = 80
trigger6 = time = 90
trigger7 = time = 100
trigger8 = time = 110
time = 5
value = 255,255,255
under = 1

[State 3112, 9.11]
type = Playsnd
trigger1 = time = 40
value = 0,39
volume = 80
channel = 1

[State 240, 4]
type = Explod
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 65
trigger5 = time = 70
trigger6 = time = 65
trigger7 = time = 80
trigger8 = time = 85
trigger9 = time = 90
trigger10 = time = 95
trigger11 = time = 100
trigger12 = time = 105
anim = 3162
postype = p2
pos = 0,-60
random = 30,50
facing = -1
ID = 500
sprpriority = 6
ownpal = 1
pausemovetime = 999

[State 240, 4]
type = Explod
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 65
trigger5 = time = 70
trigger6 = time = 65
trigger7 = time = 80
trigger8 = time = 85
trigger9 = time = 90
trigger10 = time = 95
trigger11 = time = 100
trigger12 = time = 105
anim = 3160
postype = p2
ID = 500
pos = 17,-50
random = 40,80
facing = -1
sprpriority = 6
ownpal = 1
pausemovetime = 999

[State 240, 4]
type = Explod
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 65
trigger5 = time = 70
trigger6 = time = 65
trigger7 = time = 80
trigger8 = time = 85
trigger9 = time = 90
trigger10 = time = 95
trigger11 = time = 100
trigger12 = time = 105
anim = 3163
ID = 500
postype = p2
pos = 15,-65
random = 40,80
sprpriority = 6
ownpal = 1
pausemovetime = 999

[State 240, 4]
type = Explod
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 65
trigger5 = time = 70
trigger6 = time = 65
trigger7 = time = 80
trigger8 = time = 85
trigger9 = time = 90
trigger10 = time = 95
trigger11 = time = 100
trigger12 = time = 105
anim = 3162
postype = p2
pos = 5,-60
random = 40,80
facing = -1
ID = 500
sprpriority = 6
ownpal = 1
pausemovetime = 999

[State 240, 4]
type = Explod
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 65
trigger5 = time = 70
trigger6 = time = 65
trigger7 = time = 80
trigger8 = time = 85
trigger9 = time = 90
trigger10 = time = 95
trigger11 = time = 100
trigger12 = time = 105
anim = 3160
postype = p2
ID = 500
pos = 12,-50
random = 40,80
facing = -1
sprpriority = 6
ownpal = 1
pausemovetime = 999

[State 240, 4]
type = Explod
trigger1 = time = 40
trigger2 = time = 50
trigger3 = time = 60
trigger4 = time = 65
trigger5 = time = 70
trigger6 = time = 65
trigger7 = time = 80
trigger8 = time = 85
trigger9 = time = 90
trigger10 = time = 95
trigger11 = time = 100
trigger12 = time = 105
anim = 3163
ID = 500
postype = p2
pos = 15,-65
random = 40,80
sprpriority = 6
ownpal = 1
pausemovetime = 999

[State 4113, 8]
type = turn
trigger1 = animelem = 4, = 1

[State a]
type = Helper
trigger1 = animelem = 12
ID = 6009
name = "Redsugi"
pos = 110,0
sprpriority = 5
stateno = 6009
ownpal = 1

[State 1700, 1]
type = ChangeState
trigger1 = p2life = 0
trigger1 = animelem = 5
value = 0
ctrl = 1

[State 1700, 2]
type = ChangeState
trigger1 = helper(6009), stateno = 6010
value = 6004

;P.S ¹ö±× ¹æÁö.
;¸î¸îÀÇ ¸ÕÄ¡Å² Ä³¸¯ÅÍ´Â µµÁß¿¡ È¸ÇÇ È¤Àº »ó¼ú·Î
;¾ÃÈ÷´Â °æ¿ì°¡ ÀÖ´Â°ÍÀ» °í·Á.
[State 1700, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 6003

[Statedef 6003]
type    = S
physics = N
movetype= I
anim = 6003

[state 7002, 7]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 1700, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 6004]
type    = S
physics = N
movetype= A
anim = 6004

[State 4001, 4]
type = Explod
trigger1 = time = 0
anim = 1811
postype = p1
pos = 110,0
bindtime = 1
sprpriority = 4
ownpal = 1

[State 3001, 6.2]
type = Playsnd
trigger1 = animelem = 5
value = 2,2
volume = 0
channel = 0

[State 3001, 2.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 70
anim = 8650
pos = 39,-138
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3001, 2.3];chime snd
type = playsnd
trigger1 = Time = 70
value = 0,48
volume = -80

[State 3001, 6.2]
type = Playsnd
trigger1 = animelem = 9
value = 2,15
volume = 0
channel = 0

[State 6004, heal]
type = Lifeadd
triggerall = NumHelper(6009) >= 1
trigger1 = time > 119
trigger1 = TimeMod = 5, 1
value = 10

[State 1700, 2]
type = ChangeState
trigger1 = Helper(6009), stateno = 6011
value = 6005

[Statedef 6005]
type    = S
physics = N
movetype= A
anim = 6006

[State 1700, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;½ÃÈ­ÀÇ ±×°Í
[Statedef 6009]
type = S
movetype = A
Anim = 1808
ctrl = 0

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = up
damage    = 0,0
hitflag = MAF
guardflag = M
pausetime = 0,0
hitsound   = -1
guardsound = S0,26
sparkxy = -1
sparkno = -1
guard.sparkno = -1
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = 0,0
air.animtype = up
air.velocity = 0,0
air.juggle = 0
ID = 6010
fall = 1
fall.recover = 0
palfx.time = 30
palfx.add = 188,0,48
palfx.mul = 188,166,166
palfx.sinadd = 96,96,96,13
palfx.color = 0
palfx.invertall = 1
kill = 0

[State 2001, 3]
type = Targetstate
trigger1 = movehit > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
value = 6019
ignorehitpause = 1
persistent = 0

[State a]
type = Null;Helper
trigger1 = MoveHit > 0
ID = 6010
name = "demitri"
pos = 30,0
stateno = 6010
ownpal = 1
persistent = 0
ignorehitpause = 1

[State 800, 1.2]
type = Playsnd
trigger1 = time = 0
value = 0,49
volume = 255

[State 803, 5]
type = Envshake
trigger1 = time = 0
time = 34
freq = 255
ampl = -5
ignorehitpause = 1

[State 9001, 3]
type = Envcolor
trigger1 = movehit > 0
value = 255,255,255
persistent = 0
time = 1
under = 1

[State 9001, 2]
type = Pause
trigger1 = p2movetype = H
trigger1 = movehit > 0
trigger1 = time >= 20 && time <= 31
time = 1

[State 1808, ChangeState]
Type = ChangeState
trigger1 = movehit > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
Value = 6010;1809

[State 1809, ChangeState]
Type = ChangeState
trigger1 = movehit = 0
Trigger1 = AnimTime = 0
Value = 1809

;ÂÌÂÌÀÌ Å¸ÀÌÁî µ¥¹ÌÆ®¸®.
[Statedef 6010]
type = A
physics = S
movetype = A
anim = 6010
ctrl = 0
velset = 0,0

[State 723]
type = Posadd
trigger1 = time = 0
x = floor(P2Dist X-80)
y = floor(P2Dist y)

[State 2001, 3]
type = Targetstate
;trigger1 = movehit > 0
trigger1 = Numtarget(6010) >= 1
ID = 6010
value = 6020
ignorehitpause = 1
persistent = 0

[State 3001, 6.2]
type = Playsnd
trigger1 = time = 10
value = 2,14
volume = 80
channel = 0

[State 2001, 3]
type = TargetBind
trigger1 = AnimElem = 5
ID = 6010
pos = 73,-123

[State 2001, 3]
type = Targetstate
trigger1 = AnimElem = 5
ID = 6010
value = 6021

[State 2001, 3]
type = TargetBind
trigger1 = AnimElem = 7
ID = 6010
pos = 73,-133

[State 2001, 3]
type = TargetBind
trigger1 = AnimElem = 8
ID = 6010
pos = 75,-160

[State 2001, 3]
type = TargetBind
trigger1 = AnimElem = 9
ID = 6010
pos = 75,-168
time = -1

[State 2001, 3]
type = Targetstate
trigger1 = time = 120
ID = 6010
value = 6022

[State 3000, 6.3]
type = Playsnd
trigger1 = time = 123
ID = 6010
value = 3,6
volume = 0

[State 6010, Damage]
type = TargetLifeadd
trigger1 = time > 119
trigger1 = TimeMod = 5, 1
ID = 6010
value = (floor(-10*parent,fvar(12)))-10
absolute = 1
kill = 0

[State 230, 0]
type = hitadd
trigger1 = time > 119
trigger1 = TimeMod = 5, 3
value = 1

[State 601]
type = envShake
trigger1 = time > 119
trigger1 = TimeMod = 5, 3
time = 4
freq = 80
ampl = 4
ignorehitpause = 1

[State 3122, 2]
type = Envcolor
trigger1 = time > 119
trigger1 = TimeMod = 5, 3
value = 255,255,255
time = 1
under = 1

[State 6011, ChangeState]
Type = ChangeState
Trigger1 = Time = 250
trigger2 = Numtarget(6010) = 0
Value = 6011

[Statedef 6011]
type = A
physics = S
movetype = I
anim = 6011
ctrl = 0
velset = 0,0

[State 2001, 3]
type = TargetBind
trigger1 = time = 0
pos = 75,-168

[State 2001, 3]
type = Targetstate
trigger1 = time = 1
value = 6023

[State 6011, end]
Type = DestroySelf
Trigger1 = AnimTime = 0

[Statedef 6019]
type = S
movetype = H
physics = N
velset = 0,0

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 4113, 8]
type = Null;turn
trigger1 = time = 0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 4031

[State 3500, 6]
type = ChangeAnim
trigger1 = time = 20
value = 5030

[state 3]
type = StatetypeSet
trigger1 = time = 20
statetype = A

;From ihoo1386
[State 3010, 10]
type = veladd
trigger1 = time = [0,15]
y = -0.5

[State 3010, 10]
type = VelSet
trigger1 = time = 16
y = -11

[State 3500, 9]
type = VelAdd
trigger1 = time >= 16
y = 0.6

[State 3123, 7]
type = selfState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 6020]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4113, 8]
type = turn
trigger1 = time = 0

[State 2123, 2]
type = posfreeze
trigger1 = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = -2

[Statedef 60210]
type    = A
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 6020

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = -2

[Statedef 6023];6022
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 6023, 1]
type = changeanim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(9020)
value = 2724

[State 6023, 2]
type = ChangeAnim
trigger1 = time <= 10
trigger1 = SelfAnimExist(9020)
value = 9020
elem = 6

[State 6023, 3]
type = changeanim2
trigger1 = time = 11
trigger1 = SelfAnimExist(9020)
value = 2724
elem = 2

[State 3020, 6];Killing part
type = Lifeadd
trigger1 = time = 0
trigger1 = life = 1
value = -1
absolute = 1

[State 3123, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = -2

[State 3123, 4];adjust the camera
type = ScreenBound
trigger1 = 1
movecamera = 1,0
;value = 1

[State 3123, 5.1]
type = velset
trigger1 = time = 11
x = -3
y = -4

[State 3123, 5.3];gravity
type = veladd
trigger1 = time > 11
y = 0.65

[State 3123, 7]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100