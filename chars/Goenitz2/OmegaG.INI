;오메가 게닛츠(O.Geonitz.)
[Statedef 1200]
type = S
movetype= I
physics = S
juggle = 0
ctrl = 0
anim = 1200
velset = 0,0

[State 1200, 1]
type = Playsnd
trigger1 = var(58) = 0
trigger1 = Time = 0
value = 0,6
volume = 0

[State 1200, 1]
type = Playsnd
trigger1 = var(58) = 1
trigger1 = Time = 0
value = 2,2
volume = 0

[State 1200, 2]
type = NotHitBy
trigger1 = var(57) > 4
trigger1 = time >= 0
value = SCA

[state 2300,1] ;From zerohotaru
type = ReversalDef
trigger1 = Time = [9,38]
attr = S,NT
reversal.attr = SCA, AA, AT, AP
pausetime = 0,40
sparkxy = -1;35,-80
sparkno = -1
sprpriority = 2
p1stateno = 1201

[State 1030, 4] 
type = ChangeState 
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1201] ;From zerohotaru
type = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1210

[State 1201]
type = Playsnd
trigger1 = Time = 0
value = 0,55
volume = 80

[State 1031, 1]
type = Null;pause
trigger1 = time = 0
time = 30
movetime = 30
pausebg = 0

[State 1031, 1]
type = turn 
trigger1 = p2dist x< 0 
value = 1

[State 1031, 1] 
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 3301, Var]
type = posadd
trigger1 = time = 0
x = (p2dist x)+40

[State 1031, 2] 
type = PowerAdd
trigger1 = Time = 0
value = 300

[State 183, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 100, 0]
type = Ctrlset
trigger1 = time = 21
value = 1

[State 1021, A.I]
type = Null;VarRandom
Triggerall = var(9) = 1
trigger1 = 1
v = 33
range = 1

[State 1021, A.I2]
type = ChangeState
Triggerall = var(9) = 1
triggerall = statetype != A
triggerall = p2statetype != A
;triggerall = power < 1000
Trigger1 = time >= 21
value = 220

[State 1021, A.I3]
type = ChangeState
Triggerall = var(9) = 1
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = stateno = 220
triggerall = MoveContact = 0
triggerall = p2bodydist x < 41
trigger1 = power >= 1000
Trigger1 = time >= 21
value = (ifelse(var(58)=1,3000,3030))

[State 1021, A.I4]
type = ChangeState
Triggerall = var(9) = 1
Triggerall = var(58) = 1
triggerall = statetype != A
triggerall = p2statetype = A
trigger1 = power >= 1000
Trigger1 = time >= 21
value = 3150

[State 1021, A.I5]
type = ChangeState
Triggerall = var(9) = 1
triggerall = statetype != A
triggerall = p2statetype = A
Trigger1 = time >= 21
value = 900;800

[State 1031, 3]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------
; Shinyaotome Mizumi (Slash of riot blood) - Slashing
[Statedef 1700]
type    = S
physics = N
movetype= A
anim = 1700
ctrl = 0
velset = 0,0

[State 1700, 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 3111, 1]
type = Width
trigger1 = time <= 89
edge = 50,10

[State 3111, 1.1]
type = Width
trigger1 = time >= 90
edge = 60,10

[State 3111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 2
trigger2 = animelem = 12, = 1
trigger3 = animelem = 20, = 1
trigger4 = animelem = 28
trigger5 = animelem = 35, = 1
value = 3122

[State 3111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 8
trigger2 = animelem = 42
value = 3121

[State 3111, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3111, 2]
type = velset
trigger1 = animelem = 32
x = 1

[State 3111, 3]
type = velset
trigger1 = animelem = 43
x = 0

[State 3111, 6.1]
type = Null;posadd
trigger1 = animelem = 19
trigger2 = animelem = 20
trigger3 = animelem = 21
trigger4 = animelem = 34
trigger5 = animelem = 35
trigger6 = animelem = 36
x = 15

[State 3111, 6.2]
type = Null;posadd
trigger1 = animelem = 41
trigger2 = animelem = 42
x = 8

[State 3111, 6.3]
type = Null;posadd
trigger1 = var(1) != 2
trigger1 = animelem = 1
x = 15

[State 107, 1]
type = explod
trigger1 = animelem = 2
anim = 8020
pos = -10,-55
postype = p2
sprpriority = 5

[State 107, 2]
type = explod
trigger1 = animelem = 7, = 1
anim = 8020
pos = -20,-83
postype = p2
sprpriority = 5

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 20, = 1
trigger2 = animelem = 35, = 1
anim = 8981
pos = 50, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 12, = 1
trigger2 = animelem = 28
trigger3 = animelem = 42
anim = 8981
pos = 50, -54
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 20, = 1
trigger2 = animelem = 35, = 1
anim = 8022
pos = 50, -54
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 12, = 1
trigger2 = animelem = 28
trigger3 = animelem = 42
anim = 8022
pos = 50, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 8]
type = hitadd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 12, = 1
trigger4 = animelem = 20, = 1
trigger5 = animelem = 28
trigger6 = animelem = 35, = 1
trigger7 = animelem = 42
trigger8 = animelem = 47, = 30
value = 1

[State 3111, 9.1];Damage
type = TargetLifeadd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 12, = 1
trigger4 = animelem = 20, = 1
trigger5 = animelem = 28
trigger6 = animelem = 35, = 1
trigger7 = animelem = 42
value = (floor(-22*fvar(12)))-22
absolute = 1
kill = 0

[State 3111, 9.2];Damage
type = TargetLifeadd
trigger1 = animelem = 47, = 30
value = (floor(-120*fvar(12)))-120
absolute = 1

[State 3111, 10.1]
type = Playsnd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 12, = 1
trigger4 = animelem = 20, = 1
trigger5 = animelem = 28
trigger6 = animelem = 35, = 1
trigger7 = animelem = 42
value = var(2),61
volume = 0

[State 3111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3112, 9.4]
type = Playsnd
trigger1 = animelem = 47
value = 0,41
volume = -80

[State 3112, 9.11]
type = Playsnd
trigger1 = animelem = 47, =1 
value = 0,39
volume = 80
channel = 1

[State 3112, 9.12]
type = Stopsnd
trigger1 = animelem = 47, = 30
channel = 1

[State 3111, 11]
type = Targetbind
trigger1 = time < 89
pos = 35,0

[State 3112, 2.1]
type = TargetBind
trigger1 = time >= 89
trigger1 = time <= 109
pos = 42,0

[State 3112, 2.2]
type = TargetBind
trigger1 = time >= 110
trigger1 = time <= 114
pos = 23,-127

[State 3112, 2.3]
type = TargetBind
trigger1 = time >= 115;108
trigger1 = time <= 144
pos = 19,-133

[State 3112, 3]
type = Targetstate
trigger1 = time = 89
value = 1723

[State 3112, 4.1];grab spark
type = Explod
trigger1 = animelem = 47
anim = 8200
pos = 22,-123
sprpriority = 2
ownpal = 1

[State 3112, 4.2];blood 1
type = Explod
trigger1 = animelem = 47, =1
trigger2 = animelem = 47, =8
trigger3 = animelem = 47, =15
trigger4 = animelem = 47, =22
trigger5 = animelem = 47, =29
;trigger6 = animelem = 5, =36
anim = 3160
pos = 16,-128
ontop = 1
ownpal = 1

[State 3112, 4.3];blood 2
type = Explod
trigger1 = animelem = 47, =1
trigger2 = animelem = 47, =8
trigger3 = animelem = 47, =15
trigger4 = animelem = 47, =22
trigger5 = animelem = 47, =29
;trigger6 = animelem = 5, =36
anim = 3161
pos = 32,-95
ontop = 1
ownpal = 1

[State 3112, 4.4];blood 3
type = Explod
trigger1 = animelem = 47, =1
trigger2 = animelem = 47, =13
trigger3 = animelem = 47, =25
anim = 3162
pos = 7,-110
ontop = 1
ownpal = 1

[State 3112, 4.5];blood 4
type = Explod
trigger1 = animelem = 47, =1
trigger2 = animelem = 47, =9
trigger3 = animelem = 47, =17
trigger4 = animelem = 47, =25
;trigger5 = animelem = 5, =33
anim = 3163
pos = 33,-114
ontop = 1
ownpal = 1

[State 3001, 3.3]
type = Explod
trigger1 = animelem = 47, = 30
anim = 666
pos = 45,5
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999

[State 3112, 5]
type = playsnd
trigger1 = animelem = 47, = 30
value = 668,2

[State 260, 3]
type = varset
trigger1 = command = "Darkness"
trigger1 = time > 63
var(10) = 1

[State 3112, shin];시화
type = changestate
triggerall = var(9) = 0
triggerall = var(10) = 1
triggerall = power >= 1000
triggerall = P2Life > 0
trigger1 = time > 144
trigger1 = time < 170
value = 1800

[State 3112, shin];시화
type = changestate
triggerall = var(9) = 1
triggerall = var(57) >= 3
triggerall = power >= 1000
triggerall = P2Life > 0
trigger1 = time = 145
value = 1800

[State 1700, 11]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1800]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1800
velset = 0,0

[State 3111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 3100, 6.2]
type = Playsnd
trigger1 = animelem = 1
value = 0,70
volume = 0

[State 3100, 999]
type = Hitdef
trigger1 = animelem = 6
attr = S, HA
hitflag = MAFD
;guardflag = M
animtype = Hard
priority = 3,hit
damage = 0, 0
pausetime = 0, 20
;guard.pausetime = 0, 20
sparkno = -1
guard.sparkno = S8060
;sparkxy = 8, -72
hitsound = -1;s(var(2)),27
guardsound = -1
ground.type = Low
air.type = Low
sprpriority = 3
p2stateno = 1810
p2facing = 1
kill = 0

[State 3050, 4]
type = PowerAdd
trigger1 = time = 10
value = -1000

[state 100, 5]
type = assertspecial
trigger1 = 1
flag = nojugglecheck

[State 3100, 1.3]
type = playsnd
trigger1 = Time = 30
value = 3200,0
channel = 11

[State 4120, 1]
type = SuperPause
trigger1 = time = 0
movetime = 20
p2defmul = 1
time = 20
darken = 0
anim = -1

[State 3100, 1.2]
type = Explod
trigger1 = Time = 5
anim = 8650
pos = 25,-118
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1
sprpriority = 5
supermovetime = 30

[State 3200, 11]
type = Null;Targetbind
triggerall = movehit
trigger1 = time >= 23
trigger1 = time <= 53
pos = 50,0

[State 3111, 6.2]
type = posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 5

[State 3100, 1.3]
type = playsnd
trigger1 = Time = 5
value = 0,48
volume = -80

[State 3112, 3]
type = Null;Targetstate
trigger1 = time = 0
value = 7040

[State 3112, 8]
type = TargetLifeadd
trigger1 = time = 65 || time = 70 || time = 75 || time = 80
value = -10
absolute = 1
kill = 0

[State 3113, 5]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3100, 1.3]
type = playsnd
trigger1 = time = 65 || time = 70 || time = 75 || time = 80
value = var(2),61
volume = 80

[State 3112, 3]
type = Targetstate
trigger1 = AnimElem = 10
value = 7041

[State 3112, 8]
type = Null;TargetLifeadd
trigger1 = AnimElem = 20
value = -120
absolute = 1
kill = 1

[State 240, 4]
type = Explod
trigger1 = movehit = 1
anim = 7080
postype = p2
pos = 10,20
sprpriority = 5
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999
facing = -1

[State 240, 4]
type = Explod
trigger1 = time = 65
anim = 7080
postype = p2
pos = -40,-25
sprpriority = 5
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999
facing = -1

[State 240, 4]
type = Explod
trigger1 = time = 70
anim = 7080
postype = p2
pos = -15,-30
sprpriority = 5
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999
facing = -1

[State 240, 4]
type = Explod
trigger1 = time = 75
anim = 7080
postype = p2
pos = 10,-35
sprpriority = 5
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999
facing = -1

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = time = 65
anim = 8981
postype = p2
pos = -40,-15
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 999
PauseMovetime = 999

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = time = 70
anim = 8981
postype = p2
pos = -15,-20
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 999
PauseMovetime = 999

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = time = 75
anim = 8981
postype = p2
pos = 10,-35
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1
SuperMoveTime = 999
PauseMovetime = 999

[State 3113, 3]
type = Envcolor
trigger1 = time = 65 || time = 70 || time = 75 || time = 80
value = 248,0,0
time = 1
under = 1

[State 192, 2]
type = Null;Explod
trigger1 = AnimElem = 20
anim = 667
pos = 95, -180
postype = p1
ontop = 1
ownpal = 1

[State 7003, 1]
type = Pause
trigger1 = animelem = 16
time = 15
movetime = 15
pausebg = 0

[State 7003, 1]
type = Pause
trigger1 = time = 65 || time = 70 || time = 75 || time = 80
trigger2 = animelem = 20, = 10
trigger3 = animelem = 20, = 20
trigger4 = animelem = 20, = 30
time = 2
pausebg = 0
;movetime = 15

[State a]
type = Helper
trigger1 = animelem = 20
ID = 1808
name = "Redsugi"
pos = 30,0
sprpriority = 5
stateno = 1808
SuperMoveTime = 999
PauseMovetime = 999
ownpal = 1

[State 3112, 4]
type = Null;Playsnd
trigger1 = AnimElem = 20, = 3
value = 0,25
volume = 80

[State 230, 0]
type = hitadd
trigger1 = time = 65 || time = 70 || time = 75 || time = 80
value = 1

[State 4122, 2]
type = Null;Envcolor
trigger1 = AnimElem = 20
value = 248,0,0
time = 1
under = 1

[State 1700, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1800, 2]
type = ChangeState
triggerall = animelem = 6, = 10
trigger1 = movehit = 0
trigger2 = P2stateno != 1810
value = 1801

[Statedef 1801]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 1801

[State 1000, 4]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 1808]
type = S
movetype = A
Anim = 1808
ctrl = 0

[state a]
type = playerpush
trigger1 = 1
value = 0

[State 210, 2]
type = HitDef
trigger1 = parent, var(57) < 5
trigger1 = time = 0
attr = S, HP
animtype  = up
damage    = 120,0
hitflag = MAF
guardflag = M
pausetime = 0,0
hitsound   = -1
guardsound = S0,26
sparkxy = -1
sparkno = -1
guard.sparkno = -1
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = 0,0
air.animtype = up
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
envshake.time = 15
fall.envshake.time = 14
fall.envshake.ampl = -8
guard.sparkno = S8060
yaccel = .6
fall.yvelocity = -3.6
palfx.time = 68
palfx.add = 188,0,48
palfx.mul = 188,166,166
palfx.sinadd = 96,96,96,13
palfx.color = 0
palfx.invertall = 1
p2stateno = 7104

[State 210, 3]
type = HitDef
trigger1 = parent, var(57) >= 5
trigger1 = time = 0
attr = S, HP
animtype  = up
damage    = 220,0
priority = 1,Hit
hitflag = MAF
guardflag = M
pausetime = 0,0
hitsound   = -1
guardsound = S0,26
sparkxy = -1
sparkno = -1
guard.sparkno = -1
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = 0,0
air.animtype = up
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
envshake.time = 15
fall.envshake.time = 14
fall.envshake.ampl = -8
guard.sparkno = S8060
yaccel = .6
fall.yvelocity = -3.6
palfx.time = 68
palfx.add = 188,0,48
palfx.mul = 188,166,166
palfx.sinadd = 96,96,96,13
palfx.color = 0
palfx.invertall = 1
p2stateno = 7104

[State 3112, 3]
type = Null;Targetstate
trigger1 = movehit > 0
value = 7104

[State 800, 1.2]
type = Playsnd
trigger1 = time = 0
value = 0,49
volume = 255

[State 803, 5]
type = Envshake
trigger1 = time = 0
time = 34
freq = 255
ampl = -5
ignorehitpause = 1

[State 9001, 3]
type = Envcolor
trigger1 = movehit > 0
value = 255,255,255
persistent = 0
time = 1
under = 1

[State 9001, 2]
type = Pause
trigger1 = p2movetype = H
trigger1 = movehit > 0
trigger1 = time >= 20 && time <= 31
time = 1

[State 1808, ChangeState]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 1809

[Statedef 1809]
type = S
movetype = I
Anim = 1809

[State a]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 1810]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 0

[State 821, 4]
type = changeanim2
trigger1 = 1
value = anim
elem = animelemno(-1)

[State 30550, 2]
type = Null;ChangeAnim
trigger1 = time = 10
value = 5061

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4121, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 100, 5]
type = posset
trigger1 = time = 0
y = -80

[State 100, 5]
type = posset
trigger1 = time = 20 && pos y > -15
y = -15

[State 100, 5]
type = Null;posadd
trigger1 = time = 41 || time = 53
x = -3
y = -8

[State 100, 5]
type = Null;posadd
trigger1 = time = 55 || time = 57
x = -8
y = -8

[State 821, 4]
type = SelfState
trigger1 = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[State 821, 5]
type = SelfState
trigger1 = time > 50
value = 5030

[Statedef 1723]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3123, 1]
type = changeanim2
trigger1 = time = 0
value = 1723

[State 3123, 2]
type = Nothitby
trigger1 = time < 55
value = SCA

[State 3123, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 5420]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3123, 6];shaking effect
type = Envshake
trigger1 = time = 60
time = 15
freq = 80
ampl = -7

[State 3123, 5.1]
type = veladd
triggerall = p2Stateno = 1800
trigger1 = time >= 64 && P2Dist X < 20
x = -3.5

[State 3123, 5.1]
type = velset
triggerall = p2Stateno != 1800
trigger1 = time = 65
x = -5
y = -5

[State 3123, 5.3];gravity
type = veladd
trigger1 = time >= 65
y = 0.65

[State 3123, 5.3]
type = Null;Posadd
trigger1 = time = 80
y = -5

[State 107, 2]
type = Null;palfx
trigger1 = time >= 56
time = 3
add = 70,0,70
mul = 100,-80,100
sinadd = 90,-90,90,13
color = 0
invertall = 1

[State 3123, 7]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100;3124

[Statedef 2200]
type    = S
physics = N
movetype= A
anim = 6100
poweradd = -1000
ctrl = 0
velset = 0,0
facep2 = 1

[State 1]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 6
value = 6107

[State 191, 1]
type = playsnd
trigger1 = time = 5
value = 0,71

[State 3100, 1.2]
type = Explod
trigger1 = animelem = 4, = 5
anim = 8650
pos = -35,-30
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 999

[State 13000, 1]
type = Superpause
trigger1 = animelem = 4
anim = -1
time = 30
movetime = 30
;darken = 0

[State 3100]
type = EnvColor
trigger1 = animelem = 4, = 5
value = 255,255,255
time = 3
under = 1

[State 4000, 4]
type = playsnd
trigger1 = animelem = 4, = 5
value = 0,48
volume = 0

[State 2]
type = HitDef
trigger1 = animelem = 7
trigger1 = var(57) <= 4
attr = S, HA
animtype  = hard
damage    = 100,0
getpower = 0,0
guardflag = M
priority = 5,Hit
pausetime = 3,15
;guard.pausetime = 3,15
sparkno = S8035
sparkxy = 0, -34
hitsound = s0,22
guardsound = S0,26
guard.sparkno = S8060
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
air.velocity = -4,-5
fall = 0
air.fall = 1
fall.recover = 0
p2facing = 1
kill = 0

[State 2]
type = HitDef
trigger1 = animelem = 7
trigger1 = var(57) > 4
attr = S, HA
hitflag = MAFD
guardflag = M
animtype  = hard
damage    = ceil(fvar(12)*100+100),0
getpower = 0,0
guardflag = M
priority = 5,Miss
pausetime = 3,15
;guard.pausetime = 3,15
sparkno = S8035
sparkxy = 0, -34
hitsound = s0,22
guardsound = S0,26
guard.sparkno = S8060
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,0
air.velocity = -4,-5
fall = 0
air.fall = 1
fall.recover = 0
p2facing = 1
kill = 0

[State 4000, 7]
type = NotHitBy
trigger1 = time <= 54
value = SCA

[State 4000, 8]
type = NotHitBy
trigger1 = time >= 55
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 4000, 10]
type = Afterimage
trigger1 = animelem = 9
time = 15
length = 8
FrameGap = 2

[State 4000, 11]
type = Velset
trigger1 = animelem = 7
x = 10

[State 4000, 13]
type = Playsnd
trigger1 = animelem = 6
value = 0,34
volume = -80

[State 4000, 12]
type = Playsnd
trigger1 = animelem = 7
value = 0,5
volume = -80

[State 4000, 15]
type = Explod
trigger1 = animelem = 6, =1
anim = 1001
pos = 50, 0
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 4000, 16]
type = ChangeState
trigger1 = animtime = 0
trigger2 = moveguarded
value = 3101

[State 4000, 15]
type = ChangeState
trigger1 = movehit
value = 2201

[Statedef 2201];hit
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 1,0
anim = 6101

[State 3111, 1]
type = Width
trigger1 = 1
edge = 50,10

[state 3055, 0]
type = afterimage
trigger1 = time = 0
time = 0

[State 3111, 6.1]
type = posadd
trigger1 = animelem = 4
trigger2 = animelem = 5
trigger3 = animelem = 6
x = 15

[State 3111, 6.2]
type = posadd
trigger1 = animelem = 11
trigger2 = animelem = 12
x = 8

[State 821, 7]
type = velset
trigger1 = animelem = 13
x = 0

[State 3111, 8]
type = posadd
trigger1 = animelem = 13
x = -20

[State 3055, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 1]
type = playsnd
trigger1 = animelem = 5
value = S0,72

[State 3055, 2]
type = HitDef
trigger1 = animelem = 5
attr = S, HA
animtype  = hard
damage    = ceil(fvar(12)*100+30),0
guardflag = M
hitflag = MA
priority = 5,Hit
pausetime = 5,10
sparkno = S8021
guard.sparkno = S8050
sparkxy = -15, -42
hitsound = s(var(2)),61
guardsound = S0, 26
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -5,0
air.velocity = -3,0
air.juggle  = 15
kill = 0
getpower = 0,0

[State 3055, 2]
type = HitDef
trigger1 = animelem = 10
trigger1 = enemy,life != 0
attr = S, HA
animtype  = up
damage    = ceil(fvar(12)*100+30),0
guardflag = M
hitflag = MAF
priority = 5,Hit
pausetime = 5,10
sparkno = S8021
guard.sparkno = S8050
sparkxy = -15, -42
hitsound = s(var(2)),61
guardsound = S0, 26
ground.type = high
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = 0,-16
air.velocity = 0,-10
air.juggle  = 14
;p2stateno = 3057
yaccel = .9
fall = 1
fall.recover = 0
kill = 0
getpower = 0,0

[State 240, 5]
type = Targetstate
triggerall = animelem = 10, > 0
trigger1 = movehit > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
value = 2210
ignorehitpause = 1
persistent = 0

[State 3111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1
ignorehitpause = 1

[State 205, 5.1]; Blood
type = Explod
trigger1 = movehit > 0
trigger1 = animelem = 5, >= 0
anim = 8980
pos = -10, -42
postype = p2
vel = .5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 205, 5.2]; Blood2
type = Explod
trigger1 = movehit > 0
trigger1 = animelem = 10, >= 0
anim = 8980
pos = -10, -42
postype = p2
vel = .5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2202

[Statedef 2202]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 6102

[State 3055, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 191, 1]
type = playsnd
trigger1 = animelem = 3
value = S0,73

[State 240, 4]
type = Explod
trigger1 = animelem = 7, = 2
anim = 6110
postype = p1
pos = 5,10
sprpriority = 5
ownpal = 1
under = 0

[State 240, 2] ;Cross hand
type = HitDef
trigger1 = animelem = 8
trigger1 = enemy,life != 0
attr = S, HA
animtype  = hard
damage    = ceil(fvar(12)*100+10),0;100,0
guardflag = M
hitflag = MAF
priority = 5,Hit
pausetime = 18,50
sparkno = -1
guard.sparkno = S524
sparkxy = -7,-100
hitsound   = -1;S0,74
guardsound = S0,26
ground.type = high
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0, -10
air.velocity = 0, -12.3
air.juggle = 13
fall = 1
envshake.time = 25
yaccel = .7
fall.recover = 0
kill = 0
getpower = 0,0

[State 240, 5]
type = Targetstate
trigger1 = movehit > 0
trigger1 = Target,isHelper = 0
trigger1 = Target,stateno != [120,155]
value = 2211
ignorehitpause = 1
persistent = 0

[State 191, 1]
type = playsnd
trigger1 = movehit > 0
value = S0,74
ignorehitpause = 1
persistent = 0

[State 205, 5.1]
type = Explod
trigger1 = movehit > 0
trigger1 = animelem = 8, >= 0
anim = 8021
pos = 0, -40
postype = p2
vel = .5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 205, 5.2]; Blood
type = Explod
trigger1 = movehit > 0
trigger1 = animelem = 8, >= 0
anim = 8980
pos = -10, -40
postype = p2
vel = .5
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 3055, 6]
type = EnvColor
trigger1 = movehit > 0
trigger1 = animelem = 8, >= 0
ignorehitpause = 1
time = 2
under = 1
persistent = 0

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = movehit > 0
value = 2203

[State 210, 8]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = movehit = 0
value = 0
ctrl = 1

[Statedef 2203]
type    = S
movetype= A
physics = N
velset = 0,0
juggle = 0
poweradd= 0
anim = 6103
ctrl = 0

[State 2100, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 2000, 6]
type = helper
trigger1 = animelem = 7
id = 2300
persistent = 0
name = "skeleton"
pos = 55,5
postype = P1
stateno = 2300
helpertype = normal
keyctrl = 0

[State 2000, 7]
type = helper
trigger1 = animelem = 22
id = 2310
persistent = 0
name = "skeleton2"
pos = 55,5
postype = P1
stateno = 2310
helpertype = normal
keyctrl = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2300]
type = S
movetype = A
Anim = 1915
sprpriority = 2
ctrl = 0

[State 2300]
type = SprPriority
trigger1 = 1
value = 3

[state a]
type = playerpush
trigger1 = 1
value = 0

[state a]
type = posfreeze
trigger1 = 1
value = 1

[State 800, 1.2]
type = Playsnd
trigger1 = time = 0
value = 668,2
volume = 255

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = up
damage    = ceil(parent,fvar(12)*100+100),0
hitflag = MAF
guardflag = M
pausetime = 2,2
hitsound   = -1
guardsound = S0,26
sparkxy = -1
sparkno = -1
guard.sparkno = -1
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = 0,0
air.animtype = up
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
kill = 0

[State 2001, 3]
type = Targetstate
trigger1 = movehit > 0
value = 2212
IgnoreHitPause = 1
persistent = 0

[State 803, 5]
type = Envshake
trigger1 = movehit > 0
trigger1 = time = 0
time = 34
freq = 255
ampl = -5
ignorehitpause = 1
persistent = 0

[State 3060, 1]
type = Pause
trigger1 = movehit > 0
trigger1 = (GameTime%3) = 1
time = 1

[State 9001, 3]
type = Envcolor
trigger1 = movehit > 0
value = 255,255,255
persistent = 0
time = 1
under = 1

[State 1808, ChangeState]
Type = ChangeState
Trigger1 = AnimElem = 6
Value = 2410

[Statedef 2310]
type = S
movetype = A
Anim = 6111
ctrl = 0

[State 2310]
type = SprPriority
trigger1 = 1
value = 3

[state a]
type = playerpush
trigger1 = 1
value = 0

[state a]
type = posfreeze
trigger1 = 1
value = 1

[State 800, 1.2]
type = Playsnd
trigger1 = time = 0
value = 668,2
volume = 255

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, HP
animtype  = up
damage    = ceil(parent,fvar(12)*100+100),0
hitflag = MAF
guardflag = M
pausetime = 2,2
hitsound   = -1
guardsound = S0,26
sparkxy = -1
sparkno = -1
guard.sparkno = -1
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = 0,0
air.animtype = up
air.velocity = 0,0
air.juggle = 0
fall = 1
fall.recover = 0
kill = 1

[State 2001, 3]
type = Targetstate
trigger1 = movehit > 0
value = 2213
IgnoreHitPause = 1
persistent = 0

[State 803, 5]
type = Envshake
trigger1 = movehit > 0
trigger1 = time = 0
time = 34
freq = 255
ampl = -5
ignorehitpause = 1
persistent = 0

[State 3060, 2]
type = Pause
triggerall = movehit > 0
trigger1 = (GameTime%3) = 1
trigger1 = time <= 20
time = 1

[State 9001, 3]
type = Envcolor
trigger1 = movehit > 0
value = 255,255,255
persistent = 0
time = 1
under = 1

[State 1808, ChangeState]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 2410

[Statedef 2410];게닛코에게 히트시 버그 발견.
type = A
physics = N
movetype = I
VelSet = 0,0
Anim = 6112

[State a]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 2210]
type    = A
movetype= H
physics = N
sprpriority = -1
velset = 0,0

[State 2210, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1717

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 10
value = 6120

[State 821, 1]
type = Velset
trigger1 = time = 10
y = -15

[State 821, 1]
type = Veladd
trigger1 = time >= 10
y = 0.83

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 2211]
type    = A
movetype= H
physics = N
sprpriority = -1
velset = 0,0

[State 30550, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 1717

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 35
value = 6120

[State 821, 1]
type = Velset
trigger1 = time = 25
y = -13

[State 821, 1]
type = Veladd
trigger1 = time >= 26
y = .5

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 2212]
type    = A
movetype= H
physics = N
sprpriority = -1
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
value = 6120

[State 821, 1]
type = Velset
trigger1 = time = 8
y = -14

[State 821, 1]
type = Veladd
trigger1 = time >= 9
y = .5

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 2213]
type    = A
movetype= H
physics = N
sprpriority = -1
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !selfAnimExist(5061)
value = 6120

[State 821, 4]
type = changeanim
trigger1 = time = 3
trigger1 = selfAnimExist(5061)
value = 5061

[State 821, 4]
type = changeanim
trigger1 = time = 3
trigger1 = selfAnimExist(5061)
value = 5061

[State 821, 1]
type = Velset
Trigger1 = time = 6
trigger1 = backedgedist >= 10
x = -8

[State 821, 1]
type = Velset
Trigger1 = time = 6
y = 8

[State 821, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = backedgedist >= 10
x = -3

[State 821, 1]
type = Velset
trigger1 = backedgedist < 10
x = 0

[State 183, 3]
type = EnvShake
trigger1 = Pos Y >= 0 && Vel Y > 0
persistent = 0
ignorehitpause = 1
freq = 160
ampl = 6
phase = 90
time = 15

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 2700]
type    = S
physics = N
movetype= A
anim = 2700
ctrl = 0
velset = 0,0

[State 2700]
type = BGPalfx
trigger1 = time >= 0
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 2700, 1]
type = AfterImage
trigger1 = time = 0
time = 2000
length = 12
PalContrast = 248,20,20
PalBright   =   3,3,9
PalAdd      =  85,5,5
trans = add
TimeGap  = 2
FrameGap = 4

[State 2700, 2]
type = Width
trigger1 = 1
edge = 50,10

[State 3111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 3111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 2
trigger2 = animelem = 12, = 1
trigger3 = animelem = 20, = 1
trigger4 = animelem = 28
trigger5 = animelem = 35, = 1
trigger6 = animelem = 46, = 1
trigger7 = animelem = 57, = 1
value = 3122

[State 3111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 8
trigger2 = animelem = 42
trigger3 = animelem = 53
trigger4 = animelem = 64
value = 3121

[State 3111, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3111, 2]
type = velset
trigger1 = animelem = 32
x = 1

[State 3111, 3]
type = velset
trigger1 = animelem = 65
x = 0

[State 3111, 6.1]
type = Null;posadd
trigger1 = animelem = 3
trigger2 = animelem = 4
trigger3 = animelem = 5
x = 15

[State 3111, 6.2]
type = Null;posadd
trigger1 = animelem = 10
trigger2 = animelem = 11
x = 8

[State 3111, 6.3]
type = Null;posadd
trigger1 = var(1) != 2
trigger1 = animelem = 1
x = 15

[State 107, 1]
type = explod
trigger1 = animelem = 2
anim = 8020
pos = -10,-55
postype = p2
sprpriority = 5

[State 107, 2]
type = explod
trigger1 = animelem = 7, = 1
anim = 8020
pos = -20,-83
postype = p2
sprpriority = 5

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 20, = 1
trigger2 = animelem = 35, = 1
trigger3 = animelem = 46, = 1
trigger4 = animelem = 57, = 1
anim = 8981
pos = 50, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = animelem = 12, = 1
trigger2 = animelem = 28
trigger3 = animelem = 42
trigger4 = animelem = 53
trigger5 = animelem = 64
anim = 8981
pos = 50, -54
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 20, = 1
trigger2 = animelem = 35, = 1
trigger3 = animelem = 46, = 1
trigger4 = animelem = 57, = 1
anim = 8022
pos = 50, -54
ontop = 1
ownpal = 1
ignorehitpause = 1
facing = -1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 12, = 1
trigger2 = animelem = 28
trigger3 = animelem = 42
trigger4 = animelem = 53
trigger5 = animelem = 64
anim = 8022
pos = 50, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 8]
type = hitadd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 12, = 1
trigger4 = animelem = 20, = 1
trigger5 = animelem = 28
trigger6 = animelem = 35, = 1
trigger7 = animelem = 42
trigger8 = animelem = 46, = 1
trigger9 = animelem = 53
trigger10 = animelem = 57, = 1
trigger11 = animelem = 64
value = 1

[State 3111, 9.1];Damage
type = TargetLifeadd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 12, = 1
trigger4 = animelem = 20, = 1
trigger5 = animelem = 28
trigger6 = animelem = 35, = 1
trigger7 = animelem = 42
trigger8 = animelem = 46, = 1
trigger9 = animelem = 53
trigger10 = animelem = 57, = 1
trigger11 = animelem = 64
value = (floor(-22*fvar(12)))-22
absolute = 1
kill = 0

[State 3111, 10.1]
type = Playsnd
trigger1 = animelem = 2
trigger2 = animelem = 8
trigger3 = animelem = 12, = 1
trigger4 = animelem = 20, = 1
trigger5 = animelem = 28
trigger6 = animelem = 35, = 1
trigger7 = animelem = 42
trigger8 = animelem = 46, = 1
trigger9 = animelem = 53
trigger10 = animelem = 57, = 1
trigger11 = animelem = 64
value = var(2),61
volume = 0

[State 3111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 3111, 11]
type = Targetbind
trigger1 = 1
pos = 35,0

[State 2700, 11]
type = ChangeState
trigger1 = animtime = 0
value = 2701

;------------------------------------------------------
[Statedef 2701]
type    = S
physics = N
movetype= A
anim = 2701
ctrl = 0

[State 2900]
type = BGPalfx
trigger1 = time >= 0
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 1700, 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 810]
type = varset
trigger1 = time = 0
var(1) = 3

[State 3111, 1.1]
type = Width
trigger1 = 1
edge = 60,10

[State 3112, 2.1]
type = TargetBind
trigger1 = time >= 0
trigger1 = time <= 20
pos = 42,0

[State 3112, 2.2]
type = TargetBind
trigger1 = time >= 21
trigger1 = time <= 25
pos = 23,-127

[State 3112, 2.3]
type = TargetBind
trigger1 = time >= 26;110
;trigger1 = time <= 144
pos = 19,-133

[State 3112, 3]
type = Targetstate
trigger1 = time = 0
value = 2723

[State 3112, 4.1];grab spark
type = Explod
trigger1 = animelem = 4
anim = 8200
pos = 22,-123
sprpriority = 2
ownpal = 1

[State 3112, 9.4]
type = Playsnd
trigger1 = animelem = 4
value = 0,41
volume = -80

[State 3112, 9.11]
type = Playsnd
trigger1 = animelem = 4, =1 
value = 0,39
volume = 80
channel = 1

[State 3112, 4.2];blood 1
type = Explod
trigger1 = animelem = 4, =1
trigger2 = animelem = 4, =8
trigger3 = animelem = 4, =15
trigger4 = animelem = 4, =22
trigger5 = animelem = 4, =29
anim = 3160
pos = 16,-128
ontop = 1
ownpal = 1

[State 3112, 4.3];blood 2
type = Explod
trigger1 = animelem = 4, =1
trigger2 = animelem = 4, =8
trigger3 = animelem = 4, =15
trigger4 = animelem = 4, =22
trigger5 = animelem = 4, =29
anim = 3161
pos = 32,-95
ontop = 1
ownpal = 1

[State 3112, 4.4];blood 3
type = Explod
trigger1 = animelem = 4, =1
trigger2 = animelem = 4, =13
trigger3 = animelem = 4, =25
anim = 3162
pos = 7,-110
ontop = 1
ownpal = 1

[State 3112, 4.5];blood 4
type = Explod
trigger1 = animelem = 4, =1
trigger2 = animelem = 4, =9
trigger3 = animelem = 4, =17
trigger4 = animelem = 4, =25
anim = 3163
pos = 33,-114
ontop = 1
ownpal = 1

[State 3112, 10]
type = Changestate
trigger1 = animtime = 0
value = 2702

[Statedef 2702]
type    = S
physics = N
movetype= A
anim = 2702
ctrl = 0

[State 2900]
type = BGPalfx
trigger1 = 1
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 3111, 1.1]
type = Width
trigger1 = 1
edge = 60,10

[State 2702, 9.12]
type = Stopsnd
trigger1 = time = 0
channel = 1

[State 3111, 5]
type = Varadd
trigger1 = time = 0
var(1) = -1

[State 3112, 2.3]
type = TargetBind
trigger1 = 1
pos = 19,-133

[State 3112, 3]
type = Targetstate
trigger1 = time = 0
value = 2725

[State 3001, 3.3]
type = Explod
trigger1 = time = 0
anim = 1915
pos = 35,5
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1
SuperMoveTime = 999
PauseMoveTime = 999

[State 3112, 5]
type = playsnd
trigger1 = time = 0
value = 668,1

[State 2702, 5];shaking effect
type = Envshake
trigger1 = time = 2
time = 5
freq = 80
ampl = 7

[State 2702, 6];short flash
type = Envcolor
trigger1 = time = 2
value = 248,248,248
time = 1
under = 1

[State 3111, 8]
type = hitadd
trigger1 = time = 2
value = 1

[State 3111, 9.1];Damage
type = TargetLifeadd
trigger1 = time = 2
value = (floor(-40*fvar(12)))-40
absolute = 1
kill = 0

[State 2700, 10]
type = Changestate
trigger1 = animtime = 0
trigger1 = var(1) != 0
value = 2702

[State 2700, 12.2]
type = Changestate
trigger1 = animtime = 0
trigger1 = var(1) = 0
value = 2703

[Statedef 2703]
type    = S
physics = N
movetype= A
anim = 2703
ctrl = 0

[State 2900]
type = BGPalfx
trigger1 = time >= 0
invertall = 1
time = 1
mul = 100,100,100
ignorehitpause = 1

[State 3111, 1.1]
type = Width
trigger1 = 1
edge = 60,10

[State 3112, 2.3]
type = TargetBind
trigger1 = time < 10
pos = 19,-133

[State 3112, 3]
type = Targetstate
trigger1 = time = 10
value = 2724

[State 4001, 3.3]
type = Explod
trigger1 = animelem = 1, = 8
anim = 667
pos = 43,10;65,1
postype = p1
bindtime = 1
sprpriority = 4
ownpal = 1

[State 3112, 5]
type = playsnd
trigger1 = animelem = 1, = 10
value = 668,2

[State 3111, 8]
type = hitadd
trigger1 = animelem = 1, = 10
value = 1

[State 2703, final];Damage
type = TargetLifeadd
trigger1 = animelem = 1, = 10
value = (floor(-120*fvar(12)))-120
absolute = 1
kill = 1

[State 2703, 11]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 2723]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3123, 1]
type = changeanim2
trigger1 = time = 0
value = 2723

[State 3123, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 3123, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3123, 4];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[Statedef 2724]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3123, 1]
type = changeanim2
trigger1 = time = 0
value = 2724

[State 107, 2]
type = palfx
trigger1 = 1
time = 3
add = 70, 0,70
mul = 100,-80,100
sinadd = 90,-90,90,13
color = 0
invertall = 1

[State 3123, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 3123, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3123, 4];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 183, 3]
type = EnvShake
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
freq = 160
ampl = 6
phase = 90
time = 15

[State 3123, 5.1]
type = velset
trigger1 = time = 11
x = -5.3
y = -7

[State 3123, 5.3];gravity
type = veladd
trigger1 = time > 11
y = 0.65

[State 3123, 7]
type = selfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100;3124

[Statedef 2725]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3123, 1]
type = changeanim2
trigger1 = time = 0
value = 2725

[State 3123, 2]
type = Nothitby
trigger1 = 1
value = SCA

[State 3123, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3123, 4];adjust the camera
type = ScreenBound
trigger1 = 1
value = 1

[Statedef 4032]
type = A
movetype = H
physics = N
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 3500, 6]
type = ChangeAnim2
trigger1 = time = 0
value = 4032

[State 3500, 6]
type = ChangeAnim
trigger1 = time = 17
value = 5101

[State 821, 1]
type = Velset
Trigger1 = time = 10
trigger1 = backedgedist >= 10
x = -9

[State 821, 1]
type = Velset
Trigger1 = time = 10
y = 6

[State 821, 1]
type = Veladd
trigger1 = time > 10
y = 0.6

[State 821, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = backedgedist >= 10
x = -6

[State 821, 1]
type = Velset
trigger1 = backedgedist < 10
x = 0

[State 183, 3]
type = EnvShake
trigger1 = Pos Y >= 0 && Vel Y > 0
persistent = 0
ignorehitpause = 1
freq = 160
ampl = 6
phase = 90
time = 15

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7040]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 7040

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4121, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 4121, 5]
type = Null;selfstate
trigger1 = time = 150
value = 0
ctrl = 1

[Statedef 7041]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 4031

[State 30550, 2]
type = Null;ChangeAnim
trigger1 = time = 10
value = 5061

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4121, 4]
type = Nothitby
trigger1 = time < 12
value = SCA

[State 821, 1]
type = Velset
trigger1 = time = 10
x = -0.75
y = -13

[State 821, 1]
type = Veladd
trigger1 = time = [10,12]
y = 0.33

[State 821, 1]
type = Veladd
trigger1 = time > 12
y = 0.43

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;==================================경계선==================================;
[Statedef 7010]
type    = S
movetype= H
physics = S
velset = 0,0

[State 810]
type = hitfallset
trigger1 = time = 0
value = 0

[State 820, 1]
type = ChangeAnim
trigger1 = AnimExist(5300)
trigger1 = time = 0
value = 5300

[State 820, 1]
type = ChangeAnim2
trigger1 = !AnimExist(5300)
trigger1 = time = 0
value = 3122

[Statedef 7101]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 4121

[State 4121, 2]
type = Envcolor
trigger1 = time = 1
time = 1
under = 1

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4121, 4]
type = Nothitby
trigger1 = 1
value = SCA

[Statedef 7102]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 4122, 1]
type = changeanim2
trigger1 = time = 0
value = 4122

[State 4122, 2]
type = Envcolor
trigger1 = time = 1
time = 1
under = 1

[State 4122, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4122, 4]
type = Nothitby
trigger1 = 1
value = SCA

; The Judgment Of God
[Statedef 7000]
type    = S
physics = N
anim = 7000
poweradd = 0;-2000
ctrl = 0
juggle = 15
velset = 0,0
facep2 = 1

[State 7000]
type = PowerAdd
triggerall = var(9) != 1
triggerall = life <= 600 && life > 300
trigger1 = Time = 0
value = -3000

[State 7000]
type = PowerAdd
triggerall = life <= 300
trigger1 = Time = 0
value = -2000

[State 7000, 2]
type = PlaySnd
trigger1 = Time = 0
value = 0,5
volume = -80

[State 7000, 5.1]
type = VelSet
trigger1 = AnimElem = 2, < 3
x = 0

[State 7000, 5.2]
type = Velset
trigger1 = AnimElem = 2, >= 0
x = 9

[State 7000, 6]
type = Playsnd
trigger1 = animelem = 6
value = 0,5
volume = -80

[State 7000, 8]
type = ChangeState
trigger1 = animtime = 0
value = 3101

[State 3100, 8.3]
type = Changestate
trigger1 = P2BodyDist X < 30 && P2BodyDist Y > -50
value = 7001

[Statedef 7001]
type    = S
physics = N
movetype= A
anim = 7001
ctrl = 0
velset = 1,0

[State 240, 2]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
animtype  = hard
priority = 1,Hit
damage    = 0,0
hitflag = MAF
guardflag = M
pausetime = 0,0
guard.pausetime = 0,15
sparkno = S8021
guard.sparkno = S8050
sparkxy = 15, -42
hitsound = S1, 27
guardsound = S0, 26
ground.type = high
ground.slidetime = 15
ground.hittime  = 0
ground.velocity = 0, 0
air.velocity = 0, -12.3
air.juggle  = 13
p2stateno = 7010
envshake.time = 10
kill = 0

[State 240, 4]
type = Null;targetstate
trigger1 = movehit
value = 7010

[State 701, 1]
type = targetbind
Trigger1 = movehit
pos = 45,0

[State 3110, 1]
type = sprpriority
trigger1 = 1
value = 2

[State 240, 4]
type = velset
trigger1 = animelem = 3
x = 2

[State 240, 4]
type = velset
trigger1 = animelem = 7
x = 0

[State 3110, 3]
type = Posset
trigger1 = time = 0
y = 0

[State 3110, 4]
type = AfterImageTime
trigger1 = time = 0
time = 0

[state 190]
type = envcolor
trigger1 = movehit
ignorehitpause = 1
persistent = 0
time = 5
under = 1

[State 800, 2]
type = ChangeState
Triggerall = AnimTime = 0
Trigger1 = movehit = 0
Trigger2 = p2stateno != 7010
value = 0
ctrl = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
Trigger1 = movehit && p2stateno = 7010
value = 7002

[Statedef 7002]
type    = S
physics = S
movetype= A
anim = 7002
ctrl = 0
velset = 0,0

[state 7005, 1]
type = assertspecial
trigger1 = 1
flag = noBg
flag2 = noFG

[State 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 7002, 7]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 701, 1]
type = velset
trigger1 = frontedgedist <= 160
trigger1 = animelem = 1, >= 0
x = -4

[State 701, 1]
type = velset
trigger1 = backedgedist <= 70
trigger1 = animelem = 1, >= 0
x = 4

[State 240, 4]
type = Null;envcolor
trigger1 = time = 0
time = 300
value = 0,0,0
under = 1
persistent = 0
ignorehitpause = 1

[State 701, 1]
type = targetbind
Trigger1 = 1
pos = 55,0

[State 840,0]
type = PlayerPush
trigger1 = 1
value = 0

[State 4111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 4111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 4111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 900, 1.2]
type = Playsnd
trigger1 = Animelem = 7
value = 0,31
volume = 255

[State 191, 2]
type = Playsnd
trigger1 = animelem = 17
value = 0,13
volume = 0
channel = 0

[State 192, 2]
type = Explod
trigger1 = animelem = 7
anim = 1001
pos = 110, 3
ontop = 1
ownpal = 1

[State 192, 2.2]
type = PlaySnd
trigger1 = animelem = 7
value = 0,2
volume = 0

[State 192, 2.1]
type = Playsnd
trigger1 = animelem = 7
value = 0,34
volume = 0

[State 7002, 3];snap spark
type = Explod
trigger1 = animelem = 7
anim = 901
pos = 8,-132
ontop = 1
ownpal = 1

[State 4100,1]
type = Helper
trigger1 = animelem = 7
ID = 7001
name = "hallucination"
postype = back
pos = 235,0;53 95,0
sprpriority = 5
stateno = 7020
helpertype = normal
keyctrl = 0
facing = -1
persistent = 0
ignorehitpause = 1

[State 4100, 6.2]
type = Playsnd
trigger1 = animelem = 36
value = 7000,1

[State 4100, 1.1]
type = SuperPause
trigger1 = animelem = 37
anim = -1
time = 25

[State 4100, 1.3]
type = playsnd
trigger1 = animelem = 36
value = 0,48
volume = 255

[State 4100, 1.2]
type = Explod
trigger1 = animelem = 36
anim = 8650
pos = 21,-130
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 4111, 12.1]
type = Changestate
trigger1 = animtime = 0
value = 7003

[Statedef 7003]
type    = S
physics = N
movetype= A
anim = 7003
ctrl = 0
velset = 0,0

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4111, 1]
type = Width
trigger1 = 1
edge = 50,10

[State 4111, 2]
type = sprpriority
trigger1 = 1
value = 2

[State 4111, 3.1];hit low
type = Targetstate
trigger1 = animelem = 4
trigger2 = animelem = 15
trigger3 = animelem = 26
trigger4 = animelem = 37
trigger5 = animelem = 48
value = 7102

[State 4111, 3.2];hit high
type = Targetstate
trigger1 = animelem = 10
trigger2 = animelem = 21
trigger3 = animelem = 32
trigger4 = animelem = 43
value = 7101

[State 4111, 7.1]
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
anim = 8981
pos = 46, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 4111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 4111, 7.3];Skeleton
type = Explod
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
anim = 666;4160
pos = 46, 5
sprpriority = 4
ownpal = 1
scale = 0.7,1

[State 4111, 8]
type = hitadd
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
trigger10 = AnimElem = 52, = 2 || AnimElem = 53, = 2 || AnimElem = 54, = 2  || AnimElem = 55, = 2
value = 2

[State 4111, 9.1];Damage
type = TargetLifeadd
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
trigger10 = AnimElem = 52, = 2 || AnimElem = 53, = 2 || AnimElem = 54, = 2  || AnimElem = 55, = 2
value = (floor(-30*fvar(12)))-30
absolute = 1
kill = 0

[State 4111, 10.1]
type = Playsnd
trigger1 = animelem = 4
trigger2 = animelem = 10
trigger3 = animelem = 15
trigger4 = animelem = 21
trigger5 = animelem = 26
trigger6 = animelem = 32
trigger7 = animelem = 37
trigger8 = animelem = 43
trigger9 = animelem = 48
trigger10 = AnimElem = 52, = 2 || AnimElem = 53, = 2 || AnimElem = 54, = 2  || AnimElem = 55, = 2
value = var(2),27
volume = 0

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = AnimElem = 52, = 2 || AnimElem = 53, = 2 || AnimElem = 54, = 2  || AnimElem = 55, = 2
anim = 8981
postype = p2
pos = 0, -60
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = AnimElem = 52, = 2 || AnimElem = 53, = 2 || AnimElem = 54, = 2  || AnimElem = 55, = 2
anim = 8022
postype = p2
pos = 0, -60
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3113, 3]
type = Envcolor
trigger1 = AnimElem = 52, = 2 || AnimElem = 53, = 2 || AnimElem = 54, = 2  || AnimElem = 55, = 2
value = 248,0,0
time = 1
under = 1

[State 4111, 10.2]
type = VarRandom
trigger1 = 1
v = 2
range = 1

[State 4111, 11]
type = Targetbind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 53, < 0
pos = 45,0

[State 3112, 3]
type = Targetstate
trigger1 = AnimElem = 54
value = 7032

[State 4111, 12.1]
type = Changestate
trigger1 = animtime = 0
value = 7004

[Statedef 7004]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
velset = 0,0
anim = 7004
sprpriority = 1

[State 3112, 3]
type = Targetstate
trigger1 = Animelem = 7
value = 7033

[State 900, 1.2]
type = Playsnd
trigger1 = Animelem = 7 || Animelem = 14
value = 0,31
volume = 255

[State 4000, 3]
type = explod
trigger1 = animelem = 7
ID = 7075
anim = 7075
pos = 0,-55
postype = p2
sprpriority = -2
ownpal = 1
removetime = -1
bindtime = -1
supermove = 1

[State 7004, 1]
type = Playsnd
trigger1 = time = 40
value = 0,53
volume = 255

[State 7004, 2]
type = Null;Playsnd
trigger1 = time = 40
value = 0,56
volume = 0
channel = 7

[State 950, 3];snap spark
type = Explod
trigger1 = animelem = 7
anim = 901
pos = 8,-132
ontop = 1
ownpal = 1
supermovetime = 30

[State 900, 3];snap spark
type = Explod
trigger1 = animelem = 14
anim = 901
pos = 32,-121
ontop = 1
ownpal = 1
supermovetime = 30

[State 4111, 12.1]
type = Changestate
trigger1 = animtime = 0
value = 7005

[Statedef 7005]
type    = A
movetype= A
physics = N
juggle  = 0
ctrl = 0
velset = 0,0
anim = 7005
sprpriority = 1

[State 7005]
type = Pause
trigger1 = time = 1
time = 20
movetime = 20

[state 7005, 1]
type = assertspecial
trigger1 = time >= 1
trigger1 = time <= 25
flag = nomusic

[State 3111, 10.1]
type = Playsnd
trigger1 = Time = 0
value = 0,55
volume = 255

[State 7005, 1]
type = removeExplod
ID = 7075
trigger1 = time = 30

[State 4000, 2]
type = explod
trigger1 = time = 30
ID = 7076
anim = 7076
pos = 0,-55
postype = p2
sprpriority = -2
ownpal = 1
removetime = -1
bindtime = -1
supermove = 1

[State 4100,1]
type = Helper
trigger1 = time = 0
ID = 7005
name = "hallucination"
postype = p1
pos = 150,-115
sprpriority = 5
stateno = 7021
helpertype = normal
keyctrl = 0
facing = -1
persistent = 0
ignorehitpause = 1
pausemovetime = 20

[State 800, 2]
type = posadd
Trigger1 = time = 0
x = -60
y = -115

[State 800, 2]
type = velset
Trigger1 = time = 35
x = 23
y = 15

[State 240, 4]
type = Explod
trigger1 = Time = 35
anim = 7077
postype = p2
pos = -35,-25
sprpriority = 5
ownpal = 1

[State 240, 4]
type = Explod
trigger1 = Time = 35
anim = 7077
postype = p2
facing = -1
pos = 35,-25
sprpriority = 5
ownpal = 1

[State 3111, 10.1]
type = Playsnd
trigger1 = Time = 35 || Time = 36
value = var(2),27
volume = 80

[State 3111, Damage]
type = TargetLifeadd
trigger1 = Time = 35
value = -400
absolute = 1
kill = 0

[State 3111, 8]
type = hitadd
trigger1 = Time = 35
value = 2

[State 3112, 3]
type = Targetstate
trigger1 = Time = 35
value = 7102

[State 4111, 12.1]
type = Changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 7006

[Statedef 7006]
type    = A
movetype= A
physics = N
juggle  = 0
ctrl = 0
velset = 0,0
anim = 7006
sprpriority = 1

[State 0]
type = Changeanim
trigger1 = Win
trigger1 = Time = 0
value = 7007

[State 70052]
type = Playsnd
trigger1 = Time = 5
value = 0,54
volume = 255

[State 7005]
type = stopsnd
trigger1 = time = 0
channel = 7

[State 7006, kami]
type = PlaySnd
trigger1 = time = 66
value = 0,16
volume = 0

[State 7006,1]
type = turn
trigger1 = time = 63

[State 7006,2]
type = PosSet
trigger1 = 1
y = 0

[State 3111, 10.1]
type = Playsnd
trigger1 = time = 167
value = 668,2
volume = 0

[State 4113, 5.1]
type = Explod
trigger1 = time = 167
anim = 7078
pos = 20,-110
postype = p2
bindtime = 1
ontop = 0
ownpal = 1

[State 3111, 8]
type = hitadd
trigger1 = time = 170
value = 1

[State 4113, Kill]
type = TargetLifeAdd
trigger1 = time = 170
value = -10000
kill = 1

[State 3112, 3]
type = Targetstate
trigger1 = time = 170
value = 7034

[State 183, 3]
type = EnvShake
trigger1 = time = 170
persistent = 0
ignorehitpause = 1
freq = 160
ampl = 8
phase = 90
time = 30

[State 7006, 7]
type = removeExplod
ID = 7076
trigger1 = time = 167

[State 800, 2]
type = ChangeState
Trigger1 = animelem = 13
value = 0
ctrl = 1

[Statedef 7032]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 4121, 1]
type = changeanim
trigger1 = time = 0
value = 5050

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 4121, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 821, 1]
type = Velset
trigger1 = time = 10
y = -10.0

[State 821, 1]
type = Veladd
trigger1 = time >= 15
y = 0.4

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7033]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 4121, 1]
type = changeanim2
trigger1 = time = 0
value = 3122

[State 4121, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 821, 1]
type = Velset
trigger1 = time = 0
y = 0


[Statedef 7034]
type = A
movetype = H
physics = N
velset = 0,0

[State 100 , 1]
type = AssertSpecial
trigger1 = Time >= 0
flag  = noshadow

[State 950, 3.1]
type = Nothitby
trigger1 = 1
value = SCA

[State 9000, 1]
type = ScreenBound
triggerall = alive = 1
trigger1 = 1
value = 1

[State 3500, 6]
type = ChangeAnim
trigger1 = time = 0
value = 5062

[State 3500, 8]
type = VelSet
trigger1 = time = 20
y = -50

[State 3500, 8]
type = VelSet
triggerall = alive = 0
trigger1 = time >= 22
y = 4000

[State 3500, 9]
type = VelAdd
triggerall = alive = 1
trigger1 = time >= 22
y = 0.7

[State 820, 10] ;From isabeau
type = ChangeState
triggerall = alive = 0
Trigger1 = Time = 50
value = 5150
ctrl = 0

[State 821, 4]
type = SelfState
triggerall = alive = 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7020]
type = S
physics = S
movetype = I
anim = 7012
ctrl = 0
velset = 0,0

[State 4100, 1.2]
type = Explod
trigger1 = animelem = 40
anim = 8650
pos = 21,-130
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 1]
type = Velset
trigger1 = ParentDist X > 110
X = 0.5

[State 810, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 4111, 7.1]
type = Explod
trigger1 = animelem = 45 ;+41
trigger2 = animelem = 51
trigger3 = animelem = 56
trigger4 = animelem = 62
trigger5 = animelem = 67
trigger6 = animelem = 73
trigger7 = animelem = 78
trigger8 = animelem = 84
trigger9 = animelem = 89
anim = 8981
pos = 46, -54
vel = -.5
facing = -1
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 4111, 7.2];Cross slash
type = Explod
trigger1 = animelem = 45 ;+41
trigger2 = animelem = 51
trigger3 = animelem = 56
trigger4 = animelem = 62
trigger5 = animelem = 67
trigger6 = animelem = 73
trigger7 = animelem = 78
trigger8 = animelem = 84
trigger9 = animelem = 89
anim = 8022
pos = 46, -54
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 4111, 7.3];Skeleton
type = Explod
trigger1 = animelem = 45 ;+41
trigger2 = animelem = 51
trigger3 = animelem = 56
trigger4 = animelem = 62
trigger5 = animelem = 67
trigger6 = animelem = 73
trigger7 = animelem = 78
trigger8 = animelem = 84
trigger9 = animelem = 89
anim = 666;4160
pos = 46, 5
sprpriority = 4
ownpal = 1
scale = 0.7,1

[State 3111, 7.1];Hit blood
type = Explod
trigger1 = AnimElem = 93, = 2 || AnimElem = 94, = 2 || AnimElem = 95, = 2  || AnimElem = 96, = 2
anim = 8981
postype = p2
pos = 0, -60
vel = -.5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3111, 7.2];Cross slash
type = Explod
trigger1 = AnimElem = 93, = 2 || AnimElem = 94, = 2 || AnimElem = 95, = 2  || AnimElem = 96, = 2
anim = 8022
postype = p2
pos = 0, -60
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 3110, 1]
type = sprpriority
trigger1 = 1
value = 2

[State 950, 3];snap spark
type = Explod
trigger1 = animelem = 104
anim = 901
pos = 8,-132
ontop = 1
ownpal = 1
supermovetime = 30

[State 900, 3];snap spark
type = Explod
trigger1 = animelem = 111
anim = 901
pos = 32,-121
ontop = 1
ownpal = 1
supermovetime = 30

[State 821, 4]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 7021]
type = A
physics = N
movetype = A
anim = 7005
ctrl = 0
velset = 0,0

[State 701, 1]
type = Width
trigger1 = 1
edge = 10,0

[State 800, 2]
type = velset
Trigger1 = time = 35
x = 23
y = 15

[State 800, 2]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 7022

[Statedef 7022]
type = S
physics = S
movetype = I
anim = 7006
ctrl = 0
velset = 0,0

[State 7006,1]
type = turn
trigger1 = time = 63

[State 7006,2]
type = PosSet
trigger1 = 1
y = 0

[State 1050, 1.2]
type = Playsnd
trigger1 = animelem = 20
value = 0,34
volume = 0

[State 1050, 2]
type = Explod
trigger1 = animelem = 20
anim = 1001
pos = 0, 0
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 821, 4]
type = destroyself
trigger1 = AnimTime = 0

[Statedef 7121]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3120, 1.1]
type = changestate
;trigger1 = ((p2stateno != 7000) && (p2stateno != 3110))
trigger1 = time = 1
value = 3126

[State 3120, 1.2]
type = changeanim2
trigger1 = time = 0
;trigger2 = p2stateno = 7121
value = 3120

[State 3120, 2]
type = posfreeze
trigger1 = 1

[State 3120, 3];short flash(red)
type = Envcolor
trigger1 = time = 0
value = 248,0,0
time = 1
under = 1

[State 3120, 4]
type = posset
trigger1 = time = 0
y = 0

[State 3120, 5]
type = sprpriority
trigger1 = 1
value = 1

[State 3120, 6]
type = Nothitby
trigger1 = 1
value = SCA

[Statedef 3200]
type    = S
physics = N
movetype= A
anim = 3200
poweradd = 0;-1000
ctrl = 0
juggle = 8
velset = 0,0
facep2 = 1

[State 1]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 6
value = 3201

[State 3200]
type = VarSet
triggerall = var(9) = 0
triggerall = power >= 2000
triggerall = command = "x"
triggerall = command = "y"
;trigger1 = life <= 400
trigger1 = time = 0
var(7) = 1

[State 3200,1]
type = VarSet
triggerall = var(9) = 1
triggerall = power >= 2000
trigger1 = time = 0
var(7) = 1

[State 3150, 1]
type = VarSet
triggerall = var(57) < 5
trigger1 = prevstateno = 1800
trigger1 = time = 0
fvar(1) = 0
ignorehitpause = 1
Persistent = 0

[State a]
type = PowerAdd
trigger1 = Time = 0
value = ifelse(var(7)=0,-1000,-2000)

[State 3200, 2]
type = BGPalfx
trigger1 = time >= 0
trigger1 = var(7) = 1
invertall = 1
time = 1
mul = 100,100,100;150,88,0
ignorehitpause = 1

[State 240, 4]
type = Null;ChangeState
trigger1 = Time = 0
trigger1 = life <= 600
;trigger1 = power >= 1000
value = 4100

[State 3100]
type = EnvColor
trigger1 = time = 15
time = 5
under = 1

[State 3200, 1]
type = SuperPause
trigger1 = time = 15
p2defmul = 1
time = 10
anim = -1

[State 3100, 1.2];Kof 2000 superspark(Edit)
type = Explod
trigger1 = Time = 15
anim = ifelse(var(7)=0,8650,8700)
pos = -20,-80
postype = p1
supermove = 1
bindtime = 30
ontop = 1
ownpal = 1

[State 3100, 1.3];chime snd
type = playsnd
trigger1 = Time = 15
value = ifelse(var(7)=0,0,3),ifelse(var(7)=0,48,8)
volume = -80

[State 3100, 2]
type = Hitdef
trigger1 = animelem = 3
trigger1 = var(57) <= 4
attr = S, HA
hitflag = MAF
guardflag = M
animtype = Hard
priority = 4,Hit
damage = 0, 0
pausetime = 3, 9
guard.pausetime = 0, 9
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
hitsound = S0,22
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
p2stateno = 3700
p2getp1state = 1
p2facing = 1
hitonce = 1
kill = 0

[State 3100, 2]
type = Hitdef
triggerall = animelem = 3
trigger1 = var(57) > 4
trigger2 = fvar(1) = 0
attr = S, HA
hitflag = MAFD
guardflag = M
animtype = Hard
priority = 5,hit
damage = 0, 0
pausetime = 3, 9
guard.pausetime = 0, 9
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
hitsound = S0,22
guardsound = S0, 26
ground.type = Low
air.type = Low
guard.slidetime = 18
guard.hittime = 19
guard.ctrltime = 15
guard.velocity = -6
sprpriority = 3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = -10
p2stateno = 3700
p2getp1state = 1
p2facing = 1
hitonce = 1
kill = 0

[State 3200, 3.1]
type = Nothitby
trigger1 = time <= 20
value = SCA

[State 3200, 3.2]
type = NotHitby
trigger1 = time >= 21
value = A, NT, ST, HT
value2 = A, NA, SA, HA

[State 3100, 4];Shadows
type = Afterimage
trigger1 = animelem = 8
time = 15
length = 8
FrameGap = 2

[State 3100, 5]
type = Velset
trigger1 = animelem = 4
x = 11

[State 3100, 6.1]
type = Playsnd
trigger1 = animelem = 4
value = 0,5
volume = -80

[State 3100, 6.2]
type = Playsnd
trigger1 = animelem = 1, = 5
value = 0,15
volume = 0
channel = 0

[State 3100, 8]
type = ChangeState
trigger1 = moveguarded
value = ifelse(var(57) > 4,3101,3277);3101

[State 3100, 8.2]
type = ChangeState
trigger1 = animtime = 0
trigger2 = movehit
trigger2 = p2stateno != 3700
value = 3101

[State 3100, 8.3]
type = Changestate
;trigger1 = life > 400
trigger1 = var(7) != 1
trigger1 = movehit && p2stateno = 3700
value = 3300

[State 3100, 8.12]
type = ChangeState
;trigger1 = life <= 400
trigger1 = var(7) = 1
trigger1 = movehit && p2stateno = 3700
value = 4300

[Statedef 3300]
type    = S
physics = N
movetype= A
anim = 3210
ctrl = 0
velset = ifelse(var(57) >= 5,14,12)

[State 3300]
type = AfterImage
trigger1 = var(7) != 1
trigger1 = time = 0
time = 2000
length = 10
PalContrast = 110,110,225
PalBright   =   3,3,9
PalAdd      =  0,0,85
trans = add
TimeGap  = 1
FrameGap = 3

[State 3110, 1]
type = sprpriority
trigger1 = 1
value = 2

[State 240, 4]
type = targetstate
trigger1 = time = 0
value = 3710

[State 240, 4]
type = targetbind
trigger1 = time = 0
time = 999
pos = -30,-65

[State 3110, 4]
type = Null;AfterImageTime
trigger1 = time = 0
time = 0

[State 240, 4]
type = Explod
trigger1 = time = 0
ID = 3220
anim = 3160
pos = -19,-63
postype = p1
bindtime = -1
sprpriority = 5
removetime = -1
ownpal = 1
supermove = 1

[state 3000]
type = changestate
trigger1 = FrontEdgeDist < 20
value = 3400

[Statedef 3400]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3220
sprpriority = 1

[State 4300]
type = VarSet
trigger1 = time = 0
var(7) = 0

[State 240, 4]
type = removeExplod
ID = 3220
trigger1 = time = 0

[State 3140]
type = Null;StopSnd
trigger1 = time = 0
channel = 11

[State 701, 1]
type = sprpriority
trigger1 = animelem = 1
value = -5

[State 701, 1]
type = sprpriority
trigger1 = animelem = 2
value = 2

[State 701, 1]
type = Width
trigger1 = time = 0
edge = 90,0

[State 240, 4]
type = targetbind
trigger1 = time = 0
pos = -15,-65

[State 240, 4]
type = targetbind
trigger1 = animelem = 2
pos = 28,-65

[State 240, 4]
type = targetlifeadd
trigger1 = fvar(1) = 1
trigger1 = animelem = 3
value = (ceil(-280*fvar(12)))-280

[State 240, 5]
type = targetlifeadd
trigger1 = fvar(1) = 0
trigger1 = animelem = 3
value = -100

[State 240, 4]
type = targetbind
trigger1 = animelem = 3
pos = 68,-87

[State 240, 4]
type = targetbind
trigger1 = animelem = 3, = 10
pos = 68,-27

[State 240, 4]
type = targetstate
trigger1 = animelem = 3, = 10
value = 3720

[State 240, 4]
type = Explod
trigger1 = animelem = 3
anim = 667
postype = p1
pos = 70,10
sprpriority = 6
ownpal = 1
supermove = 1

[State 191, 1]
type = envshake
trigger1 = animelem = 3
time = 15

[State 191, 1]
type = playsnd
trigger1 = animelem = 3
value = 668,2

[State 240, 4]
type = Explod
trigger1 = animelem = 3
anim = 8120
postype = p1
pos = 0,0
sprpriority = 6
ownpal = 1

[State 230, 0]
type = hitadd
trigger1 = animelem = 3
value = 1

[State 4400]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 105

[Statedef 4300]
type    = S
physics = N
movetype= A
anim = 3210
ctrl = 0
velset = ifelse(var(57) > 4,14,12),0

[State 4300, repeat]
type = Varset
trigger1 = var(7) = 1
trigger1 = time = 0
var(8) = ifelse(var(57) >= 5,3,1)

[State 4300]
type = AfterImage
trigger1 = time = 0
time = 2000
length = 10
PalContrast = 248,20,20
PalBright   =   3,3,9
PalAdd      =  85,5,5
trans = add
TimeGap  = 1
FrameGap = 3

[State 3110, 1]
type = sprpriority
trigger1 = 1
value = 2

[State 240, 4]
type = targetstate
trigger1 = time = 0
value = 3710

[State 240, 4]
type = targetbind
trigger1 = time = 0
time = 999
pos = -30,-65

[State 240, 4]
type = Explod
trigger1 = time = 0
ID = 3220
anim = 3160
pos = -19,-63
postype = p1
bindtime = -1
sprpriority = 5
removetime = -1
ownpal = 1
supermove = 1

[State 3112, 4.4]
type = Explod
trigger1 = time = 0
ID = 3220
anim = 3162
pos = -28,-45
postype = p1
bindtime = -1
sprpriority = 5
removetime = -1
ontop = 1
ownpal = 1
supermove = 1

[state 3000]
type = changestate
trigger1 = FrontEdgeDist < 20
value = 4400

[Statedef 4400]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3220;4220
sprpriority = 1

[State 240, 4]
type = removeExplod
ID = 3220
trigger1 = time = 0

[State 3140]
type = Null;StopSnd
trigger1 = time = 0
channel = 11

[State 701, 1]
type = sprpriority
trigger1 = animelem = 1
value = -5

[State 701, 1]
type = sprpriority
trigger1 = animelem = 2
value = 2

[State 701, 1]
type = Width
trigger1 = time = 0
edge = 90,0

[State 240, 4]
type = targetbind
trigger1 = time = 0
pos = -15,-65

[State 240, 4]
type = targetbind
trigger1 = animelem = 2
pos = 28,-65

[State 240, 4]
type = targetlifeadd
trigger1 = animelem = 3
value = (ceil(-200*fvar(12)))-200 ;ifelse(var(57) > 4,-380,-200)
kill = 0

[State 240, 4]
type = targetbind
trigger1 = animelem = 3
pos = 68,-87

[State 240, 4]
type = Null;targetstate
trigger1 = animelem = 3, = 10
value = 3720

[State 240, 4]
type = Explod
trigger1 = animelem = 3
anim = 667
postype = p1
pos = 70,10
sprpriority = 6
ownpal = 1
supermove = 1

[State 191, 1]
type = envshake
trigger1 = animelem = 3
time = 15

[State 191, 1]
type = playsnd
trigger1 = animelem = 3
value = 668,2

[State 240, 4]
type = Explod
trigger1 = animelem = 3
anim = 8120
postype = p1
pos = 0,0
sprpriority = 6
ownpal = 1

[State 230, 0]
type = hitadd
trigger1 = animelem = 3
value = 1

[state 4400]
type = changestate
trigger1 = AnimTime = 0
value = 4401;3400

[State 195, 2]
type = Null;ChangeState
trigger1 = AnimTime = 0
value = 105

[Statedef 4401]
type    = S
physics = N
movetype= A
anim = 4220
ctrl = 0
velset = 0,0

[State 4400, 2]
type = playsnd
trigger1 = time = 0
value = 0,6
volume = 0

[State 3110, 2]
type = Varset
triggerall = var(57) >= 5
trigger1 = time = 0
var(7) = 0

[State 3110, 2]
type = Varadd
trigger1 = time = 0
var(8) = -1

[State 4400, 3]
type = velset
trigger1 = animelem = 3, >= 0
x = ifelse(var(57) > 3,14,12)

[State 4400, 4]
type = turn
trigger1 = AnimElem = 3

[State 4400, 5]
type = TargetFacing
trigger1 = AnimElem = 3
value = -1

[State 240, 4]
type = targetbind
trigger1 = AnimElem = 3, >= 0
time = 999
pos = -30,-65

[State 4400, 1]
type = Explod
trigger1 = animelem = 3
ID = 3220
anim = 3160
pos = -19,-63
postype = p1
bindtime = -1
sprpriority = 5
removetime = -1
ownpal = 1
supermove = 1

[State 3112, 4.4]
type = Explod
trigger1 = animelem = 3
ID = 3220
anim = 3162
pos = -28,-45
postype = p1
bindtime = -1
sprpriority = 5
removetime = -1
ontop = 1
ownpal = 1
supermove = 1

[State 4401, final]
type = Changestate
triggerall = var(8) = 0
trigger1 = AnimElem = 3, >= 0
trigger1 = FrontEdgeDist < 20
value = 3400

[State 4401, repeat]
type = Changestate
triggerall = var(8) != 0
trigger1 = AnimElem = 3, >= 0
trigger1 = FrontEdgeDist < 20
value = 4300

;Normal Type
[Statedef 3277]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3277
sprpriority = 1

[State 3300]
type = VarSet
trigger1 = time = 0
value = var(7) = 0

[State 240, 1]
type = removeExplod
ID = 3220
trigger1 = time = 0

[State 77, 2]
type = HitDef
Trigger1 = animelem = 3
animtype  = Up
attr = S, HA
guardflag = M
pausetime = 0,6
guard.pausetime = 0,6
hitflag = MA
priority = 4,hit
hitsound = S0,22
guardsound = S0,26
sparkno = S8035
guard.sparkno = S8060
sparkxy = 0, -34
ground.hittime  = 12
guard.velocity = -5
sprpriority = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 105

;------------------------------------------------
; Hit by Gigantic.
[Statedef 3700]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3120, 1.1]
type = changestate
trigger1 = ((p2stateno != 3200) && (p2stateno != 3300))
trigger1 = time = 1
value = 3126

[State 3120, 1.2]
type = changeanim2
trigger1 = time = 0
trigger2 = p2stateno = 3200
value = 3120

[State 3120, 2]
type = posfreeze
trigger1 = p2stateno = 3200

[State 3120, 3];short flash(White)
type = Envcolor
trigger1 = time = 0
time = 1
under = 1

[State 3120, 4]
type = posset
trigger1 = time = 0
y = 0

[State 3120, 5]
type = sprpriority
trigger1 = 1
value = 1

[State 3120, 6]
type = Nothitby
trigger1 = 1
value = SCA

[State 3120, 7]
type = selfstate
trigger1 = time = 25
value = 0
ctrl = 1

[Statedef 3710]
type    = S
physics = N
movetype= H
ctrl = 0
velset = 0,0

[State 3300]
type = palfx
trigger1 = 1
time = 999
add = 70, 0,70
mul = 100,-80,100
sinadd = 90,-90,90,13
color = 0
invertall = 1

[State 33000, 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 3122, 1]
type = changeanim2
trigger1 = time = 0
value = 3300

[State 3122, 2];short flash(red)
type = Envcolor
trigger1 = time = 1
value = 255,255,255
time = 1
under = 1

[State 3122, 3]
type = sprpriority
trigger1 = 1
value = 1

[State 3122, 4]
type = Nothitby
trigger1 = 1
value = SCA

[State 3122, 5]
type = Null;selfstate
trigger1 = time = 25
value = 0
ctrl = 1

[Statedef 3720]
type = A
movetype = H
physics = N
velset = 0,0

[State 3310, 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 3310, 2]
type = ChangeAnim
trigger1 = time = 0
value = 5052

[State 3310, 3]
type = ChangeAnim
trigger1 = time = 10
value = 5062

[State 3500, 8]
type = VelSet
trigger1 = time = 0
y = -9

[State 3500, 9]
type = VelAdd
trigger1 = time >= 2
y = 0.5

[State 7000, 1]
type = Nothitby
trigger1 = 1
value = SCA

[State 107, 2]
type = palfx
trigger1 = 1
time = 3
add = 70, 0,70
mul = 100,-80,100
sinadd = 90,-90,90,13
color = 0
invertall = 1

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7104]
type = A
movetype = H
physics = N
velset = 0,0

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 3010, 1]
type = nothitby
trigger1 = P2stateno != 3200
trigger1 = enemyNear, var(57) < 5
value = SCA

[State 3500, 6]
type = ChangeAnim
trigger1 = time = 0
value = 5030

;From ihoo1386
[State 3010, 7]
type = posfreeze
trigger1 = time < 8

[State 3010, 7]
type = posadd
trigger1 = time = 8
y = -10

[State 3010, 9]
type = ChangeAnim
trigger1 = time < 8
trigger1 = selfanimexist(5050)
value = 5050

[State 3010, 9]
type = ChangeAnim2
trigger1 = time = 8
value = 1807

[State 3010, 10]
type = VelSet
trigger1 = time = 0
x = -2
y = -12

[State 3500, 9]
type = VelAdd
trigger1 = time >= 12
y = 0.6

[State 3305, 2]
type = PalFX
trigger1 = time = 0 || time = 18 || time = 36 || time = 54
time = 9
add = 168,0,48
mul = 188,166,166
sinadd = 96,96,96,12
color = 0
invertall = 1

[State 3305, 2]
type = PalFX
trigger1 = time = 9 || time = 27 || time = 45
time = 9
add = 216,48,96
mul = 188,166,166
sinadd = 64,64,64,24
color = 0

[State 3305, 2]
type = PalFX
trigger1 = time = 63
time = 4
add = 216,48,96
mul = 188,166,166
sinadd = 64,64,64,24
color = 0

[State 821, 4]
type = SelfState
triggerall = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7105]
type = A
movetype = H
physics = N
velset = 0,0

[state 7004, 1]
type = Null;assertspecial
trigger1 = 1
flag = nokoslow

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 3500, 6]
type = ChangeAnim
trigger1 = time = 0
value = 5062

[State 3500, 8]
type = VelSet
trigger1 = time = 20
x = -1
y = -30

[State 3500, 9]
type = Gravity
trigger1 = time >= 22

[State 3500, 10]
type = VelAdd
trigger1 = time >= 27
y = 0.8

[State 821, 4]
type = SelfState
triggerall = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7106]
type    = A
physics = N
movetype= H
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3500, 6]
type = ChangeAnim2
trigger1 = time = 0
value = 1716

[State 3500, 8]
type = VelSet
trigger1 = time = 0
y = -20

[State 3500, 9]
type = veladd
trigger1 = time >= 0
y = 0.6

[State 821, 4]
type = SelfState
triggerall = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 7107]
type = A
movetype = H
physics = N
velset = 0,0

[State 3010, 1]
type = DefenceMulSet
trigger1 = time = 0
value = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3010, 1]
type = nothitby
trigger1 = 1
value = SCA

[State 3500, 6]
type = ChangeAnim
trigger1 = time = 0
value = 5030

;From ihoo1386
[State 3010, 7]
type = Null;posfreeze
trigger1 = time < 2

[State 3010, 7]
type = posadd
trigger1 = time = 0
y = -10

[State 3010, 9]
type = ChangeAnim
trigger1 = time < 2
trigger1 = selfanimexist(5050)
value = 5050

[State 3010, 9]
type = ChangeAnim2
trigger1 = time = 2
value = 1807

[State 3010, 10]
type = VelSet
trigger1 = time = 2
x = -2
y = -10

[State 3500, 9]
type = VelAdd
trigger1 = time >= 6
y = 0.7

[State 3305, 2]
type = PalFX
trigger1 = time = 0
time = 30
add = 70, 0,70
mul = 100,-80,100
sinadd = 90,-90,90,13
color = 0
invertall = 1

[State 183, 3]
type = EnvShake
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
freq = 160
ampl = 6
phase = 90
time = 15

[State 821, 4]
type = SelfState
triggerall = time > 3
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


[Statedef 10000]
type    = S
physics = N
movetype= A
ctrl = 0
anim = 10000
velset = 0,0,0
poweradd = -1000
juggle = 15

[State 1]
type = changeanim
trigger1 = time = 0
trigger1 = var(57) >= 5
value = 10010

[State 3711, 3]
type = helper
trigger1 = AnimElem = 11
id = 10001
pos = (p2dist x),0;90,3
name = "Pillar of death"
stateno = 10001
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3150, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 1

[State 3100, 1.2]
type = Explod
trigger1 = Time = 0
anim = 8650
pos = 21,-130
postype = p1
bindtime = 30
ontop = 1
ownpal = 1
supermovetime = 30

[State 3100, 1.3]
type = playsnd
trigger1 = Time = 0
value = 0,48
volume = -80

[State 3100, 1.3]
type = playsnd
trigger1 = Time = 0
value = 0,58

[State 900, 1.2]
type = Playsnd
trigger1 = Animelem = 6 || Animelem = 10
value = 0,31
volume = 255

[State 950, 3];snap spark
type = Explod
trigger1 = animelem = 6
anim = 901
pos = 8,-132
ontop = 1
ownpal = 1
supermovetime = 30

[State 900, 3];snap spark
type = Explod
trigger1 = Animelem = 10
anim = 901
pos = 32,-121
ontop = 1
ownpal = 1
supermovetime = 30

[State 3711 , 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 10001]
type = S
movetype = A
physics = N
velset = 0,0
anim = 10001

[State 1015, 1]
type = Sprpriority
trigger1 = time = 0
value = 2

[State 1015, 2]
type = velset
trigger1 = time >= 0
x = (p2dist x);1.6

[State 1015, 3]
type = VarSet
trigger1 = MoveContact = 1
trigger2 = time = 60
;trigger2 = AnimTime = 0
v = 1
value = 6

[State 1015, 1]
type = HitDef
trigger1 = time >= 0
attr = S, HA
pausetime = 0, 100
damage = 0,0
sparkxy = -10,-72
sparkno = S9502
guard.sparkno =S710
guardflag = M
hitflag   = MAFP
hitsound = S3300,3
guardsound = S150,1
animtype = Hard
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5,0  
air.velocity = -4.3,0
air.hittime  = 10
air.slidetime = 10
;P1stateno = 10002

[State 1017, 8]
type = Null;ChangeState
trigger1 = moveguarded = 1
value = 10002
ctrl = 0

[State 1016, 9]
type = ChangeState
triggerall = parent, var(57) < 5
trigger1 = Movehit > 0
value = 10002
ctrl = 0

[State 1016, 10]
type = ChangeState
triggerall = parent, var(57) >= 5
trigger1 = MoveContact
value = 10002
ctrl = 0

[State a]
type = DestroySelf
trigger1 = parent, var(57) < 5
trigger1 = time = 40

[State a2]
type = ChangeState
trigger1 = parent, var(57) >= 5
trigger1 = time = 80
value = 10002
ctrl = 0

[Statedef 10002]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 10002
velset = 0,0

[State 3725, Position]
type = PosAdd
trigger1 = time = 0
x = 40

[State 3725, 1]
type = SprPriority
trigger1 = Time = 0
value = -5

[State -2 , 1]
type = Helper
trigger1 = time = 0
trigger2 = time = 3;13
trigger3 = time = 34;44
helpertype = normal
name = "Omega pillar"
id = 10003
postype = p1
pos = -65,0;0,0
stateno = 10003
sprpriority = 5
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 5;10
trigger2 = time = 17;27
trigger3 = time = 44;54
trigger4 = time = 120;130
helpertype = normal
name = "Omega pillar"
id = 10003
postype = p1
pos = -40,0;0,0
stateno = 10003
sprpriority = 5
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 10;20
trigger2 = time = 46;55
trigger3 = time = 74;84
trigger4 = time = 100;114
helpertype = normal
name = "Omega pillar"
id = 10003
postype = p1
pos = -35,0;0,0
stateno = 10003
sprpriority = 5
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 20;30
trigger2 = time = 65;77
trigger3 = time = 80;90
helpertype = normal
name = "Omega pillar"
id = 10003
postype = p1
pos = -10,0;0,0
stateno = 10003
sprpriority = 5
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 30;40
trigger2 = time = 58;68
trigger3 = time = 78;80
trigger4 = time = 110;116
helpertype = normal
name = "Omega pillar"
id = 10003
postype = p1
pos = 0,0;0,0
stateno = 10003
sprpriority = 5
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 40;50
trigger2 = time = 85;95
trigger3 = time = 90;100
helpertype = normal
name = "Omega pillar"
id = 10004
postype = p1
pos = 5,0;0,0
stateno = 10004
sprpriority = -2
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 26;36
trigger2 = time = 50;60
helpertype = normal
name = "Omega pillar"
id = 10004
postype = p1
pos = -45,0;0,0
stateno = 10004
sprpriority = -2
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 60;70
trigger2 = time = 78;88
trigger3 = time = 97;110
helpertype = normal
name = "Omega pillar"
id = 10004
postype = p1
pos = -50,0;0,0
stateno = 10004
sprpriority = -2
keyctrl = 0
ownpal = 0

[State -2 , 1]
type = Helper
trigger1 = time = 130;140
helpertype = normal
name = "Omega pillar"
id = 10005
postype = p1
pos = -30,0;0,0
stateno = 10005
sprpriority = 5
keyctrl = 0
ownpal = 1

[State 3725, 2]
type = VelSet
trigger1 = time >= 0
x = 0

[State 3725, 3]
type = DestroySelf
trigger1 = Time = 130

[Statedef 10003]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 10003

[State 2560,2]
type = EnvShake
trigger1 = time = 0
time = 20

[State 2560, 3]
type = VelSet
trigger1 = time >= 0
x = 0

[State 2560, 4]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 2560, 5]
type = HitDef
trigger1 = time = 0
trigger1 = Var(1) = 0
attr = S, HA
persistent = 0
animtype  = Hard
pausetime = 0, 5
guard.pausetime = 0, 60
damage = 5,1
sparkxy = -10,-72
sparkno = S9502
guard.sparkno =S710
guardflag = M
hitflag   = MAFP
;hitsound = S3300,3
guardsound = S0, 26
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-10
air.velocity = 0,-10
air.hittime  = 10
air.slidetime = 10
P2stateno = 10020
fall.recover = 0
kill = 0

[State 2560, 6]
type = VarSet
trigger1 = movecontact = 0
v = 1
value = 0

[State 3510 , 7]
type = PlaySnd
trigger1 = time = 0
value = 668,1

[State 2570, 3]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 900)
trigger1 = movehit = 1
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-80
random = 90,95
bindtime = 1
ignorehitpause = 1

[State 2570, 3]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 450)
trigger1 = movehit = 1
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-80
random = 90,90
bindtime = 1
ignorehitpause = 1

[State 2570, 3]
type = Explod
triggerall = (NumExplod(2200) < 2) && (Random < 400)
trigger1 = movehit = 1
anim = 2202
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-80
random = 85,85
bindtime = 1
ignorehitpause = 1

[State 2570 , 1]
type = Explod
triggerall = (NumExplod(2200) < 1) && (Random < 300)
trigger1 = movehit = 1
anim = 2203
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -30,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 2570 , 1]
type = Explod
triggerall = (NumExplod(2200) < 1) && (Random < 500)
trigger1 = movehit = 1
anim = 2203
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -20,-40
random = 100,80
bindtime = 1
ignorehitpause = 1

[State -3, ]
type = varset
trigger1 = AnimTime = 0
var(13) = 0

[State 2560, 9]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 10020]
type    = A
physics = N
movetype= H
velset = 0,0

[State 9000, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 5050, 1]
type = ChangeAnim
trigger1 = time = 0
value = 5030

[State 100, 5]
type = velset
trigger1 = time = 8
y = -6

[State 100, 5]
type = veladd
trigger1 = time >= 8
y = 0.9

[State 3010, 12]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[Statedef 10004]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 10003

[State 2575,2]
type = EnvShake
trigger1 = time = 0
time = 20

[State 2575,6]
type = EnvColor
triggerall = movehit = 1
trigger1 = AnimElem = 8
value = 230,230,230
time = 1

[State 2575, 3]
type = VelSet
trigger1 = time >= 0
x = 0

[State 2575, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 2575, 5]
type = HitDef
trigger1 = time = 0
trigger1 = Var(1) = 0
attr = S, HA
persistent = 0
animtype  = Hard
pausetime = 0, 0
guard.pausetime = 0, 60
damage = 5,1
sparkxy = -10,-72
sparkno = S9502
guard.sparkno =S710
guardflag = M
hitflag   = MAFP
;hitsound = S3300,3
guardsound = S0, 26
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0,-10
air.velocity = 0,-10
air.hittime  = 10
air.slidetime = 10
fall.recover = 0
kill = 0

[State 2575, 6]
type = VarSet
trigger1 = movecontact = 0
v = 1
value = 0

[State 2575 , 7]
type = PlaySnd
trigger1 = time = 0
value = 668,1

[State 2570, 3]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 900)
trigger1 = movehit = 1
anim = 2200
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-80
random = 90,95
bindtime = 1
ignorehitpause = 1

[State 2570, 3]
type = Explod
triggerall = (NumExplod(2200) < 3) && (Random < 450)
trigger1 = movehit = 1
anim = 2201
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-80
random = 90,90
bindtime = 1
ignorehitpause = 1

[State 2570, 3]
type = Explod
triggerall = (NumExplod(2200) < 2) && (Random < 400)
trigger1 = movehit = 1
anim = 2202
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = 0,-80
random = 85,85
bindtime = 1
ignorehitpause = 1

[State 2570 , 1]
type = Explod
triggerall = (NumExplod(2200) < 1) && (Random < 300)
trigger1 = movehit = 1
anim = 2203
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -30,-60
random = 100,100
bindtime = 1
ignorehitpause = 1

[State 2570 , 1]
type = Explod
triggerall = (NumExplod(2200) < 1) && (Random < 500)
trigger1 = movehit = 1
anim = 2203
ID = 2200
ownpal = 1
sprpriority = 5
postype = p2
pos = -20,-40
random = 100,80
bindtime = 1
ignorehitpause = 1

[State 2575, 9]
type = DestroySelf
trigger1 = AnimTime = 0

;파이널!Final!
[Statedef 10005]
type = S
movetype = A
physics = N
velset = 0,0,0
anim = 668;10005

[State 2578,2]
type = EnvShake
trigger1 = time = 0
time = 20

[State 2578,6]
type = EnvColor
triggerall = movehit = 1
trigger1 = AnimElem = 3
value = 230,230,230
time = 1

[State 2578, 3]
type = VelSet
trigger1 = time >= 0
x = 0

[State 2578, 4]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 2578, 5]
type = HitDef
trigger1 = time = 0
trigger1 = Var(1) = 0
attr = S, HA
persistent = 0
animtype  = Hard
pausetime = 0,40
damage = 100,20
sparkxy = -10,-72
sparkno = S9502
guard.sparkno =S710
guardflag = M
hitflag   = MAFP
hitsound = S0, 25
guardsound = S0, 26
ground.type = Low
ground.slidetime = 0
ground.hittime  = 0
ground.velocity =-5,0  
air.velocity = -4.3,0
air.hittime  = 10
air.slidetime = 10
P2stateno = 7105
fall.recover = 0

[State 1010, 7]
type = explod
trigger1 = time = 0
anim = 8120
pos = -20,50
postype = p1
sprpriority = 2
ownpal = 0
supermove = 1
bindtime = 1

[State 2578, 6]
type = VarSet
trigger1 = movecontact = 0
v = 1
value = 0

[State 2578 , 7]
type = PlaySnd
trigger1 = time = 0
value = 668,2

[State 2578, 8]
type = Null;Helper
trigger1 = Movehit = 1
name = "Blue Vortex"
pos = 36,0
stateno = 2580
helpertype = normal
ownpal = 1
sprpriority = -2

[State 2578, 9]
type = DestroySelf
trigger1 = AnimTime = 0